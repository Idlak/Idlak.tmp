<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: SigmoidComponent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1nnet3_1_1SigmoidComponent.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classkaldi_1_1nnet3_1_1SigmoidComponent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SigmoidComponent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SigmoidComponent:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1SigmoidComponent__inherit__graph.png" border="0" usemap="#SigmoidComponent_inherit__map" alt="Inheritance graph"/></div>
<map name="SigmoidComponent_inherit__map" id="SigmoidComponent_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for SigmoidComponent:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1SigmoidComponent__coll__graph.png" border="0" usemap="#SigmoidComponent_coll__map" alt="Collaboration graph"/></div>
<map name="SigmoidComponent_coll__map" id="SigmoidComponent_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7ba7ecec3afb2ab2b6fadf4f23d266a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a7ba7ecec3afb2ab2b6fadf4f23d266a6">SigmoidComponent</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> &amp;other)</td></tr>
<tr class="separator:a7ba7ecec3afb2ab2b6fadf4f23d266a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d6ae9788b795d0f02f43abd12a3c40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ae7d6ae9788b795d0f02f43abd12a3c40">SigmoidComponent</a> ()</td></tr>
<tr class="separator:ae7d6ae9788b795d0f02f43abd12a3c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d951f58073f362411ee482aa469975"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#af2d951f58073f362411ee482aa469975">Type</a> () const</td></tr>
<tr class="memdesc:af2d951f58073f362411ee482aa469975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string such as "SigmoidComponent", describing the type of the object.  <a href="#af2d951f58073f362411ee482aa469975">More...</a><br /></td></tr>
<tr class="separator:af2d951f58073f362411ee482aa469975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a16a6da3a5108ec53e759722a51fd47"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47">Properties</a> () const</td></tr>
<tr class="memdesc:a4a16a6da3a5108ec53e759722a51fd47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bitmask of the component's properties.  <a href="#a4a16a6da3a5108ec53e759722a51fd47">More...</a><br /></td></tr>
<tr class="separator:a4a16a6da3a5108ec53e759722a51fd47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de31388e6c4839d855713baedc4f44b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a1de31388e6c4839d855713baedc4f44b">Copy</a> () const</td></tr>
<tr class="memdesc:a1de31388e6c4839d855713baedc4f44b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies component (deep copy).  <a href="#a1de31388e6c4839d855713baedc4f44b">More...</a><br /></td></tr>
<tr class="separator:a1de31388e6c4839d855713baedc4f44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1f1b05a170bd81a544caefe1acb040"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a8f1f1b05a170bd81a544caefe1acb040">Propagate</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *out) const</td></tr>
<tr class="memdesc:a8f1f1b05a170bd81a544caefe1acb040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate function.  <a href="#a8f1f1b05a170bd81a544caefe1acb040">More...</a><br /></td></tr>
<tr class="separator:a8f1f1b05a170bd81a544caefe1acb040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4995b635cf89b78c8f83f3501444f50"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ab4995b635cf89b78c8f83f3501444f50">Backprop</a> (const std::string &amp;debug_info, const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv, void *memo, <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *to_update, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *in_deriv) const</td></tr>
<tr class="memdesc:ab4995b635cf89b78c8f83f3501444f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update.  <a href="#ab4995b635cf89b78c8f83f3501444f50">More...</a><br /></td></tr>
<tr class="separator:ab4995b635cf89b78c8f83f3501444f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6c79cbaf8c63ca2e31105dd55bb4ab"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">StoreStats</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, void *memo)</td></tr>
<tr class="memdesc:acd6c79cbaf8c63ca2e31105dd55bb4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function may store stats on average activation values, and for some component types, the average value of the derivative of the nonlinearity.  <a href="#acd6c79cbaf8c63ca2e31105dd55bb4ab">More...</a><br /></td></tr>
<tr class="separator:acd6c79cbaf8c63ca2e31105dd55bb4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a></td></tr>
<tr class="memitem:ad4a059059ef31029be1ea3fcd0f47ecc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4a059059ef31029be1ea3fcd0f47ecc">NonlinearComponent</a> ()</td></tr>
<tr class="separator:ad4a059059ef31029be1ea3fcd0f47ecc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0eccd020962c712f701d164de0111ea inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad0eccd020962c712f701d164de0111ea">NonlinearComponent</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a> &amp;other)</td></tr>
<tr class="separator:ad0eccd020962c712f701d164de0111ea inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4cb6aed1f1980c2c36f34e09ceea0e0 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">InputDim</a> () const</td></tr>
<tr class="memdesc:ad4cb6aed1f1980c2c36f34e09ceea0e0 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns input-dimension of this component.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">More...</a><br /></td></tr>
<tr class="separator:ad4cb6aed1f1980c2c36f34e09ceea0e0 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323155ad8034c0b14762dd78ae4415b5 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a323155ad8034c0b14762dd78ae4415b5">OutputDim</a> () const</td></tr>
<tr class="memdesc:a323155ad8034c0b14762dd78ae4415b5 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns output-dimension of this component.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a323155ad8034c0b14762dd78ae4415b5">More...</a><br /></td></tr>
<tr class="separator:a323155ad8034c0b14762dd78ae4415b5 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f5c35427c2657c50173313e99e3f01 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ac4f5c35427c2657c50173313e99e3f01">InitFromConfig</a> (<a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *cfl)</td></tr>
<tr class="memdesc:ac4f5c35427c2657c50173313e99e3f01 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> object.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ac4f5c35427c2657c50173313e99e3f01">More...</a><br /></td></tr>
<tr class="separator:ac4f5c35427c2657c50173313e99e3f01 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7d2790fc7e94fe9780ccc937de1270 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="memdesc:a8e7d2790fc7e94fe9780ccc937de1270 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">We implement Read at this level as it just needs the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222" title="Returns a string such as &quot;SigmoidComponent&quot;, describing the type of the object. ">Type()</a>.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">More...</a><br /></td></tr>
<tr class="separator:a8e7d2790fc7e94fe9780ccc937de1270 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfee972431c5488d69a56fc1114c7cdc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#abfee972431c5488d69a56fc1114c7cdc">ZeroStats</a> ()</td></tr>
<tr class="memdesc:abfee972431c5488d69a56fc1114c7cdc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Components that provide an implementation of StoreStats should also provide an implementation of <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#abfee972431c5488d69a56fc1114c7cdc" title="Components that provide an implementation of StoreStats should also provide an implementation of Zero...">ZeroStats()</a>, to set those stats to zero.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#abfee972431c5488d69a56fc1114c7cdc">More...</a><br /></td></tr>
<tr class="separator:abfee972431c5488d69a56fc1114c7cdc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245d65d566725422b859c99bff7623f8 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a245d65d566725422b859c99bff7623f8">Info</a> () const</td></tr>
<tr class="memdesc:a245d65d566725422b859c99bff7623f8 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns some text-form information about this component, for diagnostics.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a245d65d566725422b859c99bff7623f8">More...</a><br /></td></tr>
<tr class="separator:a245d65d566725422b859c99bff7623f8 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f354fd5f096134162f01719096e6fc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a68f354fd5f096134162f01719096e6fc">Write</a> (std::ostream &amp;os, <a class="el" href="classbool.html">bool</a> binary) const</td></tr>
<tr class="memdesc:a68f354fd5f096134162f01719096e6fc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write component to stream.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a68f354fd5f096134162f01719096e6fc">More...</a><br /></td></tr>
<tr class="separator:a68f354fd5f096134162f01719096e6fc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4fc4a0524ae8957baf45b8cb168843 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">Scale</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> scale)</td></tr>
<tr class="memdesc:a5a4fc4a0524ae8957baf45b8cb168843 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called on &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> scales the parameters by "scale" when called by an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a>.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">More...</a><br /></td></tr>
<tr class="separator:a5a4fc4a0524ae8957baf45b8cb168843 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb3e97b46276e3c9f4f696c2bef3943 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">Add</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> alpha, const <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> &amp;other)</td></tr>
<tr class="memdesc:acdb3e97b46276e3c9f4f696c2bef3943 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called by &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> adds the parameters of another updatable component, times some constant, to the current parameters.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">More...</a><br /></td></tr>
<tr class="separator:acdb3e97b46276e3c9f4f696c2bef3943 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced42a39258a3786f1f3d8b31314913c inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#aced42a39258a3786f1f3d8b31314913c">ConsolidateMemory</a> ()</td></tr>
<tr class="memdesc:aced42a39258a3786f1f3d8b31314913c inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function relates to memory management, and avoiding fragmentation.  <a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#aced42a39258a3786f1f3d8b31314913c">More...</a><br /></td></tr>
<tr class="separator:aced42a39258a3786f1f3d8b31314913c inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f1f0e24e9686c2024b06c7ae1308bc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; double &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#aa4f1f0e24e9686c2024b06c7ae1308bc">ValueSum</a> () const</td></tr>
<tr class="separator:aa4f1f0e24e9686c2024b06c7ae1308bc inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96b07c291b34ff7668c6b7c79e2de99 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; double &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ab96b07c291b34ff7668c6b7c79e2de99">DerivSum</a> () const</td></tr>
<tr class="separator:ab96b07c291b34ff7668c6b7c79e2de99 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbe6564fa2d5405c92e164c6483f124 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a1cbe6564fa2d5405c92e164c6483f124">Count</a> () const</td></tr>
<tr class="separator:a1cbe6564fa2d5405c92e164c6483f124 inherit pub_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1nnet3_1_1Component"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1nnet3_1_1Component')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></td></tr>
<tr class="memitem:a9d7b185ac981780bcfaed7dfdd8908d8 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a9d7b185ac981780bcfaed7dfdd8908d8">GetInputIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *desired_indexes) const</td></tr>
<tr class="memdesc:a9d7b185ac981780bcfaed7dfdd8908d8 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="classkaldi_1_1nnet3_1_1Component.html#a9d7b185ac981780bcfaed7dfdd8908d8">More...</a><br /></td></tr>
<tr class="separator:a9d7b185ac981780bcfaed7dfdd8908d8 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529c07610dd915a30e452f80b8bb5fc0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a529c07610dd915a30e452f80b8bb5fc0">IsComputable</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, const <a class="el" href="classkaldi_1_1nnet3_1_1IndexSet.html">IndexSet</a> &amp;input_index_set, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *used_inputs) const</td></tr>
<tr class="memdesc:a529c07610dd915a30e452f80b8bb5fc0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components, and it exists to make it possible to manage optionally-required inputs.  <a href="classkaldi_1_1nnet3_1_1Component.html#a529c07610dd915a30e452f80b8bb5fc0">More...</a><br /></td></tr>
<tr class="separator:a529c07610dd915a30e452f80b8bb5fc0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92fc16eadbf5faafb1aeb4b90614d691 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a92fc16eadbf5faafb1aeb4b90614d691">ReorderIndexes</a> (std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *input_indexes, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *output_indexes) const</td></tr>
<tr class="memdesc:a92fc16eadbf5faafb1aeb4b90614d691 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="classkaldi_1_1nnet3_1_1Component.html#a92fc16eadbf5faafb1aeb4b90614d691">More...</a><br /></td></tr>
<tr class="separator:a92fc16eadbf5faafb1aeb4b90614d691 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3829084b3e064ff320153ff4b6cfd44 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ad3829084b3e064ff320153ff4b6cfd44">PrecomputeIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;input_indexes, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;output_indexes, <a class="el" href="classbool.html">bool</a> need_backprop) const</td></tr>
<tr class="memdesc:ad3829084b3e064ff320153ff4b6cfd44 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must return NULL for simple Components.  <a href="classkaldi_1_1nnet3_1_1Component.html#ad3829084b3e064ff320153ff4b6cfd44">More...</a><br /></td></tr>
<tr class="separator:ad3829084b3e064ff320153ff4b6cfd44 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eacf8174f9fa190732c320ee3cf1d62 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a8eacf8174f9fa190732c320ee3cf1d62">DeleteMemo</a> (void *memo) const</td></tr>
<tr class="memdesc:a8eacf8174f9fa190732c320ee3cf1d62 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function only needs to be overwritten by Components that return a non-NULL memo from their <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function.  <a href="classkaldi_1_1nnet3_1_1Component.html#a8eacf8174f9fa190732c320ee3cf1d62">More...</a><br /></td></tr>
<tr class="separator:a8eacf8174f9fa190732c320ee3cf1d62 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0171e1571f18dc6a27c8b041de55feec inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">Component</a> ()</td></tr>
<tr class="separator:a0171e1571f18dc6a27c8b041de55feec inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df822d4b95a18b1df2529896638daeb inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0df822d4b95a18b1df2529896638daeb">~Component</a> ()</td></tr>
<tr class="separator:a0df822d4b95a18b1df2529896638daeb inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2a07bdc829f114c398957dc2d2d1e60a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a2a07bdc829f114c398957dc2d2d1e60a">RepairGradients</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *in_deriv, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> *to_update) const</td></tr>
<tr class="separator:a2a07bdc829f114c398957dc2d2d1e60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7949156595caad0b51acc857f509f359"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a7949156595caad0b51acc857f509f359">operator=</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> &amp;other)</td></tr>
<tr class="separator:a7949156595caad0b51acc857f509f359"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classkaldi_1_1nnet3_1_1Component')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></td></tr>
<tr class="memitem:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a4ddbc3371d68afbe87908b87b8c0a6ae">ReadNew</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="memdesc:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read component from stream (works out its type). Dies on error.  <a href="classkaldi_1_1nnet3_1_1Component.html#a4ddbc3371d68afbe87908b87b8c0a6ae">More...</a><br /></td></tr>
<tr class="separator:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">NewComponentOfType</a> (const std::string &amp;type)</td></tr>
<tr class="memdesc:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> of the given type e.g.  <a href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">More...</a><br /></td></tr>
<tr class="separator:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classkaldi_1_1nnet3_1_1NonlinearComponent"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classkaldi_1_1nnet3_1_1NonlinearComponent')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a></td></tr>
<tr class="memitem:a05589fbab0657f08285ebdfe93f5ec9e inherit pro_types_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a05589fbab0657f08285ebdfe93f5ec9eaf19ccdcc380a6101b48bbed607fab7c5">kUnsetThreshold</a> = -1000
 }</td></tr>
<tr class="separator:a05589fbab0657f08285ebdfe93f5ec9e inherit pro_types_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a></td></tr>
<tr class="memitem:ac93780de3a340f7a3a9dbbc16527180a inherit pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ac93780de3a340f7a3a9dbbc16527180a">StoreStatsInternal</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *deriv=NULL)</td></tr>
<tr class="separator:ac93780de3a340f7a3a9dbbc16527180a inherit pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac3a6eed80012633dab1de64703e79f inherit pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#abac3a6eed80012633dab1de64703e79f">StoreBackpropStats</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv)</td></tr>
<tr class="separator:abac3a6eed80012633dab1de64703e79f inherit pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b54418c0a1f3ce6010ac2363912ce73 inherit pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a7b54418c0a1f3ce6010ac2363912ce73">operator=</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a> &amp;other)</td></tr>
<tr class="separator:a7b54418c0a1f3ce6010ac2363912ce73 inherit pro_methods_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a></td></tr>
<tr class="memitem:a08031ac0ce0b0973ed948e43ebd706be inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a></td></tr>
<tr class="separator:a08031ac0ce0b0973ed948e43ebd706be inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ab993f430cb6dfa5c9dedca95791a4 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a></td></tr>
<tr class="separator:a62ab993f430cb6dfa5c9dedca95791a4 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7d73549b43c524a1375ee3e858a361 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#afd7d73549b43c524a1375ee3e858a361">value_sum_</a></td></tr>
<tr class="separator:afd7d73549b43c524a1375ee3e858a361 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82b9b33400b3d0960fe430585150fb7 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#af82b9b33400b3d0960fe430585150fb7">deriv_sum_</a></td></tr>
<tr class="separator:af82b9b33400b3d0960fe430585150fb7 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c3546bdf95d749a23d421d3085b319 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a60c3546bdf95d749a23d421d3085b319">count_</a></td></tr>
<tr class="separator:a60c3546bdf95d749a23d421d3085b319 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d20602584878a6a42034cb173e14df inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuVector.html">CuVector</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a01d20602584878a6a42034cb173e14df">oderiv_sumsq_</a></td></tr>
<tr class="separator:a01d20602584878a6a42034cb173e14df inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bb63e6463b073a79afae0855b3971e inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#af8bb63e6463b073a79afae0855b3971e">oderiv_count_</a></td></tr>
<tr class="separator:af8bb63e6463b073a79afae0855b3971e inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7c2d72c3659266213fdb083f70a064 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a0f7c2d72c3659266213fdb083f70a064">num_dims_self_repaired_</a></td></tr>
<tr class="separator:a0f7c2d72c3659266213fdb083f70a064 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea969229215e4ffff8b8af6c35f0dff3 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#aea969229215e4ffff8b8af6c35f0dff3">num_dims_processed_</a></td></tr>
<tr class="separator:aea969229215e4ffff8b8af6c35f0dff3 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e43f67873eeea69c6681690ce02696c inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a6e43f67873eeea69c6681690ce02696c">self_repair_lower_threshold_</a></td></tr>
<tr class="separator:a6e43f67873eeea69c6681690ce02696c inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9072d16b7ef16c86888826f7642ac5c5 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a9072d16b7ef16c86888826f7642ac5c5">self_repair_upper_threshold_</a></td></tr>
<tr class="separator:a9072d16b7ef16c86888826f7642ac5c5 inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ad7b1c65102df149de1ca5d0c7b22c inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">self_repair_scale_</a></td></tr>
<tr class="separator:a57ad7b1c65102df149de1ca5d0c7b22c inherit pro_attribs_classkaldi_1_1nnet3_1_1NonlinearComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l00222">222</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7ba7ecec3afb2ab2b6fadf4f23d266a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba7ecec3afb2ab2b6fadf4f23d266a6">&#9670;&nbsp;</a></span>SigmoidComponent() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l00224">224</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;: <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4a059059ef31029be1ea3fcd0f47ecc">NonlinearComponent</a>(other) { }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_ad4a059059ef31029be1ea3fcd0f47ecc"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4a059059ef31029be1ea3fcd0f47ecc">kaldi::nnet3::NonlinearComponent::NonlinearComponent</a></div><div class="ttdeci">NonlinearComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00596">nnet-component-itf.cc:596</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7d6ae9788b795d0f02f43abd12a3c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d6ae9788b795d0f02f43abd12a3c40">&#9670;&nbsp;</a></span>SigmoidComponent() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l00225">225</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab4995b635cf89b78c8f83f3501444f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4995b635cf89b78c8f83f3501444f50">&#9670;&nbsp;</a></span>Backprop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Backprop </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debug_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td>
          <td class="paramname"><em>to_update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>in_deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">debug_info</td><td>The component name, to be printed out in any warning messages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_value</td><td>The matrix that was given as input to the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsInput == 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_value</td><td>The matrix that was output from the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsOutput == 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_deriv</td><td>The derivative at the output of this component. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">memo</td><td>This will normally be NULL, but for component types that set the flag kUsesMemo, this will be the return value of the <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function that corresponds to this <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ab4995b635cf89b78c8f83f3501444f50" title="Backprop function; depending on which of the arguments &#39;to_update&#39; and &#39;in_deriv&#39; are non-NULL...">Backprop()</a> function. Ownership of any pointers is not transferred to the Backprop function; <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a8eacf8174f9fa190732c320ee3cf1d62" title="This virtual function only needs to be overwritten by Components that return a non-NULL memo from the...">DeleteMemo()</a> will be called to delete it. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_update</td><td>If model update is desired, the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> to be updated, else NULL. Does not have to be identical to this. If supplied, you can assume that to_update-&gt;<a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a> &amp; kUpdatableComponent is nonzero. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">in_deriv</td><td>The derivative at the input of this component, if needed (else NULL). If <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropInPlace, may be the same matrix as out_deriv. If <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropAdds, this is added to by the Backprop routine, else it is set. The component code chooses which mode to work in, based on convenience. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ada8f5f2c358622ef522a7f2b9d2833ca">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l00325">325</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p class="reference">References <a class="el" href="cu-matrix_8cc_source.html#l01748">CuMatrixBase&lt; Real &gt;::DiffSigmoid()</a>, and <a class="el" href="nnet-component-itf_8cc_source.html#l00368">NonlinearComponent::StoreBackpropStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                                                         {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (in_deriv != NULL) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    in_deriv-&gt;DiffSigmoid(out_value, out_deriv);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ae7d6ae9788b795d0f02f43abd12a3c40">SigmoidComponent</a> *to_update = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ae7d6ae9788b795d0f02f43abd12a3c40">SigmoidComponent</a>*<span class="keyword">&gt;</span>(to_update_in);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (to_update != NULL) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <a class="code" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a2a07bdc829f114c398957dc2d2d1e60a">RepairGradients</a>(out_value, in_deriv, to_update);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      to_update-&gt;StoreBackpropStats(out_deriv);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1SigmoidComponent_html_ae7d6ae9788b795d0f02f43abd12a3c40"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ae7d6ae9788b795d0f02f43abd12a3c40">kaldi::nnet3::SigmoidComponent::SigmoidComponent</a></div><div class="ttdeci">SigmoidComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l00225">nnet-simple-component.h:225</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1SigmoidComponent_html_a2a07bdc829f114c398957dc2d2d1e60a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a2a07bdc829f114c398957dc2d2d1e60a">kaldi::nnet3::SigmoidComponent::RepairGradients</a></div><div class="ttdeci">void RepairGradients(const CuMatrixBase&lt; BaseFloat &gt; &amp;out_value, CuMatrixBase&lt; BaseFloat &gt; *in_deriv, SigmoidComponent *to_update) const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8cc_source.html#l00343">nnet-simple-component.cc:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1de31388e6c4839d855713baedc4f44b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de31388e6c4839d855713baedc4f44b">&#9670;&nbsp;</a></span>Copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a>* Copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies component (deep copy). </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aa46d9c7de00be8203e16a6e55af0afef">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l00230">230</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p class="reference">References <a class="el" href="nnet-simple-component_8cc_source.html#l00062">PnormComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l00054">PnormComponent::Propagate()</a>, and <a class="el" href="nnet-component-itf_8h_source.html#l00186">Component::StoreStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ae7d6ae9788b795d0f02f43abd12a3c40">SigmoidComponent</a>(*<span class="keyword">this</span>); }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1SigmoidComponent_html_ae7d6ae9788b795d0f02f43abd12a3c40"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ae7d6ae9788b795d0f02f43abd12a3c40">kaldi::nnet3::SigmoidComponent::SigmoidComponent</a></div><div class="ttdeci">SigmoidComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-simple-component_8h_source.html#l00225">nnet-simple-component.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7949156595caad0b51acc857f509f359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7949156595caad0b51acc857f509f359">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f1f1b05a170bd81a544caefe1acb040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f1f1b05a170bd81a544caefe1acb040">&#9670;&nbsp;</a></span>Propagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * Propagate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>The input to this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0" title="Returns input-dimension of this component. ">InputDim()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>The output of this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a323155ad8034c0b14762dd78ae4415b5" title="Returns output-dimension of this component. ">OutputDim()</a>. Note: output of this component will be added to the initial value of "out" if <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kPropagateAdds != 0; otherwise the output will be set and the initial value ignored. Each <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> chooses whether it is more convenient implementation-wise to add or set, and the calling code has to deal with it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Normally returns NULL, but may return a non-NULL value for components which have the flag kUsesMemo set. This value will be passed into the corresponding Backprop routine. </dd></dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l00318">318</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p class="reference">References <a class="el" href="cu-matrix_8cc_source.html#l01521">CuMatrixBase&lt; Real &gt;::Sigmoid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                                                     {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  out-&gt;Sigmoid(in);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a4a16a6da3a5108ec53e759722a51fd47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a16a6da3a5108ec53e759722a51fd47">&#9670;&nbsp;</a></span>Properties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 Properties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return bitmask of the component's properties. </p>
<p>These properties depend only on the component's type. See enum ComponentProperties. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l00227">227</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>

<p class="reference">References <a class="el" href="nnet-component-itf_8h_source.html#l00067">kaldi::nnet3::kBackpropNeedsOutput</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00049">kaldi::nnet3::kPropagateInPlace</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00038">kaldi::nnet3::kSimpleComponent</a>, and <a class="el" href="nnet-component-itf_8h_source.html#l00071">kaldi::nnet3::kStoresStats</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                   {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a5530b2f8f01fac9e6e73fd29a65d4127">kSimpleComponent</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2a37e781d9be4e2cb09699a840dde841">kBackpropNeedsOutput</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2f52823d0c7fdc03b0be47662c66146d">kPropagateInPlace</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3affff5abfeafd5643bee15f1daafe6827">kStoresStats</a>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a2a37e781d9be4e2cb09699a840dde841"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2a37e781d9be4e2cb09699a840dde841">kaldi::nnet3::kBackpropNeedsOutput</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00067">nnet-component-itf.h:67</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a2f52823d0c7fdc03b0be47662c66146d"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2f52823d0c7fdc03b0be47662c66146d">kaldi::nnet3::kPropagateInPlace</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00049">nnet-component-itf.h:49</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a5530b2f8f01fac9e6e73fd29a65d4127"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a5530b2f8f01fac9e6e73fd29a65d4127">kaldi::nnet3::kSimpleComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00038">nnet-component-itf.h:38</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3affff5abfeafd5643bee15f1daafe6827"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3affff5abfeafd5643bee15f1daafe6827">kaldi::nnet3::kStoresStats</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00071">nnet-component-itf.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a07bdc829f114c398957dc2d2d1e60a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a07bdc829f114c398957dc2d2d1e60a">&#9670;&nbsp;</a></span>RepairGradients()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RepairGradients </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>in_deriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a> *&#160;</td>
          <td class="paramname"><em>to_update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l00343">343</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p class="reference">References <a class="el" href="cu-vector_8cc_source.html#l01122">CuVectorBase&lt; Real &gt;::Add()</a>, <a class="el" href="cu-matrix_8cc_source.html#l01402">CuMatrixBase&lt; Real &gt;::AddMatDiagVec()</a>, <a class="el" href="cu-vector_8cc_source.html#l01202">CuVectorBase&lt; Real &gt;::AddVec()</a>, <a class="el" href="cu-matrix_8cc_source.html#l01248">CuMatrixBase&lt; Real &gt;::AddVecToRows()</a>, <a class="el" href="cu-matrix_8cc_source.html#l02445">CuMatrixBase&lt; Real &gt;::ApplyHeaviside()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00146">DropoutComponent::dim_</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="matrix-common_8h_source.html#l00034">kaldi::kNoTrans</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00695">NonlinearComponent::num_dims_processed_</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00694">NonlinearComponent::num_dims_self_repaired_</a>, <a class="el" href="kaldi-math_8h_source.html#l00151">kaldi::RandUniform()</a>, and <a class="el" href="cu-vector_8cc_source.html#l00291">CuVectorBase&lt; Real &gt;::Sum()</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                       {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(to_update != NULL);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// maximum possible derivative of SigmoidComponent is 0.25.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// the default lower-threshold on the derivative, below which we</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// add a term to the derivative to encourage the inputs to the sigmoid</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// to be closer to zero, is 0.05, which means the derivative is on average</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// 5 times smaller than its maximum possible value.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> default_lower_threshold = 0.05;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// we use this &#39;repair_probability&#39; (hardcoded for now) to limit</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// this code to running on about half of the minibatches.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> repair_probability = 0.5;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  to_update-&gt;num_dims_processed_ += <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">self_repair_scale_</a> == 0.0 || <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a60c3546bdf95d749a23d421d3085b319">count_</a> == 0.0 || <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#af82b9b33400b3d0960fe430585150fb7">deriv_sum_</a>.<a class="code" href="classkaldi_1_1CuVectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">Dim</a>() != <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a> ||</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <a class="code" href="namespacekaldi.html#a0c4bcfc10bea5ed0d3e3cf6d74922121">RandUniform</a>() &gt; repair_probability)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// check that the self-repair scale is in a reasonable range.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">self_repair_scale_</a> &gt; 0.0 &amp;&amp; <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">self_repair_scale_</a> &lt; 0.1);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> unset = <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a05589fbab0657f08285ebdfe93f5ec9eaf19ccdcc380a6101b48bbed607fab7c5">kUnsetThreshold</a>; <span class="comment">// -1000.0</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> lower_threshold = (<a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a6e43f67873eeea69c6681690ce02696c">self_repair_lower_threshold_</a> == unset ?</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                               default_lower_threshold :</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                               <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a6e43f67873eeea69c6681690ce02696c">self_repair_lower_threshold_</a>) *</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a60c3546bdf95d749a23d421d3085b319">count_</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a9072d16b7ef16c86888826f7642ac5c5">self_repair_upper_threshold_</a> != unset) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Do not set the self-repair-upper-threshold for sigmoid &quot;</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;components, it does nothing.&quot;</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// thresholds_vec is actually a 1-row matrix.  (the ApplyHeaviside</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// function isn&#39;t defined for vectors).</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  CuMatrix&lt;BaseFloat&gt; thresholds(1, <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  CuSubVector&lt;BaseFloat&gt; thresholds_vec(thresholds, 0);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  thresholds_vec.AddVec(-1.0, <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#af82b9b33400b3d0960fe430585150fb7">deriv_sum_</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  thresholds_vec.Add(lower_threshold);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  thresholds.ApplyHeaviside();</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  to_update-&gt;num_dims_self_repaired_ += thresholds_vec.Sum();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// At this point, &#39;thresholds_vec&#39; contains a 1 for each dimension of</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// the output that is &#39;problematic&#39;, i.e. for which the avg-deriv</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// is less than the self-repair lower threshold, and a 0 for</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// each dimension that is not problematic.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// what we want to do is to add</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// -self_repair_scale_ / repair_probability times (2 * output-valiue - 1.0)</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// to the input derivative for each problematic dimension.</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// Here, 2 * output - 1.0 is a version of the sigmoid that goes from -1.0 to</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// 1.0, like a tanh.  the negative sign is so that for inputs &lt;0, we push them</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// up towards 0, and for inputs &gt;0, we push them down towards 0.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Our use of this sigmoid-type function here is just a convenience since</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// we have it available.  We could use just about any function that is positive</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// for inputs &lt; 0 and negative for inputs &gt; 0.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// We can rearrange the above as: for only the problematic columns,</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">//   input-deriv -= 2 * self-repair-scale / repair-probabilty * output</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">//   input-deriv +=  self-repair-scale / repair-probabilty</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// which we can write as:</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">//   input-deriv -= 2 * self-repair-scale / repair-probabilty * output * thresholds-vec</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">//   input-deriv +=  self-repair-scale / repair-probabilty * thresholds-vec</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  in_deriv-&gt;AddMatDiagVec(-2.0 * <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">self_repair_scale_</a> / repair_probability,</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                          out_value, <a class="code" href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kNoTrans</a>, thresholds_vec);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  in_deriv-&gt;AddVecToRows(<a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">self_repair_scale_</a> / repair_probability,</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                         thresholds_vec);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a57ad7b1c65102df149de1ca5d0c7b22c"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a57ad7b1c65102df149de1ca5d0c7b22c">kaldi::nnet3::NonlinearComponent::self_repair_scale_</a></div><div class="ttdeci">BaseFloat self_repair_scale_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00700">nnet-component-itf.h:700</a></div></div>
<div class="ttc" id="namespacekaldi_html_a0c4bcfc10bea5ed0d3e3cf6d74922121"><div class="ttname"><a href="namespacekaldi.html#a0c4bcfc10bea5ed0d3e3cf6d74922121">kaldi::RandUniform</a></div><div class="ttdeci">float RandUniform(struct RandomState *state=NULL)</div><div class="ttdoc">Returns a random number strictly between 0 and 1. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00151">kaldi-math.h:151</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_af82b9b33400b3d0960fe430585150fb7"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#af82b9b33400b3d0960fe430585150fb7">kaldi::nnet3::NonlinearComponent::deriv_sum_</a></div><div class="ttdeci">CuVector&lt; double &gt; deriv_sum_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00680">nnet-component-itf.h:680</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a60c3546bdf95d749a23d421d3085b319"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a60c3546bdf95d749a23d421d3085b319">kaldi::nnet3::NonlinearComponent::count_</a></div><div class="ttdeci">double count_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00684">nnet-component-itf.h:684</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="namespacekaldi_html_a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d"><div class="ttname"><a href="namespacekaldi.html#a610f4f6c3c8fe58b76713f593b9d724fa6decd3b781a809d748e5221d49f0ab5d">kaldi::kNoTrans</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00034">matrix-common.h:34</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a6e43f67873eeea69c6681690ce02696c"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a6e43f67873eeea69c6681690ce02696c">kaldi::nnet3::NonlinearComponent::self_repair_lower_threshold_</a></div><div class="ttdeci">BaseFloat self_repair_lower_threshold_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00698">nnet-component-itf.h:698</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a9072d16b7ef16c86888826f7642ac5c5"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a9072d16b7ef16c86888826f7642ac5c5">kaldi::nnet3::NonlinearComponent::self_repair_upper_threshold_</a></div><div class="ttdeci">BaseFloat self_repair_upper_threshold_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00699">nnet-component-itf.h:699</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1CuVectorBase_html_af3d58f15749a15d89b0ec5819dd7b7f2"><div class="ttname"><a href="classkaldi_1_1CuVectorBase.html#af3d58f15749a15d89b0ec5819dd7b7f2">kaldi::CuVectorBase::Dim</a></div><div class="ttdeci">MatrixIndexT Dim() const</div><div class="ttdoc">Dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="cu-vector_8h_source.html#l00068">cu-vector.h:68</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::NonlinearComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00673">nnet-component-itf.h:673</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a05589fbab0657f08285ebdfe93f5ec9eaf19ccdcc380a6101b48bbed607fab7c5"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a05589fbab0657f08285ebdfe93f5ec9eaf19ccdcc380a6101b48bbed607fab7c5">kaldi::nnet3::NonlinearComponent::kUnsetThreshold</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00650">nnet-component-itf.h:650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd6c79cbaf8c63ca2e31105dd55bb4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6c79cbaf8c63ca2e31105dd55bb4ab">&#9670;&nbsp;</a></span>StoreStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StoreStats </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function may store stats on average activation values, and for some component types, the average value of the derivative of the nonlinearity. </p>
<p>It only does something for those components that have nonzero <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kStoresStats.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_value</td><td>The input to the <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function. Note: if the component sets the flag kPropagateInPlace, this should not be used; the empty matrix will be provided here if in-place propagation was used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_value</td><td>The output of the <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">memo</td><td>The 'memo' returned by the <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function; this will usually be NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a304cec15e1a696a5af5f2f5daae7bc4f">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8cc_source.html#l00417">417</a> of file <a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a>.</p>

<p class="reference">References <a class="el" href="matrix-common_8h_source.html#l00039">kaldi::kUndefined</a>, <a class="el" href="cu-matrix_8h_source.html#l00215">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00214">CuMatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="kaldi-math_8cc_source.html#l00094">kaldi::RandInt()</a>, and <a class="el" href="cu-matrix_8cc_source.html#l00497">CuMatrixBase&lt; Real &gt;::Set()</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                              {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// Only store stats about every other minibatch (but on the first minibatch,</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// always store it, which is necessary for the ConsolidateMemory() operation</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// to work correctly.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacekaldi.html#a0361eab3c5ebb78e6be060e6fa78e1a1">RandInt</a>(0, 1) == 0 &amp;&amp; <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a60c3546bdf95d749a23d421d3085b319">count_</a> != 0)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// derivative of the nonlinearity is out_value * (1.0 - out_value);</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  CuMatrix&lt;BaseFloat&gt; temp_deriv(out_value.NumRows(), out_value.NumCols(),</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                 <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  temp_deriv.Set(1.0);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  temp_deriv.AddMat(-1.0, out_value);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  temp_deriv.MulElements(out_value);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ac93780de3a340f7a3a9dbbc16527180a">StoreStatsInternal</a>(out_value, &amp;temp_deriv);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00039">matrix-common.h:39</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_a60c3546bdf95d749a23d421d3085b319"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a60c3546bdf95d749a23d421d3085b319">kaldi::nnet3::NonlinearComponent::count_</a></div><div class="ttdeci">double count_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00684">nnet-component-itf.h:684</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1NonlinearComponent_html_ac93780de3a340f7a3a9dbbc16527180a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ac93780de3a340f7a3a9dbbc16527180a">kaldi::nnet3::NonlinearComponent::StoreStatsInternal</a></div><div class="ttdeci">void StoreStatsInternal(const CuMatrixBase&lt; BaseFloat &gt; &amp;out_value, const CuMatrixBase&lt; BaseFloat &gt; *deriv=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00340">nnet-component-itf.cc:340</a></div></div>
<div class="ttc" id="namespacekaldi_html_a0361eab3c5ebb78e6be060e6fa78e1a1"><div class="ttname"><a href="namespacekaldi.html#a0361eab3c5ebb78e6be060e6fa78e1a1">kaldi::RandInt</a></div><div class="ttdeci">int32 RandInt(int32 min_val, int32 max_val, struct RandomState *state)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8cc_source.html#l00094">kaldi-math.cc:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2d951f58073f362411ee482aa469975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d951f58073f362411ee482aa469975">&#9670;&nbsp;</a></span>Type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string such as "SigmoidComponent", describing the type of the object. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-simple-component_8h_source.html#l00226">226</a> of file <a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;SigmoidComponent&quot;</span>; }</div></div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nnet3/<a class="el" href="nnet-simple-component_8h_source.html">nnet-simple-component.h</a></li>
<li>nnet3/<a class="el" href="nnet-simple-component_8cc_source.html">nnet-simple-component.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html">SigmoidComponent</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
