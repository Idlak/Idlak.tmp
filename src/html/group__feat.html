<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: FeatureExtraction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__feat.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FeatureExtraction</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:resample_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="resample_8h.html">resample.h</a></td></tr>
<tr class="memdesc:resample_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">] <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1ExampleFeatureComputerOptions.html">ExampleFeatureComputerOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is only added for documentation, it is not intended to ever be used.  <a href="structkaldi_1_1ExampleFeatureComputerOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ExampleFeatureComputer.html">ExampleFeatureComputer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is only added for documentation, it is not intended to ever be used.  <a href="classkaldi_1_1ExampleFeatureComputer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl&lt; F &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This templated class is intended for offline feature extraction, i.e.  <a href="classkaldi_1_1OfflineFeatureTpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1FbankOptions.html">FbankOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structkaldi_1_1FbankOptions.html" title="FbankOptions contains basic options for computing filterbank features. ">FbankOptions</a> contains basic options for computing filterbank features.  <a href="structkaldi_1_1FbankOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1FbankComputer.html">FbankComputer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for computing mel-filterbank features; see <a class="el" href="feat.html#feat_mfcc">Computing MFCC features</a> for more information.  <a href="classkaldi_1_1FbankComputer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1DeltaFeaturesOptions.html">DeltaFeaturesOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1DeltaFeatures.html">DeltaFeatures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1ShiftedDeltaFeaturesOptions.html">ShiftedDeltaFeaturesOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ShiftedDeltaFeatures.html">ShiftedDeltaFeatures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1SlidingWindowCmnOptions.html">SlidingWindowCmnOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1MfccOptions.html">MfccOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structkaldi_1_1MfccOptions.html" title="MfccOptions contains basic options for computing MFCC features. ">MfccOptions</a> contains basic options for computing MFCC features.  <a href="structkaldi_1_1MfccOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MfccComputer.html">MfccComputer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1PlpOptions.html">PlpOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structkaldi_1_1PlpOptions.html" title="PlpOptions contains basic options for computing PLP features. ">PlpOptions</a> contains basic options for computing PLP features.  <a href="structkaldi_1_1PlpOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1PlpComputer.html">PlpComputer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the new-style interface to the PLP computation.  <a href="classkaldi_1_1PlpComputer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1SpectrogramOptions.html">SpectrogramOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structkaldi_1_1SpectrogramOptions.html" title="SpectrogramOptions contains basic options for computing spectrogram features. ">SpectrogramOptions</a> contains basic options for computing spectrogram features.  <a href="structkaldi_1_1SpectrogramOptions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1SpectrogramComputer.html">SpectrogramComputer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for computing spectrogram features.  <a href="classkaldi_1_1SpectrogramComputer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1FeatureWindowFunction.html">FeatureWindowFunction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1MelBanksOptions.html">MelBanksOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1MelBanks.html">MelBanks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1PitchExtractionOptions.html">PitchExtractionOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1ProcessPitchOptions.html">ProcessPitchOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1OnlinePitchFeature.html">OnlinePitchFeature</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1OnlineProcessPitch.html">OnlineProcessPitch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This online-feature class implements post processing of pitch features.  <a href="classkaldi_1_1OnlineProcessPitch.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArbitraryResample.html">ArbitraryResample</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class <a class="el" href="classkaldi_1_1ArbitraryResample.html" title="Class ArbitraryResample allows you to resample a signal (assumed zero outside the sample region...">ArbitraryResample</a> allows you to resample a signal (assumed zero outside the sample region, not periodic) at arbitrary specified time values, which don't have to be linearly spaced.  <a href="classkaldi_1_1ArbitraryResample.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1LinearResample.html">LinearResample</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1LinearResample.html" title="LinearResample is a special case of ArbitraryResample, where we want to resample a signal at linearly...">LinearResample</a> is a special case of <a class="el" href="classkaldi_1_1ArbitraryResample.html" title="Class ArbitraryResample allows you to resample a signal (assumed zero outside the sample region...">ArbitraryResample</a>, where we want to resample a signal at linearly spaced intervals (this means we want to upsample or downsample the signal).  <a href="classkaldi_1_1LinearResample.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1FrequencyBanksOptions.html">FrequencyBanksOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1FrequencyBanks.html">FrequencyBanks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga0c3bd79b37c8d0b04808779660bb0c85"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt; <a class="el" href="classkaldi_1_1FbankComputer.html">FbankComputer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga0c3bd79b37c8d0b04808779660bb0c85">Fbank</a></td></tr>
<tr class="separator:ga0c3bd79b37c8d0b04808779660bb0c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c81312933c5da5623d193f14f41522f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt; <a class="el" href="classkaldi_1_1MfccComputer.html">MfccComputer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga5c81312933c5da5623d193f14f41522f">Mfcc</a></td></tr>
<tr class="separator:ga5c81312933c5da5623d193f14f41522f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bfc1ab14b7b27d7d5d9cbe98eaea4f2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt; <a class="el" href="classkaldi_1_1PlpComputer.html">PlpComputer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga7bfc1ab14b7b27d7d5d9cbe98eaea4f2">Plp</a></td></tr>
<tr class="separator:ga7bfc1ab14b7b27d7d5d9cbe98eaea4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa48d1e1a2ab9299800a2d12de7121fce"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt; <a class="el" href="classkaldi_1_1SpectrogramComputer.html">SpectrogramComputer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gaa48d1e1a2ab9299800a2d12de7121fce">Spectrogram</a></td></tr>
<tr class="separator:gaa48d1e1a2ab9299800a2d12de7121fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafd6748dd9dba539209f6126561ce8474"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gafd6748dd9dba539209f6126561ce8474">ComputePowerSpectrum</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *waveform)</td></tr>
<tr class="separator:gafd6748dd9dba539209f6126561ce8474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b867a4f7a70bcbdc3ac09e125e0ec76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga2b867a4f7a70bcbdc3ac09e125e0ec76">ComputeDeltas</a> (const <a class="el" href="structkaldi_1_1DeltaFeaturesOptions.html">DeltaFeaturesOptions</a> &amp;delta_opts, const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;input_features, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output_features)</td></tr>
<tr class="separator:ga2b867a4f7a70bcbdc3ac09e125e0ec76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad61b620d61e761a71030233dcd939dee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gad61b620d61e761a71030233dcd939dee">ComputeShiftedDeltas</a> (const <a class="el" href="structkaldi_1_1ShiftedDeltaFeaturesOptions.html">ShiftedDeltaFeaturesOptions</a> &amp;delta_opts, const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;input_features, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output_features)</td></tr>
<tr class="separator:gad61b620d61e761a71030233dcd939dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d650c792ffea3eba71aaaf0df52d93e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga1d650c792ffea3eba71aaaf0df52d93e">SpliceFrames</a> (const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;input_features, int32 left_context, int32 right_context, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output_features)</td></tr>
<tr class="separator:ga1d650c792ffea3eba71aaaf0df52d93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85f143ad1d8dc191243adaa567cd735a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga85f143ad1d8dc191243adaa567cd735a">ReverseFrames</a> (const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;input_features, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output_features)</td></tr>
<tr class="separator:ga85f143ad1d8dc191243adaa567cd735a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac626f9ce3c50bf797d436a480e8ad386"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gac626f9ce3c50bf797d436a480e8ad386">InitIdftBases</a> (int32 n_bases, int32 dimension, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *mat_out)</td></tr>
<tr class="separator:gac626f9ce3c50bf797d436a480e8ad386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac509a0ded6c5bbd8a955a21726a614f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gac509a0ded6c5bbd8a955a21726a614f5">SlidingWindowCmn</a> (const <a class="el" href="structkaldi_1_1SlidingWindowCmnOptions.html">SlidingWindowCmnOptions</a> &amp;opts, const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;input, <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output)</td></tr>
<tr class="memdesc:gac509a0ded6c5bbd8a955a21726a614f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies sliding-window cepstral mean and/or variance normalization.  <a href="group__feat.html#gac509a0ded6c5bbd8a955a21726a614f5">More...</a><br /></td></tr>
<tr class="separator:gac509a0ded6c5bbd8a955a21726a614f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a4394e7a321cb172a34f001e7dc3eb5"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga3a4394e7a321cb172a34f001e7dc3eb5">NumFrames</a> (int64 num_samples, const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;opts, <a class="el" href="classbool.html">bool</a> flush=true)</td></tr>
<tr class="memdesc:ga3a4394e7a321cb172a34f001e7dc3eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of frames that we can extract from a wave file with the given number of samples in it (assumed to have the same sampling rate as specified in 'opts').  <a href="group__feat.html#ga3a4394e7a321cb172a34f001e7dc3eb5">More...</a><br /></td></tr>
<tr class="separator:ga3a4394e7a321cb172a34f001e7dc3eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga435fdd90bd2708631c43d68d89cd5378"><td class="memItemLeft" align="right" valign="top">int64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga435fdd90bd2708631c43d68d89cd5378">FirstSampleOfFrame</a> (int32 frame, const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;opts)</td></tr>
<tr class="separator:ga435fdd90bd2708631c43d68d89cd5378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46d7bb685639cae24e9aa9077bfdbabd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga46d7bb685639cae24e9aa9077bfdbabd">Dither</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *waveform, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> dither_value)</td></tr>
<tr class="separator:ga46d7bb685639cae24e9aa9077bfdbabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04035df68c8b47aef47844494e226239"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga04035df68c8b47aef47844494e226239">Preemphasize</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *waveform, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> preemph_coeff)</td></tr>
<tr class="separator:ga04035df68c8b47aef47844494e226239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7194c30a03017f3b84a50176e8c0f7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gaf7194c30a03017f3b84a50176e8c0f7b">ProcessWindow</a> (const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;opts, const <a class="el" href="structkaldi_1_1FeatureWindowFunction.html">FeatureWindowFunction</a> &amp;window_function, <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *window, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *log_energy_pre_window=NULL)</td></tr>
<tr class="memdesc:gaf7194c30a03017f3b84a50176e8c0f7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does all the windowing steps after actually extracting the windowed signal: depeding on the configuration, it does dithering, dc offset removal, preemphasis, and multiplication by the windowing function.  <a href="group__feat.html#gaf7194c30a03017f3b84a50176e8c0f7b">More...</a><br /></td></tr>
<tr class="separator:gaf7194c30a03017f3b84a50176e8c0f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad01ceb098de388af5167a6b50918e9b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gad01ceb098de388af5167a6b50918e9b8">ExtractWindow</a> (int64 sample_offset, const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;wave, int32 f, const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;opts, const <a class="el" href="structkaldi_1_1FeatureWindowFunction.html">FeatureWindowFunction</a> &amp;window_function, <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *window, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *log_energy_pre_window)</td></tr>
<tr class="separator:gad01ceb098de388af5167a6b50918e9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf12cf5eac02b3ff2cae8ba6b36a4312"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gaaf12cf5eac02b3ff2cae8ba6b36a4312">ComputeLifterCoeffs</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> Q, <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *coeffs)</td></tr>
<tr class="separator:gaaf12cf5eac02b3ff2cae8ba6b36a4312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadfc97acaa9e31bce118e273e1bbf74e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gadfc97acaa9e31bce118e273e1bbf74e2">Durbin</a> (int n, const <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *pAC, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *pLP, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *pTmp)</td></tr>
<tr class="separator:gadfc97acaa9e31bce118e273e1bbf74e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15e9b5c77e2d6296dc18d05906357ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga15e9b5c77e2d6296dc18d05906357ccc">ComputeLpc</a> (const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;autocorr_in, <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *lpc_out)</td></tr>
<tr class="separator:ga15e9b5c77e2d6296dc18d05906357ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62f868a9e143ccea1ff7a3a81b8477aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga62f868a9e143ccea1ff7a3a81b8477aa">Lpc2Cepstrum</a> (int n, const <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *pLPC, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *pCepst)</td></tr>
<tr class="separator:ga62f868a9e143ccea1ff7a3a81b8477aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad935da5d50c821fb441ac2d489f13d83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gad935da5d50c821fb441ac2d489f13d83">GetEqualLoudnessVector</a> (const <a class="el" href="classkaldi_1_1MelBanks.html">MelBanks</a> &amp;mel_banks, <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *ans)</td></tr>
<tr class="separator:gad935da5d50c821fb441ac2d489f13d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2d0682a863b69133865d08ff795f7dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#gab2d0682a863b69133865d08ff795f7dc">ComputeKaldiPitch</a> (const <a class="el" href="structkaldi_1_1PitchExtractionOptions.html">PitchExtractionOptions</a> &amp;opts, const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;wave, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output)</td></tr>
<tr class="memdesc:gab2d0682a863b69133865d08ff795f7dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function extracts (pitch, NCCF) per frame, using the pitch extraction method described in "A Pitch Extraction Algorithm Tuned for Automatic Speech
Recognition", Pegah Ghahremani, Bagher BabaAli, Daniel Povey, Korbinian Riedhammer, Jan Trmal and Sanjeev Khudanpur, ICASSP 2014.  <a href="group__feat.html#gab2d0682a863b69133865d08ff795f7dc">More...</a><br /></td></tr>
<tr class="separator:gab2d0682a863b69133865d08ff795f7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cf1c363a29d6133ca1f1692b53d25cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga9cf1c363a29d6133ca1f1692b53d25cb">ProcessPitch</a> (const <a class="el" href="structkaldi_1_1ProcessPitchOptions.html">ProcessPitchOptions</a> &amp;opts, const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;input, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output)</td></tr>
<tr class="memdesc:ga9cf1c363a29d6133ca1f1692b53d25cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function processes the raw (NCCF, pitch) quantities computed by ComputeKaldiPitch, and processes them into features.  <a href="group__feat.html#ga9cf1c363a29d6133ca1f1692b53d25cb">More...</a><br /></td></tr>
<tr class="separator:ga9cf1c363a29d6133ca1f1692b53d25cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3aee193c6b262bda912d49661ed024aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga3aee193c6b262bda912d49661ed024aa">ComputeAndProcessKaldiPitch</a> (const <a class="el" href="structkaldi_1_1PitchExtractionOptions.html">PitchExtractionOptions</a> &amp;pitch_opts, const <a class="el" href="structkaldi_1_1ProcessPitchOptions.html">ProcessPitchOptions</a> &amp;process_opts, const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;wave, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *output)</td></tr>
<tr class="memdesc:ga3aee193c6b262bda912d49661ed024aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function combines ComputeKaldiPitch and ProcessPitch.  <a href="group__feat.html#ga3aee193c6b262bda912d49661ed024aa">More...</a><br /></td></tr>
<tr class="separator:ga3aee193c6b262bda912d49661ed024aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ec6bccdec6f1a56b2ab6094df6f25ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feat.html#ga9ec6bccdec6f1a56b2ab6094df6f25ec">DownsampleWaveForm</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> orig_freq, const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;wave, <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> new_freq, <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *new_wave)</td></tr>
<tr class="memdesc:ga9ec6bccdec6f1a56b2ab6094df6f25ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downsample a waveform.  <a href="group__feat.html#ga9ec6bccdec6f1a56b2ab6094df6f25ec">More...</a><br /></td></tr>
<tr class="separator:ga9ec6bccdec6f1a56b2ab6094df6f25ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7427aab4c315b315d742dfbc0a7db945"><td class="memTemplParams" colspan="2">template&lt;class Real &gt; </td></tr>
<tr class="memitem:ga7427aab4c315b315d742dfbc0a7db945"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__feat.html#ga7427aab4c315b315d742dfbc0a7db945">ComputePowerSpectrum</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; *complex_fft)</td></tr>
<tr class="separator:ga7427aab4c315b315d742dfbc0a7db945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1fea791f2b9de64e3a66d1cf1155e06"><td class="memTemplParams" colspan="2">template&lt;class Real &gt; </td></tr>
<tr class="memitem:gac1fea791f2b9de64e3a66d1cf1155e06"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__feat.html#gac1fea791f2b9de64e3a66d1cf1155e06">PowerSpectrumToRealCepstrum</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; *power_spectrum)</td></tr>
<tr class="memdesc:gac1fea791f2b9de64e3a66d1cf1155e06"><td class="mdescLeft">&#160;</td><td class="mdescRight">PowerSpecToRealCeps takes the output of ComputePowerSpectrum (which is a squared magnitude spectrum) and produces the real cepstrum coefficients.  <a href="group__feat.html#gac1fea791f2b9de64e3a66d1cf1155e06">More...</a><br /></td></tr>
<tr class="separator:gac1fea791f2b9de64e3a66d1cf1155e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga001696a46b519fbf1634d24e897bd3e7"><td class="memTemplParams" colspan="2">template&lt;class Real &gt; </td></tr>
<tr class="memitem:ga001696a46b519fbf1634d24e897bd3e7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__feat.html#ga001696a46b519fbf1634d24e897bd3e7">RealCepstrumToMagnitudeSpectrum</a> (<a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; *real_cepstrum, <a class="el" href="classbool.html">bool</a> apply_exp)</td></tr>
<tr class="memdesc:ga001696a46b519fbf1634d24e897bd3e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">RealCepsToMagnitudeSpec takes the output of PowerSpecToRealCeps and computes an N-point FFT.  <a href="group__feat.html#ga001696a46b519fbf1634d24e897bd3e7">More...</a><br /></td></tr>
<tr class="separator:ga001696a46b519fbf1634d24e897bd3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga0c3bd79b37c8d0b04808779660bb0c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c3bd79b37c8d0b04808779660bb0c85">&#9670;&nbsp;</a></span>Fbank</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt;<a class="el" href="classkaldi_1_1FbankComputer.html">FbankComputer</a>&gt; <a class="el" href="group__feat.html#ga0c3bd79b37c8d0b04808779660bb0c85">Fbank</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-fbank_8h_source.html#l00143">143</a> of file <a class="el" href="feature-fbank_8h_source.html">feature-fbank.h</a>.</p>

</div>
</div>
<a id="ga5c81312933c5da5623d193f14f41522f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c81312933c5da5623d193f14f41522f">&#9670;&nbsp;</a></span>Mfcc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt;<a class="el" href="classkaldi_1_1MfccComputer.html">MfccComputer</a>&gt; <a class="el" href="group__feat.html#ga5c81312933c5da5623d193f14f41522f">Mfcc</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-mfcc_8h_source.html#l00146">146</a> of file <a class="el" href="feature-mfcc_8h_source.html">feature-mfcc.h</a>.</p>

</div>
</div>
<a id="ga7bfc1ab14b7b27d7d5d9cbe98eaea4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bfc1ab14b7b27d7d5d9cbe98eaea4f2">&#9670;&nbsp;</a></span>Plp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt;<a class="el" href="classkaldi_1_1PlpComputer.html">PlpComputer</a>&gt; <a class="el" href="group__feat.html#ga7bfc1ab14b7b27d7d5d9cbe98eaea4f2">Plp</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-plp_8h_source.html#l00169">169</a> of file <a class="el" href="feature-plp_8h_source.html">feature-plp.h</a>.</p>

</div>
</div>
<a id="gaa48d1e1a2ab9299800a2d12de7121fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa48d1e1a2ab9299800a2d12de7121fce">&#9670;&nbsp;</a></span>Spectrogram</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classkaldi_1_1OfflineFeatureTpl.html">OfflineFeatureTpl</a>&lt;<a class="el" href="classkaldi_1_1SpectrogramComputer.html">SpectrogramComputer</a>&gt; <a class="el" href="group__feat.html#gaa48d1e1a2ab9299800a2d12de7121fce">Spectrogram</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-spectrogram_8h_source.html#l00110">110</a> of file <a class="el" href="feature-spectrogram_8h_source.html">feature-spectrogram.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3aee193c6b262bda912d49661ed024aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3aee193c6b262bda912d49661ed024aa">&#9670;&nbsp;</a></span>ComputeAndProcessKaldiPitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeAndProcessKaldiPitch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1PitchExtractionOptions.html">PitchExtractionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>pitch_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1ProcessPitchOptions.html">ProcessPitchOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>process_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>wave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function combines ComputeKaldiPitch and ProcessPitch. </p>
<p>The reason why we need a separate function to do this is in order to be able to accurately simulate the online pitch-processing, for testing and for training models matched to the "first-pass" features. It is sensitive to the variables in pitch_opts that relate to online processing, i.e. max_frames_latency, frames_per_chunk, simulate_first_pass_online, recompute_frame. </p>

<p class="definition">Definition at line <a class="el" href="pitch-functions_8cc_source.html#l01597">1597</a> of file <a class="el" href="pitch-functions_8cc_source.html">pitch-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="pitch-functions_8cc_source.html#l01223">OnlinePitchFeature::AcceptWaveform()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="pitch-functions_8h_source.html#l00334">OnlineProcessPitch::Dim()</a>, <a class="el" href="pitch-functions_8h_source.html#l00045">PitchExtractionOptions::frame_shift_ms</a>, <a class="el" href="pitch-functions_8h_source.html#l00083">PitchExtractionOptions::frames_per_chunk</a>, <a class="el" href="pitch-functions_8cc_source.html#l01414">OnlineProcessPitch::GetFrame()</a>, <a class="el" href="pitch-functions_8cc_source.html#l01229">OnlinePitchFeature::InputFinished()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, <a class="el" href="matrix-common_8h_source.html#l00040">kaldi::kCopyData</a>, <a class="el" href="pitch-functions_8cc_source.html#l01569">OnlineProcessPitch::NumFramesReady()</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00206">MatrixBase&lt; Real &gt;::RowRange()</a>, <a class="el" href="pitch-functions_8h_source.html#l00044">PitchExtractionOptions::samp_freq</a>, and <a class="el" href="pitch-functions_8h_source.html#l00092">PitchExtractionOptions::simulate_first_pass_online</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute-and-process-kaldi-pitch-feats_8cc_source.html#l00027">main()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00052">kaldi::UnitTestSimple()</a>, and <a class="el" href="pitch-functions-test_8cc_source.html#l00071">kaldi::UnitTestSnipEdges()</a>.</p>
<div class="fragment"><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                               {</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  OnlinePitchFeature pitch_extractor(pitch_opts);</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="keywordflow">if</span> (pitch_opts.simulate_first_pass_online) {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(pitch_opts.frames_per_chunk &gt; 0 &amp;&amp;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                 <span class="stringliteral">&quot;--simulate-first-pass-online option does not make sense &quot;</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                 <span class="stringliteral">&quot;unless you specify --frames-per-chunk&quot;</span>);</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  }</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  OnlineProcessPitch post_process(process_opts, &amp;pitch_extractor);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  int32 cur_rows = 100;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  Matrix&lt;BaseFloat&gt; feats(cur_rows, post_process.Dim());</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  int32 cur_offset = 0, cur_frame = 0,</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      samp_per_chunk = pitch_opts.frames_per_chunk *</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      pitch_opts.samp_freq * pitch_opts.frame_shift_ms / 1000.0f;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="comment">// We request the first-pass features as soon as they are available,</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">// regardless of whether opts.simulate_first_pass_online == true.  If</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="comment">// opts.simulate_first_pass_online == true this should</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="comment">// not affect the features generated, but it helps us to test the code</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="comment">// in a way that&#39;s closer to what online decoding would see.</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">while</span> (cur_offset &lt; wave.Dim()) {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    int32 num_samp;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span> (samp_per_chunk &gt; 0)</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      num_samp = std::min(samp_per_chunk, wave.Dim() - cur_offset);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">else</span>  <span class="comment">// user left opts.frames_per_chunk at zero.</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      num_samp = wave.Dim();</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    SubVector&lt;BaseFloat&gt; wave_chunk(wave, cur_offset, num_samp);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    pitch_extractor.AcceptWaveform(pitch_opts.samp_freq, wave_chunk);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    cur_offset += num_samp;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> (cur_offset == wave.Dim())</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      pitch_extractor.InputFinished();</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="comment">// Get each frame as soon as it is ready.</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">for</span> (; cur_frame &lt; post_process.NumFramesReady(); cur_frame++) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">if</span> (cur_frame &gt;= cur_rows) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        cur_rows *= 2;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        feats.Resize(cur_rows, post_process.Dim(), <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80ba6ccfb1220c1b49764f14603227edd6e0">kCopyData</a>);</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      }</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      SubVector&lt;BaseFloat&gt; row(feats, cur_frame);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      post_process.GetFrame(cur_frame, &amp;row);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    }</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">if</span> (pitch_opts.simulate_first_pass_online) {</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">if</span> (cur_frame == 0) {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;No features output since wave file too short&quot;</span>;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      output-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(0, 0);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      *output = feats.<a class="code" href="classkaldi_1_1MatrixBase.html#aeb91045907c988856dcb824ce17a3a0c">RowRange</a>(0, cur_frame);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="comment">// want the &quot;final&quot; features for second pass, so get them again.</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    output-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(post_process.NumFramesReady(), post_process.Dim());</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">for</span> (int32 frame = 0; frame &lt; post_process.NumFramesReady(); frame++) {</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      SubVector&lt;BaseFloat&gt; row(*output, frame);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      post_process.GetFrame(frame, &amp;row);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div><div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
<div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80ba6ccfb1220c1b49764f14603227edd6e0"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80ba6ccfb1220c1b49764f14603227edd6e0">kaldi::kCopyData</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00040">matrix-common.h:40</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_aeb91045907c988856dcb824ce17a3a0c"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#aeb91045907c988856dcb824ce17a3a0c">kaldi::MatrixBase::RowRange</a></div><div class="ttdeci">SubMatrix&lt; Real &gt; RowRange(const MatrixIndexT row_offset, const MatrixIndexT num_rows) const</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l00206">kaldi-matrix.h:206</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2b867a4f7a70bcbdc3ac09e125e0ec76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b867a4f7a70bcbdc3ac09e125e0ec76">&#9670;&nbsp;</a></span>ComputeDeltas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeDeltas </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1DeltaFeaturesOptions.html">DeltaFeaturesOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>delta_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00160">160</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="feature-functions_8h_source.html#l00049">DeltaFeaturesOptions::order</a>, <a class="el" href="feature-functions_8cc_source.html#l00088">DeltaFeatures::Process()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pitch-functions_8cc_source.html#l01439">OnlineProcessPitch::GetDeltaPitchFeature()</a>, <a class="el" href="add-deltas_8cc_source.html#l00026">main()</a>, <a class="el" href="online-feature-test_8cc_source.html#l00097">kaldi::TestOnlineDeltaFeature()</a>, <a class="el" href="feature-sdc-test_8cc_source.html#l00030">UnitTestCompareWithDeltaFeatures()</a>, <a class="el" href="feature-mfcc-test_8cc_source.html#l00112">UnitTestHTKCompare1()</a>, <a class="el" href="feature-mfcc-test_8cc_source.html#l00196">UnitTestHTKCompare2()</a>, <a class="el" href="feature-mfcc-test_8cc_source.html#l00280">UnitTestHTKCompare3()</a>, <a class="el" href="feature-mfcc-test_8cc_source.html#l00365">UnitTestHTKCompare4()</a>, <a class="el" href="feature-mfcc-test_8cc_source.html#l00448">UnitTestHTKCompare5()</a>, and <a class="el" href="feature-mfcc-test_8cc_source.html#l00535">UnitTestHTKCompare6()</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                                       {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  output_features-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(input_features.NumRows(),</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                          input_features.NumCols()</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                          *(delta_opts.order + 1));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  DeltaFeatures delta(delta_opts);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">for</span> (int32 r = 0; r &lt; static_cast&lt;int32&gt;(input_features.NumRows()); r++) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    SubVector&lt;BaseFloat&gt; row(*output_features, r);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    delta.Process(input_features, r, &amp;row);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gab2d0682a863b69133865d08ff795f7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2d0682a863b69133865d08ff795f7dc">&#9670;&nbsp;</a></span>ComputeKaldiPitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeKaldiPitch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1PitchExtractionOptions.html">PitchExtractionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>wave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function extracts (pitch, NCCF) per frame, using the pitch extraction method described in "A Pitch Extraction Algorithm Tuned for Automatic Speech
Recognition", Pegah Ghahremani, Bagher BabaAli, Daniel Povey, Korbinian Riedhammer, Jan Trmal and Sanjeev Khudanpur, ICASSP 2014. </p>
<p>The output will have as many rows as there are frames, and two columns corresponding to (NCCF, pitch) </p>

<p class="definition">Definition at line <a class="el" href="pitch-functions_8cc_source.html#l01291">1291</a> of file <a class="el" href="pitch-functions_8cc_source.html">pitch-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="pitch-functions_8cc_source.html#l01223">OnlinePitchFeature::AcceptWaveform()</a>, <a class="el" href="pitch-functions_8cc_source.html#l01248">kaldi::ComputeKaldiPitchFirstPass()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="pitch-functions_8h_source.html#l00045">PitchExtractionOptions::frame_shift_ms</a>, <a class="el" href="pitch-functions_8h_source.html#l00083">PitchExtractionOptions::frames_per_chunk</a>, <a class="el" href="pitch-functions_8cc_source.html#l01219">OnlinePitchFeature::GetFrame()</a>, <a class="el" href="pitch-functions_8cc_source.html#l01229">OnlinePitchFeature::InputFinished()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, <a class="el" href="pitch-functions_8cc_source.html#l01204">OnlinePitchFeature::NumFramesReady()</a>, <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>, <a class="el" href="pitch-functions_8h_source.html#l00044">PitchExtractionOptions::samp_freq</a>, and <a class="el" href="pitch-functions_8h_source.html#l00092">PitchExtractionOptions::simulate_first_pass_online</a>.</p>

<p class="reference">Referenced by <a class="el" href="compute-kaldi-pitch-feats_8cc_source.html#l00027">main()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00528">kaldi::UnitTestDiffSampleRate()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00366">kaldi::UnitTestKeele()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00430">kaldi::UnitTestKeeleNccfBallast()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00397">kaldi::UnitTestPenaltyFactor()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00154">kaldi::UnitTestPieces()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00465">kaldi::UnitTestPitchExtractionSpeed()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00499">kaldi::UnitTestPitchExtractorCompareKeele()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00561">kaldi::UnitTestProcess()</a>, and <a class="el" href="pitch-functions-test_8cc_source.html#l00289">kaldi::UnitTestSearch()</a>.</p>
<div class="fragment"><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                                                  {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">if</span> (opts.simulate_first_pass_online) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="namespacekaldi.html#a79bdca1cc024bf77057d3d3984724226">ComputeKaldiPitchFirstPass</a>(opts, wave, output);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  OnlinePitchFeature pitch_extractor(opts);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">if</span> (opts.frames_per_chunk == 0) {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    pitch_extractor.AcceptWaveform(opts.samp_freq, wave);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// the user may set opts.frames_per_chunk for better compatibility with</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// online operation.</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(opts.frames_per_chunk &gt; 0);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    int32 cur_offset = 0, samp_per_chunk =</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        opts.frames_per_chunk * opts.samp_freq * opts.frame_shift_ms / 1000.0f;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">while</span> (cur_offset &lt; wave.Dim()) {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      int32 num_samp = std::min(samp_per_chunk, wave.Dim() - cur_offset);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      SubVector&lt;BaseFloat&gt; wave_chunk(wave, cur_offset, num_samp);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      pitch_extractor.AcceptWaveform(opts.samp_freq, wave_chunk);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      cur_offset += num_samp;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  pitch_extractor.InputFinished();</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  int32 num_frames = pitch_extractor.NumFramesReady();</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">if</span> (num_frames == 0) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;No frames output in pitch extraction&quot;</span>;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    output-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(0, 0);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  output-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(num_frames, 2);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">for</span> (int32 frame = 0; frame &lt; num_frames; frame++) {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    SubVector&lt;BaseFloat&gt; row(*output, frame);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    pitch_extractor.GetFrame(frame, &amp;row);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_a79bdca1cc024bf77057d3d3984724226"><div class="ttname"><a href="namespacekaldi.html#a79bdca1cc024bf77057d3d3984724226">kaldi::ComputeKaldiPitchFirstPass</a></div><div class="ttdeci">void ComputeKaldiPitchFirstPass(const PitchExtractionOptions &amp;opts, const VectorBase&lt; BaseFloat &gt; &amp;wave, Matrix&lt; BaseFloat &gt; *output)</div><div class="ttdoc">This function is called from ComputeKaldiPitch when the user specifies opts.simulate_first_pass_onlin...</div><div class="ttdef"><b>Definition:</b> <a href="pitch-functions_8cc_source.html#l01248">pitch-functions.cc:1248</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaaf12cf5eac02b3ff2cae8ba6b36a4312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf12cf5eac02b3ff2cae8ba6b36a4312">&#9670;&nbsp;</a></span>ComputeLifterCoeffs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeLifterCoeffs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>coeffs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mel-computations_8cc_source.html#l00253">253</a> of file <a class="el" href="mel-computations_8cc_source.html">mel-computations.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, and <a class="el" href="kaldi-math_8h_source.html#l00044">M_PI</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-mfcc_8cc_source.html#l00082">MfccComputer::MfccComputer()</a>, and <a class="el" href="feature-plp_8cc_source.html#l00026">PlpComputer::PlpComputer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                                     {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Compute liftering coefficients (scaling on cepstral coeffs)</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// coeffs are numbered slightly differently from HTK: the zeroth</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// index is C0, which is not affected.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; coeffs-&gt;Dim(); <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    (*coeffs)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = 1.0 + 0.5 * Q * sin (<a class="code" href="kaldi-math_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> / Q);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="kaldi-math_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="kaldi-math_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00044">kaldi-math.h:44</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga15e9b5c77e2d6296dc18d05906357ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15e9b5c77e2d6296dc18d05906357ccc">&#9670;&nbsp;</a></span>ComputeLpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> ComputeLpc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>autocorr_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>lpc_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mel-computations_8cc_source.html#l00326">326</a> of file <a class="el" href="mel-computations_8cc_source.html">mel-computations.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00069">VectorBase&lt; Real &gt;::Data()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mel-computations_8cc_source.html#l00267">kaldi::Durbin()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, <a class="el" href="kaldi-math_8h_source.html#l00100">kaldi::Log()</a>, and <a class="el" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-plp_8cc_source.html#l00112">PlpComputer::Compute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                                 {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  int32 <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a> = autocorr_in.Dim() - 1;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(lpc_out-&gt;Dim() == <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  Vector&lt;BaseFloat&gt; tmp(n);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> ans = <a class="code" href="group__feat.html#gadfc97acaa9e31bce118e273e1bbf74e2">Durbin</a>(n, autocorr_in.Data(),</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                         lpc_out-&gt;Data(),</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                         tmp.Data());</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span> (ans &lt;= 0.0)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Zero energy in LPC computation&quot;</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">return</span> -<a class="code" href="namespacekaldi.html#af75c4606b108091c348102660de63180">Log</a>(1.0 / ans);  <span class="comment">// forms the C0 value</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacekaldi_html_af75c4606b108091c348102660de63180"><div class="ttname"><a href="namespacekaldi.html#af75c4606b108091c348102660de63180">kaldi::Log</a></div><div class="ttdeci">double Log(double x)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00100">kaldi-math.h:100</a></div></div>
<div class="ttc" id="namespacernnlm_html_ab4871778d570f724a07823e0a2fb9884"><div class="ttname"><a href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a></div><div class="ttdeci">struct rnnlm::@11::@12 n</div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="group__feat_html_gadfc97acaa9e31bce118e273e1bbf74e2"><div class="ttname"><a href="group__feat.html#gadfc97acaa9e31bce118e273e1bbf74e2">kaldi::Durbin</a></div><div class="ttdeci">BaseFloat Durbin(int n, const BaseFloat *pAC, BaseFloat *pLP, BaseFloat *pTmp)</div><div class="ttdef"><b>Definition:</b> <a href="mel-computations_8cc_source.html#l00267">mel-computations.cc:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gafd6748dd9dba539209f6126561ce8474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd6748dd9dba539209f6126561ce8474">&#9670;&nbsp;</a></span>ComputePowerSpectrum() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">template void ComputePowerSpectrum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>waveform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00029">29</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, and <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-spectrogram_8cc_source.html#l00047">SpectrogramComputer::Compute()</a>, <a class="el" href="feature-aperiodic_8cc_source.html#l00199">AperiodicEnergy::Compute()</a>, <a class="el" href="feature-mfcc_8cc_source.html#l00028">MfccComputer::Compute()</a>, <a class="el" href="feature-fbank_8cc_source.html#l00072">FbankComputer::Compute()</a>, <a class="el" href="feature-plp_8cc_source.html#l00112">PlpComputer::Compute()</a>, and <a class="el" href="feature-mcep_8cc_source.html#l00029">kaldi::ComputePowerSpectrum()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                                           {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  int32 dim = waveform-&gt;Dim();</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// no, letting it be non-power-of-two for now.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">// KALDI_ASSERT(dim &gt; 0 &amp;&amp; (dim &amp; (dim-1) == 0));  // make sure a power of two.. actually my FFT code</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">// does not require this (dan) but this is better in case we use different code [dan].</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// RealFft(waveform, true);  // true == forward (not inverse) FFT; makes no difference here,</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// as we just want power spectrum.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">// now we have in waveform, first half of complex spectrum</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// it&#39;s stored as [real0, realN/2-1, real1, im1, real2, im2, ...]</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  int32 half_dim = dim/2;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> first_energy = (*waveform)(0) * (*waveform)(0),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      last_energy = (*waveform)(1) * (*waveform)(1);  <span class="comment">// handle this special case</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; half_dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> <a class="code" href="namespacernnlm.html#a11d147c64891830c9e79b3315b1b2e21">real</a> = (*waveform)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>*2), im = (*waveform)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>*2 + 1);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    (*waveform)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = real*real + im*im;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  (*waveform)(0) = first_energy;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  (*waveform)(half_dim) = last_energy;  <span class="comment">// Will actually never be used, and anyway</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// if the signal has been bandlimited sensibly this should be zero.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a11d147c64891830c9e79b3315b1b2e21"><div class="ttname"><a href="namespacernnlm.html#a11d147c64891830c9e79b3315b1b2e21">rnnlm::real</a></div><div class="ttdeci">double real</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8h_source.html#l00064">mikolov-rnnlm-lib.h:64</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7427aab4c315b315d742dfbc0a7db945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7427aab4c315b315d742dfbc0a7db945">&#9670;&nbsp;</a></span>ComputePowerSpectrum() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputePowerSpectrum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>complex_fft</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-mcep_8cc_source.html#l00029">29</a> of file <a class="el" href="feature-mcep_8cc_source.html">feature-mcep.cc</a>.</p>

<p class="reference">References <a class="el" href="feature-functions_8cc_source.html#l00029">kaldi::ComputePowerSpectrum()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, and <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                                         {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  int32 dim = complex_fft-&gt;Dim();</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">// Letting it be non-power-of-two for now.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// KALDI_ASSERT(dim &gt; 0 &amp;&amp; (dim &amp; (dim-1) == 0));</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">// We have in complex_fft the first half of complex spectrum</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">// it&#39;s stored as [real0, realN/2-1, real1, im1, real2, im2, ...]</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  int32 half_dim = dim/2;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// Handle special cases first</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  Real first_energy = (*complex_fft)(0) * (*complex_fft)(0),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      last_energy = (*complex_fft)(1) * (*complex_fft)(1);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; half_dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    Real <a class="code" href="namespacernnlm.html#a11d147c64891830c9e79b3315b1b2e21">real</a> = (*complex_fft)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>*2), im = (*complex_fft)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>*2 + 1);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    (*complex_fft)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = real*real + im*im;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  }</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  (*complex_fft)(0) = first_energy;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  (*complex_fft)(half_dim) = last_energy;  <span class="comment">// Will actually never be used, and</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// anyway if the signal has been bandlimited sensibly this should be zero.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a11d147c64891830c9e79b3315b1b2e21"><div class="ttname"><a href="namespacernnlm.html#a11d147c64891830c9e79b3315b1b2e21">rnnlm::real</a></div><div class="ttdeci">double real</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8h_source.html#l00064">mikolov-rnnlm-lib.h:64</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gad61b620d61e761a71030233dcd939dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad61b620d61e761a71030233dcd939dee">&#9670;&nbsp;</a></span>ComputeShiftedDeltas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComputeShiftedDeltas </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1ShiftedDeltaFeaturesOptions.html">ShiftedDeltaFeaturesOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>delta_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00173">173</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="feature-functions_8h_source.html#l00086">ShiftedDeltaFeaturesOptions::num_blocks</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="feature-functions_8cc_source.html#l00129">ShiftedDeltaFeatures::Process()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="add-deltas-sdc_8cc_source.html#l00026">main()</a>, <a class="el" href="feature-sdc-test_8cc_source.html#l00030">UnitTestCompareWithDeltaFeatures()</a>, <a class="el" href="feature-sdc-test_8cc_source.html#l00106">UnitTestEndEffects()</a>, and <a class="el" href="feature-sdc-test_8cc_source.html#l00063">UnitTestParams()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                       {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  output_features-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(input_features.NumRows(),</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                          input_features.NumCols()</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                          * (delta_opts.num_blocks + 1));</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  ShiftedDeltaFeatures delta(delta_opts);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">for</span> (int32 r = 0; r &lt; static_cast&lt;int32&gt;(input_features.NumRows()); r++) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    SubVector&lt;BaseFloat&gt; row(*output_features, r);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    delta.Process(input_features, r, &amp;row);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga46d7bb685639cae24e9aa9077bfdbabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46d7bb685639cae24e9aa9077bfdbabd">&#9670;&nbsp;</a></span>Dither()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dither </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>waveform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>dither_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-window_8cc_source.html#l00090">90</a> of file <a class="el" href="feature-window_8cc_source.html">feature-window.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00069">VectorBase&lt; Real &gt;::Data()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, and <a class="el" href="kaldi-math_8h_source.html#l00155">kaldi::RandGauss()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-window_8cc_source.html#l00133">kaldi::ProcessWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                                     {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (dither_value == 0.0)</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  int32 dim = waveform-&gt;Dim();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *data = waveform-&gt;Data();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  RandomState rstate;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    data[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] += <a class="code" href="namespacekaldi.html#a3871a9c94a69d8807ea4c1d94e2d4ab9">RandGauss</a>(&amp;rstate) * dither_value;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_a3871a9c94a69d8807ea4c1d94e2d4ab9"><div class="ttname"><a href="namespacekaldi.html#a3871a9c94a69d8807ea4c1d94e2d4ab9">kaldi::RandGauss</a></div><div class="ttdeci">float RandGauss(struct RandomState *state=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00155">kaldi-math.h:155</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9ec6bccdec6f1a56b2ab6094df6f25ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ec6bccdec6f1a56b2ab6094df6f25ec">&#9670;&nbsp;</a></span>DownsampleWaveForm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DownsampleWaveForm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>orig_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>wave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>new_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>new_wave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downsample a waveform. </p>
<p>This is a convenience wrapper for the class '<a class="el" href="classkaldi_1_1LinearResample.html" title="LinearResample is a special case of ArbitraryResample, where we want to resample a signal at linearly...">LinearResample</a>'. The low-pass filter cutoff used in '<a class="el" href="classkaldi_1_1LinearResample.html" title="LinearResample is a special case of ArbitraryResample, where we want to resample a signal at linearly...">LinearResample</a>' is 0.99 of half of the new_freq and num_zeros is 6. The downsampling results is also checked wit sox resampling toolkit. Sox design is inspired by Laurent De Soras' paper, <a href="https://ccrma.stanford.edu/~jos/resample/Implementation.html">https://ccrma.stanford.edu/~jos/resample/Implementation.html</a> It designs low pass filter using pass-band, stop-band, Nyquist freq and stop-band attenuation. e.g. The mainlob for Hanning window is 4pi/M, where the main-lobe width is equal to (pass-band-freq - stop-band-freq). Also the cutoff frequency is equal to (pass-band-freq - stop-band-freq). </p>

<p class="definition">Definition at line <a class="el" href="resample_8cc_source.html#l00368">368</a> of file <a class="el" href="resample_8cc_source.html">resample.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, and <a class="el" href="resample_8cc_source.html#l00152">LinearResample::Resample()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-common-inl_8h_source.html#l00029">OfflineFeatureTpl&lt; F &gt;::ComputeFeatures()</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                                                         {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(new_freq &lt; orig_freq);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> lowpass_cutoff = 0.99 * 0.5 * new_freq;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  int32 lowpass_filter_width = 6;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  LinearResample signal_downsampler(orig_freq, new_freq,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                    lowpass_cutoff, lowpass_filter_width);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  signal_downsampler.Resample(wave, <span class="keyword">true</span>, new_wave);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gadfc97acaa9e31bce118e273e1bbf74e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadfc97acaa9e31bce118e273e1bbf74e2">&#9670;&nbsp;</a></span>Durbin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> Durbin </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>pAC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>pLP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>pTmp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mel-computations_8cc_source.html#l00267">267</a> of file <a class="el" href="mel-computations_8cc_source.html">mel-computations.cc</a>.</p>

<p class="reference">References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, and <a class="el" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a>.</p>

<p class="reference">Referenced by <a class="el" href="mel-computations_8cc_source.html#l00326">kaldi::ComputeLpc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                                                               {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> ki;                <span class="comment">// reflection coefficient</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> E = pAC[0];</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a>; i++) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// next reflection coefficient</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    ki = pAC[i + 1];</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>; j++)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      ki += pLP[j] * pAC[i - j];</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    ki = ki / E;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// new error</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> c = 1 - ki * ki;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (c &lt; 1.0e-5) <span class="comment">// remove NaNs for constan signal</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      c = 1.0e-5;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    E *= c;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// new LP coefficients</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    pTmp[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -ki;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>; j++)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      pTmp[j] = pLP[j] - ki * pLP[i - j - 1];</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt;= <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>; j++)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      pLP[j] = pTmp[j];</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">return</span> E;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacernnlm_html_ab4871778d570f724a07823e0a2fb9884"><div class="ttname"><a href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a></div><div class="ttdeci">struct rnnlm::@11::@12 n</div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gad01ceb098de388af5167a6b50918e9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad01ceb098de388af5167a6b50918e9b8">&#9670;&nbsp;</a></span>ExtractWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ExtractWindow </td>
          <td>(</td>
          <td class="paramtype">int64&#160;</td>
          <td class="paramname"><em>sample_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>wave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1FeatureWindowFunction.html">FeatureWindowFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>window_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>log_energy_pre_window</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-window_8cc_source.html#l00162">162</a> of file <a class="el" href="feature-window_8cc_source.html">feature-window.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="feature-window_8cc_source.html#l00030">kaldi::FirstSampleOfFrame()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="matrix-common_8h_source.html#l00039">kaldi::kUndefined</a>, <a class="el" href="feature-window_8h_source.html#l00100">FrameExtractionOptions::PaddedWindowSize()</a>, <a class="el" href="feature-window_8cc_source.html#l00133">kaldi::ProcessWindow()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00093">VectorBase&lt; Real &gt;::Range()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00190">Vector&lt; Real &gt;::Resize()</a>, <a class="el" href="feature-window_8h_source.html#l00045">FrameExtractionOptions::snip_edges</a>, and <a class="el" href="feature-window_8h_source.html#l00097">FrameExtractionOptions::WindowSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-aperiodic_8cc_source.html#l00199">AperiodicEnergy::Compute()</a>, <a class="el" href="feature-common-inl_8h_source.html#l00075">OfflineFeatureTpl&lt; F &gt;::Compute()</a>, and <a class="el" href="online-feature_8cc_source.html#l00063">OnlineGenericBaseFeature&lt; C &gt;::ComputeFeatures()</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                                     {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(sample_offset &gt;= 0 &amp;&amp; wave.Dim() != 0);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  int32 frame_length = opts.WindowSize(),</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      frame_length_padded = opts.PaddedWindowSize();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  int64 num_samples = sample_offset + wave.Dim(),</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      start_sample = <a class="code" href="group__feat.html#ga435fdd90bd2708631c43d68d89cd5378">FirstSampleOfFrame</a>(f, opts),</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      end_sample = start_sample + frame_length;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (opts.snip_edges) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(start_sample &gt;= sample_offset &amp;&amp;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                 end_sample &lt;= num_samples);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(sample_offset == 0 || start_sample &gt;= sample_offset);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (window-&gt;Dim() != frame_length_padded)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    window-&gt;Resize(frame_length_padded, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// wave_start and wave_end are start and end indexes into &#39;wave&#39;, for the</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// piece of wave that we&#39;re trying to extract.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  int32 wave_start = int32(start_sample - sample_offset),</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      wave_end = wave_start + frame_length;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (wave_start &gt;= 0 &amp;&amp; wave_end &lt;= wave.Dim()) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// the normal case-- no edge effects to consider.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    window-&gt;Range(0, frame_length).CopyFromVec(</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        wave.Range(wave_start, frame_length));</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Deal with any end effects by reflection, if needed.  This code will only</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// be reached for about two frames per utterance, so we don&#39;t concern</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// ourselves excessively with efficiency.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    int32 wave_dim = wave.Dim();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">for</span> (int32 s = 0; s &lt; frame_length; s++) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      int32 s_in_wave = s + wave_start;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">while</span> (s_in_wave &lt; 0 || s_in_wave &gt;= wave_dim) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// reflect around the beginning or end of the wave.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// e.g. -1 -&gt; 0, -2 -&gt; 1.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// dim -&gt; dim - 1, dim + 1 -&gt; dim - 2.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// the code supports repeated reflections, although this</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">// would only be needed in pathological cases.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (s_in_wave &lt; 0) s_in_wave = - s_in_wave - 1;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">else</span> s_in_wave = 2 * wave_dim - 1 - s_in_wave;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      (*window)(s) = wave(s_in_wave);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (frame_length_padded &gt; frame_length)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    window-&gt;Range(frame_length, frame_length_padded - frame_length).SetZero();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  SubVector&lt;BaseFloat&gt; frame(*window, 0, frame_length);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="group__feat.html#gaf7194c30a03017f3b84a50176e8c0f7b">ProcessWindow</a>(opts, window_function, &amp;frame, log_energy_pre_window);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00039">matrix-common.h:39</a></div></div>
<div class="ttc" id="group__feat_html_ga435fdd90bd2708631c43d68d89cd5378"><div class="ttname"><a href="group__feat.html#ga435fdd90bd2708631c43d68d89cd5378">kaldi::FirstSampleOfFrame</a></div><div class="ttdeci">int64 FirstSampleOfFrame(int32 frame, const FrameExtractionOptions &amp;opts)</div><div class="ttdef"><b>Definition:</b> <a href="feature-window_8cc_source.html#l00030">feature-window.cc:30</a></div></div>
<div class="ttc" id="group__feat_html_gaf7194c30a03017f3b84a50176e8c0f7b"><div class="ttname"><a href="group__feat.html#gaf7194c30a03017f3b84a50176e8c0f7b">kaldi::ProcessWindow</a></div><div class="ttdeci">void ProcessWindow(const FrameExtractionOptions &amp;opts, const FeatureWindowFunction &amp;window_function, VectorBase&lt; BaseFloat &gt; *window, BaseFloat *log_energy_pre_window)</div><div class="ttdoc">This function does all the windowing steps after actually extracting the windowed signal: depeding on...</div><div class="ttdef"><b>Definition:</b> <a href="feature-window_8cc_source.html#l00133">feature-window.cc:133</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga435fdd90bd2708631c43d68d89cd5378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga435fdd90bd2708631c43d68d89cd5378">&#9670;&nbsp;</a></span>FirstSampleOfFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64 FirstSampleOfFrame </td>
          <td>(</td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-window_8cc_source.html#l00030">30</a> of file <a class="el" href="feature-window_8cc_source.html">feature-window.cc</a>.</p>

<p class="reference">References <a class="el" href="feature-window_8h_source.html#l00045">FrameExtractionOptions::snip_edges</a>, <a class="el" href="feature-window_8h_source.html#l00094">FrameExtractionOptions::WindowShift()</a>, and <a class="el" href="feature-window_8h_source.html#l00097">FrameExtractionOptions::WindowSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="online-feature_8cc_source.html#l00063">OnlineGenericBaseFeature&lt; C &gt;::ComputeFeatures()</a>, <a class="el" href="feature-window_8cc_source.html#l00162">kaldi::ExtractWindow()</a>, and <a class="el" href="feature-window_8cc_source.html#l00042">kaldi::NumFrames()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                                             {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  int64 frame_shift = opts.WindowShift();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (opts.snip_edges) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> frame * frame_shift;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    int64 midpoint_of_frame = frame_shift * frame  +  frame_shift / 2,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        beginning_of_frame = midpoint_of_frame  -  opts.WindowSize() / 2;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">return</span> beginning_of_frame;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="gad935da5d50c821fb441ac2d489f13d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad935da5d50c821fb441ac2d489f13d83">&#9670;&nbsp;</a></span>GetEqualLoudnessVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetEqualLoudnessVector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MelBanks.html">MelBanks</a> &amp;&#160;</td>
          <td class="paramname"><em>mel_banks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>ans</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mel-computations_8cc_source.html#l00311">311</a> of file <a class="el" href="mel-computations_8cc_source.html">mel-computations.cc</a>.</p>

<p class="reference">References <a class="el" href="mel-computations_8h_source.html#l00117">MelBanks::GetCenterFreqs()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a>, <a class="el" href="mel-computations_8h_source.html#l00114">MelBanks::NumBins()</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00190">Vector&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-plp_8cc_source.html#l00097">PlpComputer::GetEqualLoudness()</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                    {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  int32 <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a> = mel_banks.NumBins();</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// Central frequency of each mel bin.</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keyword">const</span> Vector&lt;BaseFloat&gt; &amp;f0 = mel_banks.GetCenterFreqs();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  ans-&gt;Resize(n);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> fsq = f0(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) * f0(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> fsub = fsq / (fsq + 1.6e5);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    (*ans)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = fsub * fsub * ((fsq + 1.44e6) / (fsq + 9.61e6));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacernnlm_html_ab4871778d570f724a07823e0a2fb9884"><div class="ttname"><a href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a></div><div class="ttdeci">struct rnnlm::@11::@12 n</div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac626f9ce3c50bf797d436a480e8ad386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac626f9ce3c50bf797d436a480e8ad386">&#9670;&nbsp;</a></span>InitIdftBases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitIdftBases </td>
          <td>(</td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>n_bases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>dimension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>mat_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00188">188</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, <a class="el" href="kaldi-math_8h_source.html#l00044">M_PI</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-plp_8cc_source.html#l00026">PlpComputer::PlpComputer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                                               {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> angle = <a class="code" href="kaldi-math_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / <span class="keyword">static_cast&lt;</span><a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a><span class="keyword">&gt;</span>(dimension - 1);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> scale = 1.0f / (2.0 * <span class="keyword">static_cast&lt;</span><a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a><span class="keyword">&gt;</span>(dimension - 1));</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  mat_out-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(n_bases, dimension);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; n_bases; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    (*mat_out)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0) = 1.0 * scale;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> i_fl = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a><span class="keyword">&gt;</span>(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> = 1; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; dimension - 1; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> j_fl = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a><span class="keyword">&gt;</span>(<a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      (*mat_out)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>) = 2.0 * scale * cos(angle * i_fl * j_fl);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    (*mat_out)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>, dimension -1)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        = scale * cos(angle * i_fl * static_cast&lt;BaseFloat&gt;(dimension-1));</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="kaldi-math_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="kaldi-math_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00044">kaldi-math.h:44</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga62f868a9e143ccea1ff7a3a81b8477aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62f868a9e143ccea1ff7a3a81b8477aa">&#9670;&nbsp;</a></span>Lpc2Cepstrum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Lpc2Cepstrum </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>pLPC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>pCepst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mel-computations_8cc_source.html#l00300">300</a> of file <a class="el" href="mel-computations_8cc_source.html">mel-computations.cc</a>.</p>

<p class="reference">References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, and <a class="el" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-plp_8cc_source.html#l00112">PlpComputer::Compute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                                                   {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a>; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">double</span> sum = 0.0;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>; j++) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      sum += <span class="keyword">static_cast&lt;</span><a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a><span class="keyword">&gt;</span>(i - <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>) * pLPC[j] * pCepst[i - j - 1];</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    pCepst[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -pLPC[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] - sum / <span class="keyword">static_cast&lt;</span><a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a><span class="keyword">&gt;</span>(i + 1);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacernnlm_html_ab4871778d570f724a07823e0a2fb9884"><div class="ttname"><a href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a></div><div class="ttdeci">struct rnnlm::@11::@12 n</div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga3a4394e7a321cb172a34f001e7dc3eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a4394e7a321cb172a34f001e7dc3eb5">&#9670;&nbsp;</a></span>NumFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 NumFrames </td>
          <td>(</td>
          <td class="paramtype">int64&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>flush</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the number of frames that we can extract from a wave file with the given number of samples in it (assumed to have the same sampling rate as specified in 'opts'). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num_samples</td><td>The number of samples in the wave file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opts</td><td>The frame-extraction options class</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flush</td><td>True if we are asserting that this number of samples is 'all there is', false if we expecting more data to possibly come in. This only makes a difference to the answer if opts.snips_edges == false. For offline feature extraction you always want flush == true. In an online-decoding context, once you know (or decide) that no more data is coming in, you'd call it with flush == true at the end to flush out any remaining data. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="feature-window_8cc_source.html#l00042">42</a> of file <a class="el" href="feature-window_8cc_source.html">feature-window.cc</a>.</p>

<p class="reference">References <a class="el" href="feature-window_8cc_source.html#l00030">kaldi::FirstSampleOfFrame()</a>, <a class="el" href="feature-window_8h_source.html#l00045">FrameExtractionOptions::snip_edges</a>, <a class="el" href="feature-window_8h_source.html#l00094">FrameExtractionOptions::WindowShift()</a>, and <a class="el" href="feature-window_8h_source.html#l00097">FrameExtractionOptions::WindowSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-aperiodic_8cc_source.html#l00199">AperiodicEnergy::Compute()</a>, <a class="el" href="feature-common-inl_8h_source.html#l00075">OfflineFeatureTpl&lt; F &gt;::Compute()</a>, <a class="el" href="online-feature_8cc_source.html#l00063">OnlineGenericBaseFeature&lt; C &gt;::ComputeFeatures()</a>, <a class="el" href="feature-window-ext_8cc_source.html#l00022">kaldi::ExtractWaveformRemainder()</a>, <a class="el" href="compute-aperiodic-feats_8cc_source.html#l00024">main()</a>, and <a class="el" href="feature-aperiodic-test_8cc_source.html#l00030">kaldi::UnitTestAperiodic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                            {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  int64 frame_shift = opts.WindowShift();</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  int64 frame_length = opts.WindowSize();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (opts.snip_edges) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// with --snip-edges=true (the default), we use a HTK-like approach to</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// determining the number of frames-- all frames have to fit completely into</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">// the waveform, and the first frame begins at sample zero.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (num_samples &lt; frame_length)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> (1 + ((num_samples - frame_length) / frame_shift));</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// You can understand the expression above as follows: &#39;num_samples -</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// frame_length&#39; is how much room we have to shift the frame within the</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// waveform; &#39;frame_shift&#39; is how much we shift it each time; and the ratio</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// is how many times we can shift it (integer arithmetic rounds down).</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// if --snip-edges=false, the number of frames is determined by rounding the</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// (file-length / frame-shift) to the nearest integer.  The point of this</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// formula is to make the number of frames an obvious and predictable</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// function of the frame shift and signal length, which makes many</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// segmentation-related questions simpler.</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Because integer division in C++ rounds toward zero, we add (half the</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// frame-shift minus epsilon) before dividing, to have the effect of</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// rounding towards the closest integer.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    int32 num_frames = (num_samples + (frame_shift / 2)) / frame_shift;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (flush)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">return</span> num_frames;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// note: &#39;end&#39; always means the last plus one, i.e. one past the last.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    int64 end_sample_of_last_frame = <a class="code" href="group__feat.html#ga435fdd90bd2708631c43d68d89cd5378">FirstSampleOfFrame</a>(num_frames - 1, opts)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        + frame_length;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// the following code is optimized more for clarity than efficiency.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// If flush == false, we can&#39;t output frames that extend past the end</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// of the signal.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">while</span> (num_frames &gt; 0 &amp;&amp; end_sample_of_last_frame &gt; num_samples) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      num_frames--;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      end_sample_of_last_frame -= frame_shift;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> num_frames;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="ttc" id="group__feat_html_ga435fdd90bd2708631c43d68d89cd5378"><div class="ttname"><a href="group__feat.html#ga435fdd90bd2708631c43d68d89cd5378">kaldi::FirstSampleOfFrame</a></div><div class="ttdeci">int64 FirstSampleOfFrame(int32 frame, const FrameExtractionOptions &amp;opts)</div><div class="ttdef"><b>Definition:</b> <a href="feature-window_8cc_source.html#l00030">feature-window.cc:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac1fea791f2b9de64e3a66d1cf1155e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1fea791f2b9de64e3a66d1cf1155e06">&#9670;&nbsp;</a></span>PowerSpectrumToRealCepstrum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PowerSpectrumToRealCepstrum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>power_spectrum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PowerSpecToRealCeps takes the output of ComputePowerSpectrum (which is a squared magnitude spectrum) and produces the real cepstrum coefficients. </p>
<p>If the power spectrum corresponds to an N-point FFT, then only the first N/2 + 1 elements of it are calculated by ComputePowerSpectrum. This function recreates the symmetric log-magnitude spectrum by filling in the remaining N/2 - 1 values and computes an IFFT. The IFFT computation happens "in-place" and the first N/2 + 1 elements of the vector are the real part of the cepstral coefficients (the imaginary parts should be 0 anyway, since the power spectrum is symmetric/even). Contents of the last last N/2 - 1 elements are undefined at output, as they are not needed (as real cepstrum is even). </p>

<p class="definition">Definition at line <a class="el" href="feature-mcep_8cc_source.html#l00052">52</a> of file <a class="el" href="feature-mcep_8cc_source.html">feature-mcep.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-vector_8h_source.html#l00093">VectorBase&lt; Real &gt;::Range()</a>, <a class="el" href="matrix-functions_8cc_source.html#l00391">kaldi::RealFft()</a>, and <a class="el" href="kaldi-vector_8cc_source.html#l00962">VectorBase&lt; Real &gt;::Scale()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-aperiodic_8cc_source.html#l00303">AperiodicEnergy::IdentifyNoiseRegions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                                                   {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  int32 dim = power_spectrum-&gt;Dim();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  int32 half_dim = dim/2;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  power_spectrum-&gt;Range(0, half_dim + 1).ApplyLog();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  power_spectrum-&gt;Range(0, half_dim + 1).Scale(0.5);  <span class="comment">// square root</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// Now reconstruct the last N/2 - 1 elements of the symmetric spectrum that</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// correspond to the negative frequencies.</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  Real nyquist_power = (*power_spectrum)(half_dim);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; half_dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    (*power_spectrum)(dim - 2*<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = (*power_spectrum)(half_dim - <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    (*power_spectrum)(dim - 2*<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) = 0;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  (*power_spectrum)(1) = nyquist_power;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="group__matrix__funcs__misc.html#ga614b44b294e1f0b555531020ceb85f2f">RealFft</a>(power_spectrum, <span class="keyword">false</span>);  <span class="comment">// Doing IFFT.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  power_spectrum-&gt;Scale(1.0 / dim);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__matrix__funcs__misc_html_ga614b44b294e1f0b555531020ceb85f2f"><div class="ttname"><a href="group__matrix__funcs__misc.html#ga614b44b294e1f0b555531020ceb85f2f">kaldi::RealFft</a></div><div class="ttdeci">void RealFft(VectorBase&lt; Real &gt; *v, bool forward)</div><div class="ttdoc">RealFft is a fourier transform of real inputs. </div><div class="ttdef"><b>Definition:</b> <a href="matrix-functions_8cc_source.html#l00391">matrix-functions.cc:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga04035df68c8b47aef47844494e226239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04035df68c8b47aef47844494e226239">&#9670;&nbsp;</a></span>Preemphasize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Preemphasize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>waveform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>preemph_coeff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-window_8cc_source.html#l00101">101</a> of file <a class="el" href="feature-window_8cc_source.html">feature-window.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, and <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-window_8cc_source.html#l00133">kaldi::ProcessWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                                            {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">if</span> (preemph_coeff == 0.0) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(preemph_coeff &gt;= 0.0 &amp;&amp; preemph_coeff &lt;= 1.0);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = waveform-&gt;Dim()-1; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    (*waveform)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) -= preemph_coeff * (*waveform)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>-1);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  (*waveform)(0) -= preemph_coeff * (*waveform)(0);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9cf1c363a29d6133ca1f1692b53d25cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9cf1c363a29d6133ca1f1692b53d25cb">&#9670;&nbsp;</a></span>ProcessPitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessPitch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1ProcessPitchOptions.html">ProcessPitchOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function processes the raw (NCCF, pitch) quantities computed by ComputeKaldiPitch, and processes them into features. </p>
<p>By default it will output three-dimensional features, (POV-feature, mean-subtracted-log-pitch, delta-of-raw-pitch), but this is configurable in the options. The number of rows of "output" will be the number of frames (rows) in "input", and the number of columns will be the number of different types of features requested (by default, 3; 4 is the max). The four config variables &ndash;add-pov-feature, &ndash;add-normalized-log-pitch, &ndash;add-delta-pitch, &ndash;add-raw-log-pitch determine which features we create; by default we create the first three. </p>

<p class="definition">Definition at line <a class="el" href="pitch-functions_8cc_source.html#l01581">1581</a> of file <a class="el" href="pitch-functions_8cc_source.html">pitch-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="pitch-functions_8h_source.html#l00334">OnlineProcessPitch::Dim()</a>, <a class="el" href="pitch-functions_8cc_source.html#l01414">OnlineProcessPitch::GetFrame()</a>, <a class="el" href="pitch-functions_8cc_source.html#l01569">OnlineProcessPitch::NumFramesReady()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="process-kaldi-pitch-feats_8cc_source.html#l00028">main()</a>, <a class="el" href="pitch-functions-test_8cc_source.html#l00154">kaldi::UnitTestPieces()</a>, and <a class="el" href="pitch-functions-test_8cc_source.html#l00561">kaldi::UnitTestProcess()</a>.</p>
<div class="fragment"><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                             {</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  OnlineMatrixFeature pitch_feat(input);</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  OnlineProcessPitch online_process_pitch(opts, &amp;pitch_feat);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  output-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(online_process_pitch.NumFramesReady(),</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                 online_process_pitch.Dim());</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keywordflow">for</span> (int32 t = 0; t &lt; online_process_pitch.NumFramesReady(); t++) {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    SubVector&lt;BaseFloat&gt; row(*output, t);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    online_process_pitch.GetFrame(t, &amp;row);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  }</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;}</div><div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf7194c30a03017f3b84a50176e8c0f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7194c30a03017f3b84a50176e8c0f7b">&#9670;&nbsp;</a></span>ProcessWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessWindow </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1FrameExtractionOptions.html">FrameExtractionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1FeatureWindowFunction.html">FeatureWindowFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>window_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> *&#160;</td>
          <td class="paramname"><em>log_energy_pre_window</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function does all the windowing steps after actually extracting the windowed signal: depeding on the configuration, it does dithering, dc offset removal, preemphasis, and multiplication by the windowing function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opts</td><td>The options class to be used </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">window_function</td><td>The windowing function&ndash; should have been initialized using 'opts'. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">window</td><td>A vector of size opts.WindowSize(). Note: it will typically be a sub-vector of a larger vector of size opts.PaddedWindowSize(), with the remaining samples zero, as the FFT code is more efficient if it operates on data with power-of-two size. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">log_energy_pre_window</td><td>If non-NULL, then after dithering and DC offset removal, this function will write to this pointer the log of the total energy (i.e. sum-squared) of the frame. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="feature-window_8cc_source.html#l00133">133</a> of file <a class="el" href="feature-window_8cc_source.html">feature-window.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8cc_source.html#l00955">VectorBase&lt; Real &gt;::Add()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="feature-window_8h_source.html#l00039">FrameExtractionOptions::dither</a>, <a class="el" href="feature-window_8cc_source.html#l00090">kaldi::Dither()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-math_8h_source.html#l00100">kaldi::Log()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00967">VectorBase&lt; Real &gt;::MulElements()</a>, <a class="el" href="feature-window_8h_source.html#l00040">FrameExtractionOptions::preemph_coeff</a>, <a class="el" href="feature-window_8cc_source.html#l00101">kaldi::Preemphasize()</a>, <a class="el" href="feature-window_8h_source.html#l00041">FrameExtractionOptions::remove_dc_offset</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00693">VectorBase&lt; Real &gt;::Sum()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00037">kaldi::VecVec()</a>, <a class="el" href="feature-window_8h_source.html#l00112">FeatureWindowFunction::window</a>, and <a class="el" href="feature-window_8h_source.html#l00097">FrameExtractionOptions::WindowSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-window_8cc_source.html#l00162">kaldi::ExtractWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                                     {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  int32 frame_length = opts.WindowSize();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(window-&gt;Dim() == frame_length);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (opts.dither != 0.0)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="group__feat.html#ga46d7bb685639cae24e9aa9077bfdbabd">Dither</a>(window, opts.dither);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">if</span> (opts.remove_dc_offset)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    window-&gt;Add(-window-&gt;Sum() / frame_length);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (log_energy_pre_window != NULL) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> energy = std::max(<a class="code" href="group__matrix__funcs__scalar.html#ga4750cd6f7a02a013435779588056b153">VecVec</a>(*window, *window),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                std::numeric_limits&lt;float&gt;::epsilon());</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    *log_energy_pre_window = <a class="code" href="namespacekaldi.html#af75c4606b108091c348102660de63180">Log</a>(energy);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (opts.preemph_coeff != 0.0)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="group__feat.html#ga04035df68c8b47aef47844494e226239">Preemphasize</a>(window, opts.preemph_coeff);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  window-&gt;MulElements(window_function.window);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="namespacekaldi_html_af75c4606b108091c348102660de63180"><div class="ttname"><a href="namespacekaldi.html#af75c4606b108091c348102660de63180">kaldi::Log</a></div><div class="ttdeci">double Log(double x)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00100">kaldi-math.h:100</a></div></div>
<div class="ttc" id="group__feat_html_ga04035df68c8b47aef47844494e226239"><div class="ttname"><a href="group__feat.html#ga04035df68c8b47aef47844494e226239">kaldi::Preemphasize</a></div><div class="ttdeci">void Preemphasize(VectorBase&lt; BaseFloat &gt; *waveform, BaseFloat preemph_coeff)</div><div class="ttdef"><b>Definition:</b> <a href="feature-window_8cc_source.html#l00101">feature-window.cc:101</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="group__matrix__funcs__scalar_html_ga4750cd6f7a02a013435779588056b153"><div class="ttname"><a href="group__matrix__funcs__scalar.html#ga4750cd6f7a02a013435779588056b153">kaldi::VecVec</a></div><div class="ttdeci">Real VecVec(const VectorBase&lt; Real &gt; &amp;a, const VectorBase&lt; Real &gt; &amp;b)</div><div class="ttdoc">Returns dot product between v1 and v2. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-vector_8cc_source.html#l00037">kaldi-vector.cc:37</a></div></div>
<div class="ttc" id="group__feat_html_ga46d7bb685639cae24e9aa9077bfdbabd"><div class="ttname"><a href="group__feat.html#ga46d7bb685639cae24e9aa9077bfdbabd">kaldi::Dither</a></div><div class="ttdeci">void Dither(VectorBase&lt; BaseFloat &gt; *waveform, BaseFloat dither_value)</div><div class="ttdef"><b>Definition:</b> <a href="feature-window_8cc_source.html#l00090">feature-window.cc:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga001696a46b519fbf1634d24e897bd3e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga001696a46b519fbf1634d24e897bd3e7">&#9670;&nbsp;</a></span>RealCepstrumToMagnitudeSpectrum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RealCepstrumToMagnitudeSpectrum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>real_cepstrum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>apply_exp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RealCepsToMagnitudeSpec takes the output of PowerSpecToRealCeps and computes an N-point FFT. </p>
<p>PowerSpecToRealCeps computes only the first N/2 + 1 elements (corresponding to positive quefrencies). This function recreates the symmetric real cepstrum by filling in the remaining N/2 - 1 values and computes an FFT. The FFT computation happens "in-place" and the first N/2 + 1 elements of the vector are the real part of the log magnitude spectrum (the imaginary parts should be close to 0). Contents of the last last N/2 - 1 elements are undefined at output, as they are not needed. </p>

<p class="definition">Definition at line <a class="el" href="feature-mcep_8cc_source.html#l00074">74</a> of file <a class="el" href="feature-mcep_8cc_source.html">feature-mcep.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, <a class="el" href="kaldi-vector_8h_source.html#l00093">VectorBase&lt; Real &gt;::Range()</a>, and <a class="el" href="matrix-functions_8cc_source.html#l00391">kaldi::RealFft()</a>.</p>

<p class="reference">Referenced by <a class="el" href="feature-aperiodic_8cc_source.html#l00303">AperiodicEnergy::IdentifyNoiseRegions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                                     {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  int32 dim = real_cepstrum-&gt;Dim();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  int32 half_dim = dim/2;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// Now reconstruct the last N/2 - 1 elements of the symmetric cepstrum that</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// correspond to the negative quefrencies.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; half_dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    (*real_cepstrum)(dim-<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = (*real_cepstrum)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="group__matrix__funcs__misc.html#ga614b44b294e1f0b555531020ceb85f2f">RealFft</a>(real_cepstrum, <span class="keyword">true</span>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  Real last_spectrum = (*real_cepstrum)(1);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; half_dim; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    Real <a class="code" href="namespacernnlm.html#a11d147c64891830c9e79b3315b1b2e21">real</a> = (*real_cepstrum)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>*2),</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        im = (*real_cepstrum)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>*2 + 1);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    (*real_cepstrum)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = real;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (std::abs(im) &gt; 1e-4) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      (*real_cepstrum)(<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) = 0.0;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="stringliteral">&quot;FFT of real cepstrum not expected to have imaginary value.&quot;</span>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  (*real_cepstrum)(half_dim) = last_spectrum;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (apply_exp)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    real_cepstrum-&gt;Range(0, half_dim+1).ApplyExp();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a11d147c64891830c9e79b3315b1b2e21"><div class="ttname"><a href="namespacernnlm.html#a11d147c64891830c9e79b3315b1b2e21">rnnlm::real</a></div><div class="ttdeci">double real</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8h_source.html#l00064">mikolov-rnnlm-lib.h:64</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__matrix__funcs__misc_html_ga614b44b294e1f0b555531020ceb85f2f"><div class="ttname"><a href="group__matrix__funcs__misc.html#ga614b44b294e1f0b555531020ceb85f2f">kaldi::RealFft</a></div><div class="ttdeci">void RealFft(VectorBase&lt; Real &gt; *v, bool forward)</div><div class="ttdoc">RealFft is a fourier transform of real inputs. </div><div class="ttdef"><b>Definition:</b> <a href="matrix-functions_8cc_source.html#l00391">matrix-functions.cc:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga85f143ad1d8dc191243adaa567cd735a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85f143ad1d8dc191243adaa567cd735a">&#9670;&nbsp;</a></span>ReverseFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReverseFrames </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00228">228</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8cc_source.html#l00228">VectorBase&lt; Real &gt;::CopyFromVec()</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                                       {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  int32 T = input_features.NumRows(), D = input_features.NumCols();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (T == 0 || D == 0)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;ReverseFrames: empty input&quot;</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  output_features-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(T, D);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">for</span> (int32 t = 0; t &lt; T; t++) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    SubVector&lt;BaseFloat&gt; dst_row(*output_features, t);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    SubVector&lt;BaseFloat&gt; src_row(input_features, T-1-t);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    dst_row.CopyFromVec(src_row);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac509a0ded6c5bbd8a955a21726a614f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac509a0ded6c5bbd8a955a21726a614f5">&#9670;&nbsp;</a></span>SlidingWindowCmn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SlidingWindowCmn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1SlidingWindowCmnOptions.html">SlidingWindowCmnOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies sliding-window cepstral mean and/or variance normalization. </p>
<p>See the strings registering the options in the options class for information on how this works and what the options are. input and output must have the same dimension. </p>

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00350">350</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-matrix_8cc_source.html#l00861">MatrixBase&lt; Real &gt;::CopyFromMat()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l01065">kaldi::SameDim()</a>, and <a class="el" href="feature-functions_8cc_source.html#l00250">kaldi::SlidingWindowCmnInternal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="apply-cmvn-sliding_8cc_source.html#l00026">main()</a>, <a class="el" href="feature-functions_8h_source.html#l00172">SlidingWindowCmnOptions::Register()</a>, and <a class="el" href="feature-functions-test_8cc_source.html#l00032">kaldi::UnitTestOnlineCmvn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                     {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="group__matrix__funcs__io.html#ga07b147212efb08775c252cd4cc7453fe">SameDim</a>(input, *output) &amp;&amp; input.NumRows() &gt; 0);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  Matrix&lt;double&gt; input_dbl(input), output_dbl(input.NumRows(), input.NumCols());</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// call double-precision version</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="namespacekaldi.html#afeb46d0f391b790f76a8c2797f862044">SlidingWindowCmnInternal</a>(opts, input_dbl, &amp;output_dbl);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  output-&gt;CopyFromMat(output_dbl);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div><div class="ttc" id="group__matrix__funcs__io_html_ga07b147212efb08775c252cd4cc7453fe"><div class="ttname"><a href="group__matrix__funcs__io.html#ga07b147212efb08775c252cd4cc7453fe">kaldi::SameDim</a></div><div class="ttdeci">bool SameDim(const MatrixBase&lt; Real &gt; &amp;M, const MatrixBase&lt; Real &gt; &amp;N)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l01065">kaldi-matrix.h:1065</a></div></div>
<div class="ttc" id="namespacekaldi_html_afeb46d0f391b790f76a8c2797f862044"><div class="ttname"><a href="namespacekaldi.html#afeb46d0f391b790f76a8c2797f862044">kaldi::SlidingWindowCmnInternal</a></div><div class="ttdeci">void SlidingWindowCmnInternal(const SlidingWindowCmnOptions &amp;opts, const MatrixBase&lt; double &gt; &amp;input, MatrixBase&lt; double &gt; *output)</div><div class="ttdef"><b>Definition:</b> <a href="feature-functions_8cc_source.html#l00250">feature-functions.cc:250</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1d650c792ffea3eba71aaaf0df52d93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d650c792ffea3eba71aaaf0df52d93e">&#9670;&nbsp;</a></span>SpliceFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpliceFrames </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1MatrixBase.html">MatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>left_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>right_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>output_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="feature-functions_8cc_source.html#l00205">205</a> of file <a class="el" href="feature-functions_8cc_source.html">feature-functions.cc</a>.</p>

<p class="reference">References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="splice-feats_8cc_source.html#l00025">main()</a>, and <a class="el" href="online-feature-test_8cc_source.html#l00121">kaldi::TestOnlineSpliceFrames()</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                      {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  int32 T = input_features.NumRows(), D = input_features.NumCols();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (T == 0 || D == 0)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;SpliceFrames: empty input&quot;</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(left_context &gt;= 0 &amp;&amp; right_context &gt;= 0);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  int32 N = 1 + left_context + right_context;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  output_features-&gt;<a class="code" href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">Resize</a>(T, D*N);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span> (int32 t = 0; t &lt; T; t++) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    SubVector&lt;BaseFloat&gt; dst_row(*output_features, t);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; N; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>++) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      int32 t2 = t + <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> - left_context;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (t2 &lt; 0) t2 = 0;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">if</span> (t2 &gt;= T) t2 = T-1;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      SubVector&lt;BaseFloat&gt; dst(dst_row, <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>*D, D),</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          src(input_features, t2);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      dst.CopyFromVec(src);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_a70c095b28633f8874632a9d239a903d5"><div class="ttname"><a href="classkaldi_1_1Matrix.html#a70c095b28633f8874632a9d239a903d5">kaldi::Matrix::Resize</a></div><div class="ttdeci">void Resize(const MatrixIndexT r, const MatrixIndexT c, MatrixResizeType resize_type=kSetZero, MatrixStrideType stride_type=kDefaultStride)</div><div class="ttdoc">Sets matrix to a specified size (zero is OK as long as both r and c are zero). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l00818">kaldi-matrix.cc:818</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
