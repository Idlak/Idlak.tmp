<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: DiscriminativeNnetExample Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DiscriminativeNnetExample Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This struct is used to store the information we need for discriminative training (MMI or MPE).  
 <a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for DiscriminativeNnetExample:</div>
<div class="dyncontent">
<div class="center"><img src="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample__coll__graph.png" border="0" usemap="#DiscriminativeNnetExample_coll__map" alt="Collaboration graph"/></div>
<map name="DiscriminativeNnetExample_coll__map" id="DiscriminativeNnetExample_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4c47fd4f163011eb1939870d25aa656a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a4c47fd4f163011eb1939870d25aa656a">Check</a> () const</td></tr>
<tr class="separator:a4c47fd4f163011eb1939870d25aa656a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f354fd5f096134162f01719096e6fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a68f354fd5f096134162f01719096e6fc">Write</a> (std::ostream &amp;os, <a class="el" href="classbool.html">bool</a> binary) const</td></tr>
<tr class="separator:a68f354fd5f096134162f01719096e6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="separator:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0f95c8bc384a39738f3f4773bd34cefb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">weight</a></td></tr>
<tr class="memdesc:a0f95c8bc384a39738f3f4773bd34cefb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The weight we assign to this example; this will typically be one, but we include it for the sake of generality.  <a href="#a0f95c8bc384a39738f3f4773bd34cefb">More...</a><br /></td></tr>
<tr class="separator:a0f95c8bc384a39738f3f4773bd34cefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67677205f0f09efb77edd336f29900b7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int32 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">num_ali</a></td></tr>
<tr class="memdesc:a67677205f0f09efb77edd336f29900b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The numerator alignment.  <a href="#a67677205f0f09efb77edd336f29900b7">More...</a><br /></td></tr>
<tr class="separator:a67677205f0f09efb77edd336f29900b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4c38378bf6960f1a8611d07643d8daf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aeba2c05d999bd2f794db8919ac816bb3">CompactLattice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">den_lat</a></td></tr>
<tr class="memdesc:ae4c38378bf6960f1a8611d07643d8daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The denominator lattice.  <a href="#ae4c38378bf6960f1a8611d07643d8daf">More...</a><br /></td></tr>
<tr class="separator:ae4c38378bf6960f1a8611d07643d8daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592a3e7118d5ebe1cda49e6e6d06ba7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">input_frames</a></td></tr>
<tr class="memdesc:a592a3e7118d5ebe1cda49e6e6d06ba7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input data&ndash; typically with a number of frames [NumRows()] larger than labels.size(), because it includes features to the left and right as needed for the temporal context of the network.  <a href="#a592a3e7118d5ebe1cda49e6e6d06ba7c">More...</a><br /></td></tr>
<tr class="separator:a592a3e7118d5ebe1cda49e6e6d06ba7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e87cd6f9e107e7ba9235a3acd722fe1"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">left_context</a></td></tr>
<tr class="memdesc:a9e87cd6f9e107e7ba9235a3acd722fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of frames of left context in the features (we can work out the #frames of right context from input_frames.NumRows(), num_ali.size(), and this).  <a href="#a9e87cd6f9e107e7ba9235a3acd722fe1">More...</a><br /></td></tr>
<tr class="separator:a9e87cd6f9e107e7ba9235a3acd722fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad870f332576dd0b02de55b901f64de52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ad870f332576dd0b02de55b901f64de52">spk_info</a></td></tr>
<tr class="memdesc:ad870f332576dd0b02de55b901f64de52"><td class="mdescLeft">&#160;</td><td class="mdescRight">spk_info contains any component of the features that varies slowly or not at all with time (and hence, we would lose little by averaging it over time and storing the average).  <a href="#ad870f332576dd0b02de55b901f64de52">More...</a><br /></td></tr>
<tr class="separator:ad870f332576dd0b02de55b901f64de52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This struct is used to store the information we need for discriminative training (MMI or MPE). </p>
<p>Each example corresponds to one chunk of a file (for better randomization and to prevent instability, we may split files in the middle). The example contains the numerator alignment, the denominator lattice, and the input features (extended at the edges according to the left-context and right-context the network needs). It may also contain a speaker-vector (note: this is not part of any standard recipe right now but is included in case it's useful in the future). </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00136">136</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4c47fd4f163011eb1939870d25aa656a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c47fd4f163011eb1939870d25aa656a">&#9670;&nbsp;</a></span>Check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8cc_source.html#l00295">295</a> of file <a class="el" href="nnet2_2nnet-example_8cc_source.html">nnet-example.cc</a>.</p>

<p class="reference">References <a class="el" href="lattice-functions_8cc_source.html#l00111">kaldi::CompactLatticeStateTimes()</a>, <a class="el" href="nnet2_2nnet-example_8h_source.html#l00049">NnetExample::input_frames</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="nnet2_2nnet-example_8h_source.html#l00053">NnetExample::left_context</a>, and <a class="el" href="compressed-matrix_8h_source.html#l00146">CompressedMatrix::NumRows()</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00109">DiscriminativeExampleSplitter::Excise()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00027">kaldi::nnet2::LatticeToDiscriminativeExample()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>, and <a class="el" href="nnet-example-functions_8cc_source.html#l00121">DiscriminativeExampleSplitter::Split()</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                            {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">weight</a> &gt; 0.0);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(!<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">num_ali</a>.empty());</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  int32 num_frames = <span class="keyword">static_cast&lt;</span>int32<span class="keyword">&gt;</span>(<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">num_ali</a>.size());</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  std::vector&lt;int32&gt; times;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  int32 num_frames_den = <a class="code" href="namespacekaldi.html#af1f4900deddf6047ebc683838997b264">CompactLatticeStateTimes</a>(<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">den_lat</a>, &amp;times);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(num_frames == num_frames_den);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">input_frames</a>.<a class="code" href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">NumRows</a>() &gt;= <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">left_context</a> + num_frames);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_af1f4900deddf6047ebc683838997b264"><div class="ttname"><a href="namespacekaldi.html#af1f4900deddf6047ebc683838997b264">kaldi::CompactLatticeStateTimes</a></div><div class="ttdeci">int32 CompactLatticeStateTimes(const CompactLattice &amp;lat, vector&lt; int32 &gt; *times)</div><div class="ttdoc">As LatticeStateTimes, but in the CompactLattice format. </div><div class="ttdef"><b>Definition:</b> <a href="lattice-functions_8cc_source.html#l00111">lattice-functions.cc:111</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_ae4c38378bf6960f1a8611d07643d8daf"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">kaldi::nnet2::DiscriminativeNnetExample::den_lat</a></div><div class="ttdeci">CompactLattice den_lat</div><div class="ttdoc">The denominator lattice. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00148">nnet-example.h:148</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a592a3e7118d5ebe1cda49e6e6d06ba7c"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">kaldi::nnet2::DiscriminativeNnetExample::input_frames</a></div><div class="ttdeci">Matrix&lt; BaseFloat &gt; input_frames</div><div class="ttdoc">The input data– typically with a number of frames [NumRows()] larger than labels.size(), because it includes features to the left and right as needed for the temporal context of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00159">nnet-example.h:159</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a67677205f0f09efb77edd336f29900b7"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">kaldi::nnet2::DiscriminativeNnetExample::num_ali</a></div><div class="ttdeci">std::vector&lt; int32 &gt; num_ali</div><div class="ttdoc">The numerator alignment. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00143">nnet-example.h:143</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a0f95c8bc384a39738f3f4773bd34cefb"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">kaldi::nnet2::DiscriminativeNnetExample::weight</a></div><div class="ttdeci">BaseFloat weight</div><div class="ttdoc">The weight we assign to this example; this will typically be one, but we include it for the sake of g...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00140">nnet-example.h:140</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1MatrixBase_html_a01cf7fccddf8deddc75b34408144ded1"><div class="ttname"><a href="classkaldi_1_1MatrixBase.html#a01cf7fccddf8deddc75b34408144ded1">kaldi::MatrixBase::NumRows</a></div><div class="ttdeci">MatrixIndexT NumRows() const</div><div class="ttdoc">Returns number of rows (or zero for emtpy matrix). </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l00061">kaldi-matrix.h:61</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a9e87cd6f9e107e7ba9235a3acd722fe1"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">kaldi::nnet2::DiscriminativeNnetExample::left_context</a></div><div class="ttdeci">int32 left_context</div><div class="ttdoc">The number of frames of left context in the features (we can work out the #frames of right context fr...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00164">nnet-example.h:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e7d2790fc7e94fe9780ccc937de1270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7d2790fc7e94fe9780ccc937de1270">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8cc_source.html#l00269">269</a> of file <a class="el" href="nnet2_2nnet-example_8cc_source.html">nnet-example.cc</a>.</p>

<p class="reference">References <a class="el" href="io-funcs_8cc_source.html#l00194">kaldi::ExpectToken()</a>, <a class="el" href="nnet2_2nnet-example_8h_source.html#l00049">NnetExample::input_frames</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="nnet2_2nnet-example_8h_source.html#l00053">NnetExample::left_context</a>, <a class="el" href="compressed-matrix_8cc_source.html#l00566">CompressedMatrix::Read()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00055">kaldi::ReadBasicType()</a>, <a class="el" href="kaldi-lattice_8cc_source.html#l00304">kaldi::ReadCompactLattice()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00232">kaldi::ReadIntegerVector()</a>, and <a class="el" href="nnet2_2nnet-example_8h_source.html#l00058">NnetExample::spk_info</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                                          {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// Note: weight, num_ali, den_lat, input_frames, left_context and spk_info are</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// members.  This is a struct.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;DiscriminativeNnetExample&gt;&quot;</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;Weight&gt;&quot;</span>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">weight</a>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;NumAli&gt;&quot;</span>);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga0e0391048fe585c1e97b4d65d59d32bc">ReadIntegerVector</a>(is, binary, &amp;<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">num_ali</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="namespacekaldi.html#aeba2c05d999bd2f794db8919ac816bb3">CompactLattice</a> *den_lat_tmp = NULL;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacekaldi.html#acbc7fff9192da47406b6258309b21ef0">ReadCompactLattice</a>(is, binary, &amp;den_lat_tmp) || den_lat_tmp == NULL) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// We can&#39;t return error status from this function so we</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// throw an exception. </span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Error reading CompactLattice from stream&quot;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">den_lat</a> = *den_lat_tmp;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keyword">delete</span> den_lat_tmp;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;InputFrames&gt;&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">input_frames</a>.<a class="code" href="classkaldi_1_1Matrix.html#aee763dab434f2d24c20edf16dada3abc">Read</a>(is, binary);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;LeftContext&gt;&quot;</span>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">left_context</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;SpkInfo&gt;&quot;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ad870f332576dd0b02de55b901f64de52">spk_info</a>.Read(is, binary);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;/DiscriminativeNnetExample&gt;&quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div><div class="ttc" id="group__io__funcs__basic_html_ga1bd1af0ef712b76f2332febcec8d095a"><div class="ttname"><a href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">kaldi::ReadBasicType</a></div><div class="ttdeci">void ReadBasicType(std::istream &amp;is, bool binary, T *t)</div><div class="ttdoc">ReadBasicType is the name of the read function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00055">io-funcs-inl.h:55</a></div></div>
<div class="ttc" id="classkaldi_1_1Matrix_html_aee763dab434f2d24c20edf16dada3abc"><div class="ttname"><a href="classkaldi_1_1Matrix.html#aee763dab434f2d24c20edf16dada3abc">kaldi::Matrix::Read</a></div><div class="ttdeci">void Read(std::istream &amp;in, bool binary, bool add=false)</div><div class="ttdoc">read from stream. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8cc_source.html#l01449">kaldi-matrix.cc:1449</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga0e0391048fe585c1e97b4d65d59d32bc"><div class="ttname"><a href="group__io__funcs__basic.html#ga0e0391048fe585c1e97b4d65d59d32bc">kaldi::ReadIntegerVector</a></div><div class="ttdeci">void ReadIntegerVector(std::istream &amp;is, bool binary, std::vector&lt; T &gt; *v)</div><div class="ttdoc">Function for reading STL vector of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00232">io-funcs-inl.h:232</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga4c7a80f758e878578e78b667f62463a5"><div class="ttname"><a href="group__io__funcs__basic.html#ga4c7a80f758e878578e78b667f62463a5">kaldi::ExpectToken</a></div><div class="ttdeci">void ExpectToken(std::istream &amp;is, bool binary, const char *token)</div><div class="ttdoc">ExpectToken tries to read in the given token, and throws an exception on failure. ...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00194">io-funcs.cc:194</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_ad870f332576dd0b02de55b901f64de52"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ad870f332576dd0b02de55b901f64de52">kaldi::nnet2::DiscriminativeNnetExample::spk_info</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; spk_info</div><div class="ttdoc">spk_info contains any component of the features that varies slowly or not at all with time (and hence...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00171">nnet-example.h:171</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_ae4c38378bf6960f1a8611d07643d8daf"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">kaldi::nnet2::DiscriminativeNnetExample::den_lat</a></div><div class="ttdeci">CompactLattice den_lat</div><div class="ttdoc">The denominator lattice. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00148">nnet-example.h:148</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a592a3e7118d5ebe1cda49e6e6d06ba7c"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">kaldi::nnet2::DiscriminativeNnetExample::input_frames</a></div><div class="ttdeci">Matrix&lt; BaseFloat &gt; input_frames</div><div class="ttdoc">The input data– typically with a number of frames [NumRows()] larger than labels.size(), because it includes features to the left and right as needed for the temporal context of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00159">nnet-example.h:159</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a67677205f0f09efb77edd336f29900b7"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">kaldi::nnet2::DiscriminativeNnetExample::num_ali</a></div><div class="ttdeci">std::vector&lt; int32 &gt; num_ali</div><div class="ttdoc">The numerator alignment. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00143">nnet-example.h:143</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a0f95c8bc384a39738f3f4773bd34cefb"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">kaldi::nnet2::DiscriminativeNnetExample::weight</a></div><div class="ttdeci">BaseFloat weight</div><div class="ttdoc">The weight we assign to this example; this will typically be one, but we include it for the sake of g...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00140">nnet-example.h:140</a></div></div>
<div class="ttc" id="namespacekaldi_html_aeba2c05d999bd2f794db8919ac816bb3"><div class="ttname"><a href="namespacekaldi.html#aeba2c05d999bd2f794db8919ac816bb3">kaldi::CompactLattice</a></div><div class="ttdeci">fst::VectorFst&lt; CompactLatticeArc &gt; CompactLattice</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-lattice_8h_source.html#l00046">kaldi-lattice.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a9e87cd6f9e107e7ba9235a3acd722fe1"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">kaldi::nnet2::DiscriminativeNnetExample::left_context</a></div><div class="ttdeci">int32 left_context</div><div class="ttdoc">The number of frames of left context in the features (we can work out the #frames of right context fr...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00164">nnet-example.h:164</a></div></div>
<div class="ttc" id="namespacekaldi_html_acbc7fff9192da47406b6258309b21ef0"><div class="ttname"><a href="namespacekaldi.html#acbc7fff9192da47406b6258309b21ef0">kaldi::ReadCompactLattice</a></div><div class="ttdeci">bool ReadCompactLattice(std::istream &amp;is, bool binary, CompactLattice **clat)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-lattice_8cc_source.html#l00304">kaldi-lattice.cc:304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68f354fd5f096134162f01719096e6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f354fd5f096134162f01719096e6fc">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Write </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8cc_source.html#l00242">242</a> of file <a class="el" href="nnet2_2nnet-example_8cc_source.html">nnet-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet2_2nnet-example_8h_source.html#l00049">NnetExample::input_frames</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="nnet2_2nnet-example_8h_source.html#l00053">NnetExample::left_context</a>, <a class="el" href="nnet2_2nnet-example_8h_source.html#l00058">NnetExample::spk_info</a>, <a class="el" href="compressed-matrix_8cc_source.html#l00531">CompressedMatrix::Write()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00034">kaldi::WriteBasicType()</a>, <a class="el" href="kaldi-lattice_8cc_source.html#l00062">kaldi::WriteCompactLattice()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00198">kaldi::WriteIntegerVector()</a>, and <a class="el" href="io-funcs_8cc_source.html#l00134">kaldi::WriteToken()</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                                                 {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// Note: weight, num_ali, den_lat, input_frames, left_context and spk_info are</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// members.  This is a struct.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;DiscriminativeNnetExample&gt;&quot;</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;Weight&gt;&quot;</span>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">weight</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;NumAli&gt;&quot;</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga99e4557f845a9c1e3202ab136226a980">WriteIntegerVector</a>(os, binary, <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">num_ali</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacekaldi.html#ad157d70d6d5f5910b14b1b9fc80a9a4a">WriteCompactLattice</a>(os, binary, <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">den_lat</a>)) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// We can&#39;t return error status from this function so we</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// throw an exception. </span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Error writing CompactLattice to stream&quot;</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;InputFrames&gt;&quot;</span>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    CompressedMatrix cm(<a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">input_frames</a>); <span class="comment">// Note: this can be read as a regular</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                       <span class="comment">// matrix.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    cm.Write(os, binary);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;LeftContext&gt;&quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">left_context</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;SpkInfo&gt;&quot;</span>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ad870f332576dd0b02de55b901f64de52">spk_info</a>.Write(os, binary);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;/DiscriminativeNnetExample&gt;&quot;</span>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div><div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_ad870f332576dd0b02de55b901f64de52"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ad870f332576dd0b02de55b901f64de52">kaldi::nnet2::DiscriminativeNnetExample::spk_info</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; spk_info</div><div class="ttdoc">spk_info contains any component of the features that varies slowly or not at all with time (and hence...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00171">nnet-example.h:171</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_ae4c38378bf6960f1a8611d07643d8daf"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#ae4c38378bf6960f1a8611d07643d8daf">kaldi::nnet2::DiscriminativeNnetExample::den_lat</a></div><div class="ttdeci">CompactLattice den_lat</div><div class="ttdoc">The denominator lattice. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00148">nnet-example.h:148</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga87f1638ef3c0a3ee117178b202c2d02a"><div class="ttname"><a href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">kaldi::WriteToken</a></div><div class="ttdeci">void WriteToken(std::ostream &amp;os, bool binary, const char *token)</div><div class="ttdoc">The WriteToken functions are for writing nonempty sequences of non-space characters. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00134">io-funcs.cc:134</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a592a3e7118d5ebe1cda49e6e6d06ba7c"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a592a3e7118d5ebe1cda49e6e6d06ba7c">kaldi::nnet2::DiscriminativeNnetExample::input_frames</a></div><div class="ttdeci">Matrix&lt; BaseFloat &gt; input_frames</div><div class="ttdoc">The input data– typically with a number of frames [NumRows()] larger than labels.size(), because it includes features to the left and right as needed for the temporal context of the network. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00159">nnet-example.h:159</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a67677205f0f09efb77edd336f29900b7"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a67677205f0f09efb77edd336f29900b7">kaldi::nnet2::DiscriminativeNnetExample::num_ali</a></div><div class="ttdeci">std::vector&lt; int32 &gt; num_ali</div><div class="ttdoc">The numerator alignment. </div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00143">nnet-example.h:143</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a0f95c8bc384a39738f3f4773bd34cefb"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a0f95c8bc384a39738f3f4773bd34cefb">kaldi::nnet2::DiscriminativeNnetExample::weight</a></div><div class="ttdeci">BaseFloat weight</div><div class="ttdoc">The weight we assign to this example; this will typically be one, but we include it for the sake of g...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00140">nnet-example.h:140</a></div></div>
<div class="ttc" id="namespacekaldi_html_ad157d70d6d5f5910b14b1b9fc80a9a4a"><div class="ttname"><a href="namespacekaldi.html#ad157d70d6d5f5910b14b1b9fc80a9a4a">kaldi::WriteCompactLattice</a></div><div class="ttdeci">bool WriteCompactLattice(std::ostream &amp;os, bool binary, const CompactLattice &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-lattice_8cc_source.html#l00062">kaldi-lattice.cc:62</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga99e4557f845a9c1e3202ab136226a980"><div class="ttname"><a href="group__io__funcs__basic.html#ga99e4557f845a9c1e3202ab136226a980">kaldi::WriteIntegerVector</a></div><div class="ttdeci">void WriteIntegerVector(std::ostream &amp;os, bool binary, const std::vector&lt; T &gt; &amp;v)</div><div class="ttdoc">Function for writing STL vectors of integer types. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00198">io-funcs-inl.h:198</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga108506a9aabafd9006926aa1b47617da"><div class="ttname"><a href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">kaldi::WriteBasicType</a></div><div class="ttdeci">void WriteBasicType(std::ostream &amp;os, bool binary, T t)</div><div class="ttdoc">WriteBasicType is the name of the write function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00034">io-funcs-inl.h:34</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample_html_a9e87cd6f9e107e7ba9235a3acd722fe1"><div class="ttname"><a href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html#a9e87cd6f9e107e7ba9235a3acd722fe1">kaldi::nnet2::DiscriminativeNnetExample::left_context</a></div><div class="ttdeci">int32 left_context</div><div class="ttdoc">The number of frames of left context in the features (we can work out the #frames of right context fr...</div><div class="ttdef"><b>Definition:</b> <a href="nnet2_2nnet-example_8h_source.html#l00164">nnet-example.h:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae4c38378bf6960f1a8611d07643d8daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c38378bf6960f1a8611d07643d8daf">&#9670;&nbsp;</a></span>den_lat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aeba2c05d999bd2f794db8919ac816bb3">CompactLattice</a> den_lat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The denominator lattice. </p>
<p>Note: any acoustic likelihoods in the denominator lattice will be recomputed at the time we train. </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00148">148</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00891">kaldi::nnet2::AppendDiscriminativeExamples()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00838">kaldi::nnet2::ExampleToPdfPost()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00178">NnetDiscriminativeUpdater::LatticeComputations()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00027">kaldi::nnet2::LatticeToDiscriminativeExample()</a>, <a class="el" href="nnet-compare-hash-discriminative_8cc_source.html#l00025">main()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>, and <a class="el" href="nnet-example-functions_8cc_source.html#l00263">DiscriminativeExampleSplitter::PrepareLattice()</a>.</p>

</div>
</div>
<a id="a592a3e7118d5ebe1cda49e6e6d06ba7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592a3e7118d5ebe1cda49e6e6d06ba7c">&#9670;&nbsp;</a></span>input_frames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt; input_frames</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The input data&ndash; typically with a number of frames [NumRows()] larger than labels.size(), because it includes features to the left and right as needed for the temporal context of the network. </p>
<p>(see also the left_context variable). Caution: when we write this to disk, we do so as <a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a>. Because we do various manipulations on these things in memory, such as splitting, we don't want it to be a <a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a> in memory as this would be wasteful in time and also would lead to further loss of accuracy. </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00159">159</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00891">kaldi::nnet2::AppendDiscriminativeExamples()</a>, <a class="el" href="nnet-copy-egs-discriminative_8cc_source.html#l00042">kaldi::nnet2::AverageConstPart()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00121">NnetDiscriminativeUpdater::GetInputFeatures()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00027">kaldi::nnet2::LatticeToDiscriminativeExample()</a>, <a class="el" href="nnet-combine-egs-discriminative_8cc_source.html#l00025">main()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00101">NnetDiscriminativeUpdater::NnetDiscriminativeUpdater()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00161">DiscriminativeExampleSplitter::RightContext()</a>, and <a class="el" href="nnet-example-functions_8cc_source.html#l00786">kaldi::nnet2::UpdateHash()</a>.</p>

</div>
</div>
<a id="a9e87cd6f9e107e7ba9235a3acd722fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e87cd6f9e107e7ba9235a3acd722fe1">&#9670;&nbsp;</a></span>left_context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 left_context</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of frames of left context in the features (we can work out the #frames of right context from input_frames.NumRows(), num_ali.size(), and this). </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00164">164</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00891">kaldi::nnet2::AppendDiscriminativeExamples()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00121">NnetDiscriminativeUpdater::GetInputFeatures()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00027">kaldi::nnet2::LatticeToDiscriminativeExample()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00161">DiscriminativeExampleSplitter::RightContext()</a>, and <a class="el" href="nnet-example-functions_8cc_source.html#l00786">kaldi::nnet2::UpdateHash()</a>.</p>

</div>
</div>
<a id="a67677205f0f09efb77edd336f29900b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67677205f0f09efb77edd336f29900b7">&#9670;&nbsp;</a></span>num_ali</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int32&gt; num_ali</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The numerator alignment. </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00143">143</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00891">kaldi::nnet2::AppendDiscriminativeExamples()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00299">DiscriminativeExampleSplitter::ComputeFrameInfo()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00838">kaldi::nnet2::ExampleToPdfPost()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00326">NnetDiscriminativeUpdater::GetDiscriminativePosteriors()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00121">NnetDiscriminativeUpdater::GetInputFeatures()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00178">NnetDiscriminativeUpdater::LatticeComputations()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00027">kaldi::nnet2::LatticeToDiscriminativeExample()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00159">DiscriminativeExampleSplitter::NumFrames()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>, and <a class="el" href="nnet-example-functions_8cc_source.html#l00786">kaldi::nnet2::UpdateHash()</a>.</p>

</div>
</div>
<a id="ad870f332576dd0b02de55b901f64de52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad870f332576dd0b02de55b901f64de52">&#9670;&nbsp;</a></span>spk_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt; spk_info</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>spk_info contains any component of the features that varies slowly or not at all with time (and hence, we would lose little by averaging it over time and storing the average). </p>
<p>We'll append this to each of the input features, if used. </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00171">171</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00891">kaldi::nnet2::AppendDiscriminativeExamples()</a>, <a class="el" href="nnet-copy-egs-discriminative_8cc_source.html#l00042">kaldi::nnet2::AverageConstPart()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>, and <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00142">NnetDiscriminativeUpdater::Propagate()</a>.</p>

</div>
</div>
<a id="a0f95c8bc384a39738f3f4773bd34cefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f95c8bc384a39738f3f4773bd34cefb">&#9670;&nbsp;</a></span>weight</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> weight</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The weight we assign to this example; this will typically be one, but we include it for the sake of generality. </p>

<p class="definition">Definition at line <a class="el" href="nnet2_2nnet-example_8h_source.html#l00140">140</a> of file <a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-example-functions_8cc_source.html#l00891">kaldi::nnet2::AppendDiscriminativeExamples()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00398">DiscriminativeExampleSplitter::DoExcise()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00838">kaldi::nnet2::ExampleToPdfPost()</a>, <a class="el" href="nnet-compute-discriminative_8cc_source.html#l00178">NnetDiscriminativeUpdater::LatticeComputations()</a>, <a class="el" href="nnet-example-functions_8cc_source.html#l00027">kaldi::nnet2::LatticeToDiscriminativeExample()</a>, and <a class="el" href="nnet-example-functions_8cc_source.html#l00596">DiscriminativeExampleSplitter::OutputOneSplit()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>nnet2/<a class="el" href="nnet2_2nnet-example_8h_source.html">nnet-example.h</a></li>
<li>nnet2/<a class="el" href="nnet2_2nnet-example_8cc_source.html">nnet-example.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet2.html">nnet2</a></li><li class="navelem"><a class="el" href="structkaldi_1_1nnet2_1_1DiscriminativeNnetExample.html">DiscriminativeNnetExample</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
