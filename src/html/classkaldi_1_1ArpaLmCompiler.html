<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: ArpaLmCompiler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1ArpaLmCompiler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classkaldi_1_1ArpaLmCompiler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ArpaLmCompiler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArpaLmCompiler:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1ArpaLmCompiler__inherit__graph.png" border="0" usemap="#ArpaLmCompiler_inherit__map" alt="Inheritance graph"/></div>
<map name="ArpaLmCompiler_inherit__map" id="ArpaLmCompiler_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ArpaLmCompiler:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1ArpaLmCompiler__coll__graph.png" border="0" usemap="#ArpaLmCompiler_coll__map" alt="Collaboration graph"/></div>
<map name="ArpaLmCompiler_coll__map" id="ArpaLmCompiler_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9cd131498ec6742aafdabe96899a80d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#ab9cd131498ec6742aafdabe96899a80d">ArpaLmCompiler</a> (<a class="el" href="structkaldi_1_1ArpaParseOptions.html">ArpaParseOptions</a> options, int sub_eps, fst::SymbolTable *symbols)</td></tr>
<tr class="separator:ab9cd131498ec6742aafdabe96899a80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67eac7038d204d16cba4435f991acb3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a67eac7038d204d16cba4435f991acb3d">~ArpaLmCompiler</a> ()</td></tr>
<tr class="separator:a67eac7038d204d16cba4435f991acb3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a6b2af10af45638919c8883ddefc7d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefst.html#a88a968cc6f6d68c2b3dd6aa90385f65c">fst::StdVectorFst</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a96a6b2af10af45638919c8883ddefc7d">Fst</a> () const</td></tr>
<tr class="separator:a96a6b2af10af45638919c8883ddefc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13d0d31b9013ac600b8387cd66bf795"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefst.html#a88a968cc6f6d68c2b3dd6aa90385f65c">fst::StdVectorFst</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#aa13d0d31b9013ac600b8387cd66bf795">MutableFst</a> ()</td></tr>
<tr class="separator:aa13d0d31b9013ac600b8387cd66bf795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1ArpaFileParser"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1ArpaFileParser')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1ArpaFileParser.html">ArpaFileParser</a></td></tr>
<tr class="memitem:ae752ef487d1ac4060474f771c4a8687e inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#ae752ef487d1ac4060474f771c4a8687e">ArpaFileParser</a> (<a class="el" href="structkaldi_1_1ArpaParseOptions.html">ArpaParseOptions</a> options, fst::SymbolTable *symbols)</td></tr>
<tr class="memdesc:ae752ef487d1ac4060474f771c4a8687e inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the parser with the given options and optional symbol table.  <a href="classkaldi_1_1ArpaFileParser.html#ae752ef487d1ac4060474f771c4a8687e">More...</a><br /></td></tr>
<tr class="separator:ae752ef487d1ac4060474f771c4a8687e inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32b9c9df3c3ebc85403d66f1124f96f inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#ad32b9c9df3c3ebc85403d66f1124f96f">~ArpaFileParser</a> ()</td></tr>
<tr class="separator:ad32b9c9df3c3ebc85403d66f1124f96f inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7ef2c6c972db48d8f7370164dbe286 inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#add7ef2c6c972db48d8f7370164dbe286">Read</a> (std::istream &amp;is)</td></tr>
<tr class="memdesc:add7ef2c6c972db48d8f7370164dbe286 inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read ARPA LM file from a stream.  <a href="classkaldi_1_1ArpaFileParser.html#add7ef2c6c972db48d8f7370164dbe286">More...</a><br /></td></tr>
<tr class="separator:add7ef2c6c972db48d8f7370164dbe286 inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6f20b276b2dbb6de0cc49d582aeaac inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structkaldi_1_1ArpaParseOptions.html">ArpaParseOptions</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">Options</a> () const</td></tr>
<tr class="memdesc:a1c6f20b276b2dbb6de0cc49d582aeaac inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parser options.  <a href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">More...</a><br /></td></tr>
<tr class="separator:a1c6f20b276b2dbb6de0cc49d582aeaac inherit pub_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac33ba37ddcbb83de423859229d1b66ef"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#ac33ba37ddcbb83de423859229d1b66ef">HeaderAvailable</a> ()</td></tr>
<tr class="memdesc:ac33ba37ddcbb83de423859229d1b66ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override function called to signal that ARPA header with the expected number of n-grams has been read, and ngram_counts() is now valid.  <a href="#ac33ba37ddcbb83de423859229d1b66ef">More...</a><br /></td></tr>
<tr class="separator:ac33ba37ddcbb83de423859229d1b66ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc11f71394309dfaa08a242396c8747"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#accc11f71394309dfaa08a242396c8747">ConsumeNGram</a> (const <a class="el" href="structkaldi_1_1NGram.html">NGram</a> &amp;ngram)</td></tr>
<tr class="memdesc:accc11f71394309dfaa08a242396c8747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pure override that must be implemented to process current n-gram.  <a href="#accc11f71394309dfaa08a242396c8747">More...</a><br /></td></tr>
<tr class="separator:accc11f71394309dfaa08a242396c8747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4aa4de087df40a205f64b7135f0281"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a9e4aa4de087df40a205f64b7135f0281">ReadComplete</a> ()</td></tr>
<tr class="memdesc:a9e4aa4de087df40a205f64b7135f0281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override function called after the last n-gram has been consumed.  <a href="#a9e4aa4de087df40a205f64b7135f0281">More...</a><br /></td></tr>
<tr class="separator:a9e4aa4de087df40a205f64b7135f0281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classkaldi_1_1ArpaFileParser"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classkaldi_1_1ArpaFileParser')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classkaldi_1_1ArpaFileParser.html">ArpaFileParser</a></td></tr>
<tr class="memitem:a51ccca85190502b279e3e9c96e314fd9 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#a51ccca85190502b279e3e9c96e314fd9">ReadStarted</a> ()</td></tr>
<tr class="memdesc:a51ccca85190502b279e3e9c96e314fd9 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override called before reading starts.  <a href="classkaldi_1_1ArpaFileParser.html#a51ccca85190502b279e3e9c96e314fd9">More...</a><br /></td></tr>
<tr class="separator:a51ccca85190502b279e3e9c96e314fd9 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5824055f36c5dce2ad721eb99ca87c inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">const fst::SymbolTable *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">Symbols</a> () const</td></tr>
<tr class="memdesc:afe5824055f36c5dce2ad721eb99ca87c inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-only access to symbol table. Not owned, do not make public.  <a href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">More...</a><br /></td></tr>
<tr class="separator:afe5824055f36c5dce2ad721eb99ca87c inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71db6fb46c46f906bf02ead4b4a656d1 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#a71db6fb46c46f906bf02ead4b4a656d1">LineNumber</a> () const</td></tr>
<tr class="memdesc:a71db6fb46c46f906bf02ead4b4a656d1 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inside <a class="el" href="classkaldi_1_1ArpaFileParser.html#aec1a92df04af3ddbc205e6959a4b1fab" title="Pure override that must be implemented to process current n-gram. ">ConsumeNGram()</a>, provides the current line number.  <a href="classkaldi_1_1ArpaFileParser.html#a71db6fb46c46f906bf02ead4b4a656d1">More...</a><br /></td></tr>
<tr class="separator:a71db6fb46c46f906bf02ead4b4a656d1 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6085dd205d12d9ed6db7f0d4f42c04 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#a6d6085dd205d12d9ed6db7f0d4f42c04">LineReference</a> () const</td></tr>
<tr class="memdesc:a6d6085dd205d12d9ed6db7f0d4f42c04 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inside <a class="el" href="classkaldi_1_1ArpaFileParser.html#aec1a92df04af3ddbc205e6959a4b1fab" title="Pure override that must be implemented to process current n-gram. ">ConsumeNGram()</a>, returns a formatted reference to the line being compiled, to print out as part of diagnostics.  <a href="classkaldi_1_1ArpaFileParser.html#a6d6085dd205d12d9ed6db7f0d4f42c04">More...</a><br /></td></tr>
<tr class="separator:a6d6085dd205d12d9ed6db7f0d4f42c04 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd347c662dfbcf0816a6e94762316b4 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#a1fd347c662dfbcf0816a6e94762316b4">ShouldWarn</a> ()</td></tr>
<tr class="memdesc:a1fd347c662dfbcf0816a6e94762316b4 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments warning count, and returns true if a warning should be printed or false if the count has exceeded the set maximum.  <a href="classkaldi_1_1ArpaFileParser.html#a1fd347c662dfbcf0816a6e94762316b4">More...</a><br /></td></tr>
<tr class="separator:a1fd347c662dfbcf0816a6e94762316b4 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2eec555e0ed8f33170da0749360f33 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int32 &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">NgramCounts</a> () const</td></tr>
<tr class="memdesc:a5d2eec555e0ed8f33170da0749360f33 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="mdescLeft">&#160;</td><td class="mdescRight">N-gram counts. Valid from the point when <a class="el" href="classkaldi_1_1ArpaFileParser.html#a54f72c25ca442aafe72f1720cc54d423" title="Override function called to signal that ARPA header with the expected number of n-grams has been read...">HeaderAvailable()</a> is called.  <a href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">More...</a><br /></td></tr>
<tr class="separator:a5d2eec555e0ed8f33170da0749360f33 inherit pro_methods_classkaldi_1_1ArpaFileParser"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa5040271ac775f36404463f87ba50904"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#aa5040271ac775f36404463f87ba50904">RemoveRedundantStates</a> ()</td></tr>
<tr class="separator:aa5040271ac775f36404463f87ba50904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c47fd4f163011eb1939870d25aa656a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a4c47fd4f163011eb1939870d25aa656a">Check</a> () const</td></tr>
<tr class="separator:a4c47fd4f163011eb1939870d25aa656a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4db8236cdc5438a5b838ab48be077c1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">sub_eps_</a></td></tr>
<tr class="separator:a4db8236cdc5438a5b838ab48be077c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf8abfe29115635d5fb4dd7e331ef7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1ArpaLmCompilerImplInterface.html">ArpaLmCompilerImplInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a></td></tr>
<tr class="separator:a6bf8abfe29115635d5fb4dd7e331ef7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b09702b103cd7033546ca549d94e32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefst.html#a88a968cc6f6d68c2b3dd6aa90385f65c">fst::StdVectorFst</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a></td></tr>
<tr class="separator:ab5b09702b103cd7033546ca549d94e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a141ef5b1d531bf13aa74980b4a19af34"><td class="memTemplParams" colspan="2">template&lt;class HistKey &gt; </td></tr>
<tr class="memitem:a141ef5b1d531bf13aa74980b4a19af34"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html#a141ef5b1d531bf13aa74980b4a19af34">ArpaLmCompilerImpl</a></td></tr>
<tr class="separator:a141ef5b1d531bf13aa74980b4a19af34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00032">32</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab9cd131498ec6742aafdabe96899a80d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9cd131498ec6742aafdabe96899a80d">&#9670;&nbsp;</a></span>ArpaLmCompiler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html">ArpaLmCompiler</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkaldi_1_1ArpaParseOptions.html">ArpaParseOptions</a>&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sub_eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fst::SymbolTable *&#160;</td>
          <td class="paramname"><em>symbols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00034">34</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8cc_source.html#l00279">ArpaLmCompiler::~ArpaLmCompiler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      : <a class="code" href="classkaldi_1_1ArpaFileParser.html#ae752ef487d1ac4060474f771c4a8687e">ArpaFileParser</a>(options, symbols),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">sub_eps_</a>(sub_eps), <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a>(NULL) {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  }</div><div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a6bf8abfe29115635d5fb4dd7e331ef7d"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">kaldi::ArpaLmCompiler::impl_</a></div><div class="ttdeci">ArpaLmCompilerImplInterface * impl_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00058">arpa-lm-compiler.h:58</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a4db8236cdc5438a5b838ab48be077c1b"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">kaldi::ArpaLmCompiler::sub_eps_</a></div><div class="ttdeci">int sub_eps_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00057">arpa-lm-compiler.h:57</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_ae752ef487d1ac4060474f771c4a8687e"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#ae752ef487d1ac4060474f771c4a8687e">kaldi::ArpaFileParser::ArpaFileParser</a></div><div class="ttdeci">ArpaFileParser(ArpaParseOptions options, fst::SymbolTable *symbols)</div><div class="ttdoc">Constructs the parser with the given options and optional symbol table. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8cc_source.html#l00032">arpa-file-parser.cc:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67eac7038d204d16cba4435f991acb3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67eac7038d204d16cba4435f991acb3d">&#9670;&nbsp;</a></span>~ArpaLmCompiler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classkaldi_1_1ArpaLmCompiler.html">ArpaLmCompiler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8cc_source.html#l00279">279</a> of file <a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00034">ArpaLmCompiler::ArpaLmCompiler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a> != NULL)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div><div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a6bf8abfe29115635d5fb4dd7e331ef7d"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">kaldi::ArpaLmCompiler::impl_</a></div><div class="ttdeci">ArpaLmCompilerImplInterface * impl_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00058">arpa-lm-compiler.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4c47fd4f163011eb1939870d25aa656a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c47fd4f163011eb1939870d25aa656a">&#9670;&nbsp;</a></span>Check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8cc_source.html#l00363">363</a> of file <a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8cc_source.html#l00126">ArpaLmCompilerImpl&lt; HistKey &gt;::fst_</a>, and <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">ArpaLmCompiler::MutableFst()</a>.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                 {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.Start() == fst::kNoStateId) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Arpa file did not contain the beginning-of-sentence symbol &quot;</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;              &lt;&lt; <a class="code" href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">Symbols</a>()-&gt;Find(<a class="code" href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">Options</a>().bos_symbol) &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="classkaldi_1_1ArpaFileParser_html_afe5824055f36c5dce2ad721eb99ca87c"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">kaldi::ArpaFileParser::Symbols</a></div><div class="ttdeci">const fst::SymbolTable * Symbols() const</div><div class="ttdoc">Read-only access to symbol table. Not owned, do not make public. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00119">arpa-file-parser.h:119</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a1c6f20b276b2dbb6de0cc49d582aeaac"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">kaldi::ArpaFileParser::Options</a></div><div class="ttdeci">const ArpaParseOptions &amp; Options() const</div><div class="ttdoc">Parser options. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00099">arpa-file-parser.h:99</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_ab5b09702b103cd7033546ca549d94e32"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">kaldi::ArpaLmCompiler::fst_</a></div><div class="ttdeci">fst::StdVectorFst fst_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00059">arpa-lm-compiler.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="accc11f71394309dfaa08a242396c8747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc11f71394309dfaa08a242396c8747">&#9670;&nbsp;</a></span>ConsumeNGram()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConsumeNGram </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1NGram.html">NGram</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pure override that must be implemented to process current n-gram. </p>
<p>The n-grams are sent in the file order, which guarantees that all (k-1)-grams are processed before the first k-gram is. </p>

<p>Implements <a class="el" href="classkaldi_1_1ArpaFileParser.html#aec1a92df04af3ddbc205e6959a4b1fab">ArpaFileParser</a>.</p>

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8cc_source.html#l00306">306</a> of file <a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a>.</p>

<p class="reference">References <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, and <a class="el" href="arpa-file-parser_8h_source.html#l00070">NGram::words</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">ArpaLmCompiler::MutableFst()</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                                                    {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// &lt;s&gt; is invalid in tails, &lt;/s&gt; in heads of an n-gram.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ngram.words.size(); ++<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0 &amp;&amp; ngram.words[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">Options</a>().bos_symbol) ||</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        (<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 &lt; ngram.words.size()</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         &amp;&amp; ngram.words[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">Options</a>().<a class="code" href="structkaldi_1_1ArpaParseOptions.html#a3e399ab8563dee12689b4cbda53e2d6a">eos_symbol</a>)) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaFileParser.html#a1fd347c662dfbcf0816a6e94762316b4">ShouldWarn</a>())</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <a class="code" href="classkaldi_1_1ArpaFileParser.html#a6d6085dd205d12d9ed6db7f0d4f42c04">LineReference</a>()</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; skipped: n-gram has invalid BOS/EOS placement&quot;</span>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordtype">bool</span> is_highest = ngram.words.size() == <a class="code" href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">NgramCounts</a>().size();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a>-&gt;<a class="code" href="classkaldi_1_1ArpaLmCompilerImplInterface.html#a2feaa0b9770796184c394232adbd1735">ConsumeNGram</a>(ngram, is_highest);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="ttc" id="classkaldi_1_1ArpaLmCompilerImplInterface_html_a2feaa0b9770796184c394232adbd1735"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompilerImplInterface.html#a2feaa0b9770796184c394232adbd1735">kaldi::ArpaLmCompilerImplInterface::ConsumeNGram</a></div><div class="ttdeci">virtual void ConsumeNGram(const NGram &amp;ngram, bool is_highest)=0</div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a1c6f20b276b2dbb6de0cc49d582aeaac"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">kaldi::ArpaFileParser::Options</a></div><div class="ttdeci">const ArpaParseOptions &amp; Options() const</div><div class="ttdoc">Parser options. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00099">arpa-file-parser.h:99</a></div></div>
<div class="ttc" id="structkaldi_1_1ArpaParseOptions_html_a3e399ab8563dee12689b4cbda53e2d6a"><div class="ttname"><a href="structkaldi_1_1ArpaParseOptions.html#a3e399ab8563dee12689b4cbda53e2d6a">kaldi::ArpaParseOptions::eos_symbol</a></div><div class="ttdeci">int32 eos_symbol</div><div class="ttdoc">Symbol for &lt;/s&gt;, Required non-epsilon. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00059">arpa-file-parser.h:59</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a6bf8abfe29115635d5fb4dd7e331ef7d"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">kaldi::ArpaLmCompiler::impl_</a></div><div class="ttdeci">ArpaLmCompilerImplInterface * impl_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00058">arpa-lm-compiler.h:58</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a6d6085dd205d12d9ed6db7f0d4f42c04"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a6d6085dd205d12d9ed6db7f0d4f42c04">kaldi::ArpaFileParser::LineReference</a></div><div class="ttdeci">std::string LineReference() const</div><div class="ttdoc">Inside ConsumeNGram(), returns a formatted reference to the line being compiled, to print out as part...</div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8cc_source.html#l00270">arpa-file-parser.cc:270</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a1fd347c662dfbcf0816a6e94762316b4"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a1fd347c662dfbcf0816a6e94762316b4">kaldi::ArpaFileParser::ShouldWarn</a></div><div class="ttdeci">bool ShouldWarn()</div><div class="ttdoc">Increments warning count, and returns true if a warning should be printed or false if the count has e...</div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8cc_source.html#l00276">arpa-file-parser.cc:276</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a5d2eec555e0ed8f33170da0749360f33"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">kaldi::ArpaFileParser::NgramCounts</a></div><div class="ttdeci">const std::vector&lt; int32 &gt; &amp; NgramCounts() const</div><div class="ttdoc">N-gram counts. Valid from the point when HeaderAvailable() is called. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00133">arpa-file-parser.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96a6b2af10af45638919c8883ddefc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a6b2af10af45638919c8883ddefc7d">&#9670;&nbsp;</a></span>Fst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefst.html#a88a968cc6f6d68c2b3dd6aa90385f65c">fst::StdVectorFst</a>&amp; Fst </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00041">41</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8h_source.html#l00059">ArpaLmCompiler::fst_</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler-test_8cc_source.html#l00119">kaldi::CoverageTest()</a>, and <a class="el" href="arpa-lm-compiler-test_8cc_source.html#l00156">kaldi::ScoringTest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>; }</div><div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_ab5b09702b103cd7033546ca549d94e32"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">kaldi::ArpaLmCompiler::fst_</a></div><div class="ttdeci">fst::StdVectorFst fst_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00059">arpa-lm-compiler.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac33ba37ddcbb83de423859229d1b66ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33ba37ddcbb83de423859229d1b66ef">&#9670;&nbsp;</a></span>HeaderAvailable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HeaderAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Override function called to signal that ARPA header with the expected number of n-grams has been read, and ngram_counts() is now valid. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1ArpaFileParser.html#a54f72c25ca442aafe72f1720cc54d423">ArpaFileParser</a>.</p>

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8cc_source.html#l00284">284</a> of file <a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8cc_source.html#l00126">ArpaLmCompilerImpl&lt; HistKey &gt;::fst_</a>, <a class="el" href="arpa-file-parser_8h_source.html#l00040">ArpaParseOptions::kAddToSymbols</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00132">KALDI_LOG</a>, and <a class="el" href="arpa-lm-compiler_8cc_source.html#l00129">ArpaLmCompilerImpl&lt; HistKey &gt;::sub_eps_</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">ArpaLmCompiler::MutableFst()</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                     {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a> == NULL);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// Use optimized implementation if the grammar is 4-gram or less, and the</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// maximum attained symbol id will fit into the optimized range.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  int64 max_symbol = 0;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">Symbols</a>() != NULL)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    max_symbol = <a class="code" href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">Symbols</a>()-&gt;AvailableKey() - 1;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// If augmenting the symbol table, assume the wors case when all words in</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// the model being read are novel.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">Options</a>().oov_handling == <a class="code" href="structkaldi_1_1ArpaParseOptions.html#a06f5109715b4ab838079e3dcd9463427a4fa029256759b7a5a9934d43b3b736f2">ArpaParseOptions::kAddToSymbols</a>)</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    max_symbol += <a class="code" href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">NgramCounts</a>()[0];</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">NgramCounts</a>().size() &lt;= 4 &amp;&amp; max_symbol &lt; OptimizedHistKey::kMaxData) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a> = <span class="keyword">new</span> ArpaLmCompilerImpl&lt;OptimizedHistKey&gt;(<span class="keyword">this</span>, &amp;<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>, <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">sub_eps_</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">impl_</a> = <span class="keyword">new</span> ArpaLmCompilerImpl&lt;GeneralHistKey&gt;(<span class="keyword">this</span>, &amp;<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>, <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">sub_eps_</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;Reverting to slower state tracking because model is large: &quot;</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;              &lt;&lt; <a class="code" href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">NgramCounts</a>().size() &lt;&lt; <span class="stringliteral">&quot;-gram with symbols up to &quot;</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;              &lt;&lt; max_symbol;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="ttc" id="classkaldi_1_1ArpaFileParser_html_afe5824055f36c5dce2ad721eb99ca87c"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">kaldi::ArpaFileParser::Symbols</a></div><div class="ttdeci">const fst::SymbolTable * Symbols() const</div><div class="ttdoc">Read-only access to symbol table. Not owned, do not make public. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00119">arpa-file-parser.h:119</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a1c6f20b276b2dbb6de0cc49d582aeaac"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a1c6f20b276b2dbb6de0cc49d582aeaac">kaldi::ArpaFileParser::Options</a></div><div class="ttdeci">const ArpaParseOptions &amp; Options() const</div><div class="ttdoc">Parser options. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00099">arpa-file-parser.h:99</a></div></div>
<div class="ttc" id="structkaldi_1_1ArpaParseOptions_html_a06f5109715b4ab838079e3dcd9463427a4fa029256759b7a5a9934d43b3b736f2"><div class="ttname"><a href="structkaldi_1_1ArpaParseOptions.html#a06f5109715b4ab838079e3dcd9463427a4fa029256759b7a5a9934d43b3b736f2">kaldi::ArpaParseOptions::kAddToSymbols</a></div><div class="ttdoc">Add novel words to the symbol table. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00040">arpa-file-parser.h:40</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a6bf8abfe29115635d5fb4dd7e331ef7d"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a6bf8abfe29115635d5fb4dd7e331ef7d">kaldi::ArpaLmCompiler::impl_</a></div><div class="ttdeci">ArpaLmCompilerImplInterface * impl_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00058">arpa-lm-compiler.h:58</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a4db8236cdc5438a5b838ab48be077c1b"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">kaldi::ArpaLmCompiler::sub_eps_</a></div><div class="ttdeci">int sub_eps_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00057">arpa-lm-compiler.h:57</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_ab5b09702b103cd7033546ca549d94e32"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">kaldi::ArpaLmCompiler::fst_</a></div><div class="ttdeci">fst::StdVectorFst fst_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00059">arpa-lm-compiler.h:59</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaFileParser_html_a5d2eec555e0ed8f33170da0749360f33"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#a5d2eec555e0ed8f33170da0749360f33">kaldi::ArpaFileParser::NgramCounts</a></div><div class="ttdeci">const std::vector&lt; int32 &gt; &amp; NgramCounts() const</div><div class="ttdoc">N-gram counts. Valid from the point when HeaderAvailable() is called. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00133">arpa-file-parser.h:133</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00132">kaldi-error.h:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa13d0d31b9013ac600b8387cd66bf795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa13d0d31b9013ac600b8387cd66bf795">&#9670;&nbsp;</a></span>MutableFst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefst.html#a88a968cc6f6d68c2b3dd6aa90385f65c">fst::StdVectorFst</a>* MutableFst </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">42</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8cc_source.html#l00363">ArpaLmCompiler::Check()</a>, <a class="el" href="arpa-lm-compiler_8cc_source.html#l00306">ArpaLmCompiler::ConsumeNGram()</a>, <a class="el" href="arpa-lm-compiler_8h_source.html#l00059">ArpaLmCompiler::fst_</a>, <a class="el" href="arpa-lm-compiler_8cc_source.html#l00284">ArpaLmCompiler::HeaderAvailable()</a>, <a class="el" href="arpa-lm-compiler_8cc_source.html#l00370">ArpaLmCompiler::ReadComplete()</a>, and <a class="el" href="arpa-lm-compiler_8cc_source.html#l00323">ArpaLmCompiler::RemoveRedundantStates()</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler-test_8cc_source.html#l00119">kaldi::CoverageTest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{ <span class="keywordflow">return</span> &amp;<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>; }</div><div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_ab5b09702b103cd7033546ca549d94e32"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">kaldi::ArpaLmCompiler::fst_</a></div><div class="ttdeci">fst::StdVectorFst fst_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00059">arpa-lm-compiler.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e4aa4de087df40a205f64b7135f0281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4aa4de087df40a205f64b7135f0281">&#9670;&nbsp;</a></span>ReadComplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ReadComplete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Override function called after the last n-gram has been consumed. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1ArpaFileParser.html#abfaea8a58bb087bc312a38f55f1f5809">ArpaFileParser</a>.</p>

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8cc_source.html#l00370">370</a> of file <a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8cc_source.html#l00126">ArpaLmCompilerImpl&lt; HistKey &gt;::fst_</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">ArpaLmCompiler::MutableFst()</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                  {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.SetInputSymbols(<a class="code" href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">Symbols</a>());</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.SetOutputSymbols(<a class="code" href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">Symbols</a>());</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#aa5040271ac775f36404463f87ba50904">RemoveRedundantStates</a>();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a4c47fd4f163011eb1939870d25aa656a">Check</a>();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="ttc" id="classkaldi_1_1ArpaFileParser_html_afe5824055f36c5dce2ad721eb99ca87c"><div class="ttname"><a href="classkaldi_1_1ArpaFileParser.html#afe5824055f36c5dce2ad721eb99ca87c">kaldi::ArpaFileParser::Symbols</a></div><div class="ttdeci">const fst::SymbolTable * Symbols() const</div><div class="ttdoc">Read-only access to symbol table. Not owned, do not make public. </div><div class="ttdef"><b>Definition:</b> <a href="arpa-file-parser_8h_source.html#l00119">arpa-file-parser.h:119</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a4c47fd4f163011eb1939870d25aa656a"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a4c47fd4f163011eb1939870d25aa656a">kaldi::ArpaLmCompiler::Check</a></div><div class="ttdeci">void Check() const</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8cc_source.html#l00363">arpa-lm-compiler.cc:363</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_aa5040271ac775f36404463f87ba50904"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#aa5040271ac775f36404463f87ba50904">kaldi::ArpaLmCompiler::RemoveRedundantStates</a></div><div class="ttdeci">void RemoveRedundantStates()</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8cc_source.html#l00323">arpa-lm-compiler.cc:323</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_ab5b09702b103cd7033546ca549d94e32"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">kaldi::ArpaLmCompiler::fst_</a></div><div class="ttdeci">fst::StdVectorFst fst_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00059">arpa-lm-compiler.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5040271ac775f36404463f87ba50904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5040271ac775f36404463f87ba50904">&#9670;&nbsp;</a></span>RemoveRedundantStates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RemoveRedundantStates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8cc_source.html#l00323">323</a> of file <a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a>.</p>

<p class="reference">References <a class="el" href="arpa-lm-compiler_8cc_source.html#l00126">ArpaLmCompilerImpl&lt; HistKey &gt;::fst_</a>, <a class="el" href="kaldi-error_8h_source.html#l00132">KALDI_LOG</a>, <a class="el" href="remove-eps-local-inl_8h_source.html#l00309">fst::RemoveEpsLocal()</a>, and <a class="el" href="arpa-lm-compiler_8cc_source.html#l00129">ArpaLmCompilerImpl&lt; HistKey &gt;::sub_eps_</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">ArpaLmCompiler::MutableFst()</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                           {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="namespacefst.html#a006b00477e4d9250474e76e1ec61bb3f">fst::StdArc::Label</a> backoff_symbol = <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">sub_eps_</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (backoff_symbol == 0) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// The method of removing redundant states implemented in this function</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// leads to slow determinization of L o G when people use the older style of</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// usage of arpa2fst where the --disambig-symbol option was not specified.</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// The issue seems to be that it creates a non-deterministic FST, while G is</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// supposed to be deterministic.  By &#39;return&#39;ing below, we just disable this</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// method if people were using an older script.  This method isn&#39;t really</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// that consequential anyway, and people will move to the newer-style</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// scripts (see current utils/format_lm.sh), so this isn&#39;t much of a</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// problem.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="namespacefst.html#ae38f9e2cc96a39ff2953a2846c2538db">fst::StdArc::StateId</a> num_states = <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.NumStates();</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// replace the #0 symbols on the input of arcs out of redundant states (states</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// that are not final and have only a backoff arc leaving them), with &lt;eps&gt;.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacefst.html#ae38f9e2cc96a39ff2953a2846c2538db">fst::StdArc::StateId</a> state = 0; state &lt; num_states; state++) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.NumArcs(state) == 1 &amp;&amp; <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.Final(state) == fst::TropicalWeight::Zero()) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      fst::MutableArcIterator&lt;fst::StdVectorFst&gt; iter(&amp;<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>, state);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="namespacefst.html#a70478eb2428a9406e4692d19a7a3a97f">fst::StdArc</a> arc = iter.Value();</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordflow">if</span> (arc.ilabel == backoff_symbol) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        arc.ilabel = 0;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        iter.SetValue(arc);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// we could call fst::RemoveEps, and it would have the same effect in normal</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// cases, where backoff_symbol != 0 and there are no epsilons in unexpected</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// places, but RemoveEpsLocal is a bit safer in case something weird is going</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// on; it guarantees not to blow up the FST.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="namespacefst.html#aa21bb5fdd25868b9fd813a15f37aef8e">fst::RemoveEpsLocal</a>(&amp;<a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <a class="code" href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a> &lt;&lt; <span class="stringliteral">&quot;Reduced num-states from &quot;</span> &lt;&lt; num_states &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            &lt;&lt; <a class="code" href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">fst_</a>.NumStates();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="ttc" id="namespacefst_html_ae38f9e2cc96a39ff2953a2846c2538db"><div class="ttname"><a href="namespacefst.html#ae38f9e2cc96a39ff2953a2846c2538db">fst::StateId</a></div><div class="ttdeci">fst::StdArc::StateId StateId</div><div class="ttdef"><b>Definition:</b> <a href="deterministic-fst-test_8cc_source.html#l00055">deterministic-fst-test.cc:55</a></div></div>
<div class="ttc" id="namespacefst_html_aa21bb5fdd25868b9fd813a15f37aef8e"><div class="ttname"><a href="namespacefst.html#aa21bb5fdd25868b9fd813a15f37aef8e">fst::RemoveEpsLocal</a></div><div class="ttdeci">void RemoveEpsLocal(MutableFst&lt; Arc &gt; *fst)</div><div class="ttdoc">RemoveEpsLocal remove some (but not necessarily all) epsilons in an FST, using an algorithm that is g...</div><div class="ttdef"><b>Definition:</b> <a href="remove-eps-local-inl_8h_source.html#l00309">remove-eps-local-inl.h:309</a></div></div>
<div class="ttc" id="namespacefst_html_a70478eb2428a9406e4692d19a7a3a97f"><div class="ttname"><a href="namespacefst.html#a70478eb2428a9406e4692d19a7a3a97f">fst::StdArc</a></div><div class="ttdeci">fst::StdArc StdArc</div><div class="ttdef"><b>Definition:</b> <a href="deterministic-fst-test_8cc_source.html#l00053">deterministic-fst-test.cc:53</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_a4db8236cdc5438a5b838ab48be077c1b"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#a4db8236cdc5438a5b838ab48be077c1b">kaldi::ArpaLmCompiler::sub_eps_</a></div><div class="ttdeci">int sub_eps_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00057">arpa-lm-compiler.h:57</a></div></div>
<div class="ttc" id="namespacefst_html_a006b00477e4d9250474e76e1ec61bb3f"><div class="ttname"><a href="namespacefst.html#a006b00477e4d9250474e76e1ec61bb3f">fst::Label</a></div><div class="ttdeci">fst::StdArc::Label Label</div><div class="ttdef"><b>Definition:</b> <a href="deterministic-fst-test_8cc_source.html#l00054">deterministic-fst-test.cc:54</a></div></div>
<div class="ttc" id="classkaldi_1_1ArpaLmCompiler_html_ab5b09702b103cd7033546ca549d94e32"><div class="ttname"><a href="classkaldi_1_1ArpaLmCompiler.html#ab5b09702b103cd7033546ca549d94e32">kaldi::ArpaLmCompiler::fst_</a></div><div class="ttdeci">fst::StdVectorFst fst_</div><div class="ttdef"><b>Definition:</b> <a href="arpa-lm-compiler_8h_source.html#l00059">arpa-lm-compiler.h:59</a></div></div>
<div class="ttc" id="group__error__group_html_gaf8fb55454306b60c9c1e07a6ef9d341a"><div class="ttname"><a href="group__error__group.html#gaf8fb55454306b60c9c1e07a6ef9d341a">KALDI_LOG</a></div><div class="ttdeci">#define KALDI_LOG</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00132">kaldi-error.h:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a141ef5b1d531bf13aa74980b4a19af34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141ef5b1d531bf13aa74980b4a19af34">&#9670;&nbsp;</a></span>ArpaLmCompilerImpl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classkaldi_1_1ArpaLmCompilerImpl.html">ArpaLmCompilerImpl</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00060">60</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab5b09702b103cd7033546ca549d94e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b09702b103cd7033546ca549d94e32">&#9670;&nbsp;</a></span>fst_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefst.html#a88a968cc6f6d68c2b3dd6aa90385f65c">fst::StdVectorFst</a> fst_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00059">59</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="arpa-lm-compiler_8h_source.html#l00041">ArpaLmCompiler::Fst()</a>, and <a class="el" href="arpa-lm-compiler_8h_source.html#l00042">ArpaLmCompiler::MutableFst()</a>.</p>

</div>
</div>
<a id="a6bf8abfe29115635d5fb4dd7e331ef7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf8abfe29115635d5fb4dd7e331ef7d">&#9670;&nbsp;</a></span>impl_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1ArpaLmCompilerImplInterface.html">ArpaLmCompilerImplInterface</a>* impl_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00058">58</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

</div>
</div>
<a id="a4db8236cdc5438a5b838ab48be077c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4db8236cdc5438a5b838ab48be077c1b">&#9670;&nbsp;</a></span>sub_eps_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sub_eps_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="arpa-lm-compiler_8h_source.html#l00057">57</a> of file <a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lm/<a class="el" href="arpa-lm-compiler_8h_source.html">arpa-lm-compiler.h</a></li>
<li>lm/<a class="el" href="arpa-lm-compiler_8cc_source.html">arpa-lm-compiler.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="classkaldi_1_1ArpaLmCompiler.html">ArpaLmCompiler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
