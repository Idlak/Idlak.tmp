<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: Component Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1nnet3_1_1Component.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classkaldi_1_1nnet3_1_1Component-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Component Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base-class for neural-net components.  
 <a href="classkaldi_1_1nnet3_1_1Component.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Component:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1Component__inherit__graph.png" border="0" usemap="#Component_inherit__map" alt="Inheritance graph"/></div>
<map name="Component_inherit__map" id="Component_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a342467ad10ff8535abe96768bdf27958"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958">Propagate</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *out) const =0</td></tr>
<tr class="memdesc:a342467ad10ff8535abe96768bdf27958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate function.  <a href="#a342467ad10ff8535abe96768bdf27958">More...</a><br /></td></tr>
<tr class="separator:a342467ad10ff8535abe96768bdf27958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8f5f2c358622ef522a7f2b9d2833ca"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ada8f5f2c358622ef522a7f2b9d2833ca">Backprop</a> (const std::string &amp;debug_info, const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv, void *memo, <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *to_update, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *in_deriv) const =0</td></tr>
<tr class="memdesc:ada8f5f2c358622ef522a7f2b9d2833ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update.  <a href="#ada8f5f2c358622ef522a7f2b9d2833ca">More...</a><br /></td></tr>
<tr class="separator:ada8f5f2c358622ef522a7f2b9d2833ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304cec15e1a696a5af5f2f5daae7bc4f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a304cec15e1a696a5af5f2f5daae7bc4f">StoreStats</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, void *memo)</td></tr>
<tr class="memdesc:a304cec15e1a696a5af5f2f5daae7bc4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function may store stats on average activation values, and for some component types, the average value of the derivative of the nonlinearity.  <a href="#a304cec15e1a696a5af5f2f5daae7bc4f">More...</a><br /></td></tr>
<tr class="separator:a304cec15e1a696a5af5f2f5daae7bc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab162a2631e5335091d1f2bba1571e54d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d">ZeroStats</a> ()</td></tr>
<tr class="memdesc:ab162a2631e5335091d1f2bba1571e54d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Components that provide an implementation of StoreStats should also provide an implementation of <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d" title="Components that provide an implementation of StoreStats should also provide an implementation of Zero...">ZeroStats()</a>, to set those stats to zero.  <a href="#ab162a2631e5335091d1f2bba1571e54d">More...</a><br /></td></tr>
<tr class="separator:ab162a2631e5335091d1f2bba1571e54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7b185ac981780bcfaed7dfdd8908d8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a9d7b185ac981780bcfaed7dfdd8908d8">GetInputIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *desired_indexes) const</td></tr>
<tr class="memdesc:a9d7b185ac981780bcfaed7dfdd8908d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="#a9d7b185ac981780bcfaed7dfdd8908d8">More...</a><br /></td></tr>
<tr class="separator:a9d7b185ac981780bcfaed7dfdd8908d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529c07610dd915a30e452f80b8bb5fc0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a529c07610dd915a30e452f80b8bb5fc0">IsComputable</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, const <a class="el" href="classkaldi_1_1nnet3_1_1IndexSet.html">IndexSet</a> &amp;input_index_set, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *used_inputs) const</td></tr>
<tr class="memdesc:a529c07610dd915a30e452f80b8bb5fc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components, and it exists to make it possible to manage optionally-required inputs.  <a href="#a529c07610dd915a30e452f80b8bb5fc0">More...</a><br /></td></tr>
<tr class="separator:a529c07610dd915a30e452f80b8bb5fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92fc16eadbf5faafb1aeb4b90614d691"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a92fc16eadbf5faafb1aeb4b90614d691">ReorderIndexes</a> (std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *input_indexes, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *output_indexes) const</td></tr>
<tr class="memdesc:a92fc16eadbf5faafb1aeb4b90614d691"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="#a92fc16eadbf5faafb1aeb4b90614d691">More...</a><br /></td></tr>
<tr class="separator:a92fc16eadbf5faafb1aeb4b90614d691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3829084b3e064ff320153ff4b6cfd44"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ad3829084b3e064ff320153ff4b6cfd44">PrecomputeIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;input_indexes, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;output_indexes, <a class="el" href="classbool.html">bool</a> need_backprop) const</td></tr>
<tr class="memdesc:ad3829084b3e064ff320153ff4b6cfd44"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must return NULL for simple Components.  <a href="#ad3829084b3e064ff320153ff4b6cfd44">More...</a><br /></td></tr>
<tr class="separator:ad3829084b3e064ff320153ff4b6cfd44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b6147feb5e0688469b735a6546c222"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">Type</a> () const =0</td></tr>
<tr class="memdesc:ab6b6147feb5e0688469b735a6546c222"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string such as "SigmoidComponent", describing the type of the object.  <a href="#ab6b6147feb5e0688469b735a6546c222">More...</a><br /></td></tr>
<tr class="separator:ab6b6147feb5e0688469b735a6546c222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7dc9cc61293d3c7decb5bd8ea3f4d5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a1f7dc9cc61293d3c7decb5bd8ea3f4d5">InitFromConfig</a> (<a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *cfl)=0</td></tr>
<tr class="memdesc:a1f7dc9cc61293d3c7decb5bd8ea3f4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> object.  <a href="#a1f7dc9cc61293d3c7decb5bd8ea3f4d5">More...</a><br /></td></tr>
<tr class="separator:a1f7dc9cc61293d3c7decb5bd8ea3f4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f37d871d35c43a03324502cea308635"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a7f37d871d35c43a03324502cea308635">InputDim</a> () const =0</td></tr>
<tr class="memdesc:a7f37d871d35c43a03324502cea308635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns input-dimension of this component.  <a href="#a7f37d871d35c43a03324502cea308635">More...</a><br /></td></tr>
<tr class="separator:a7f37d871d35c43a03324502cea308635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f2f034a884363d4e0694c62ea8a764"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ac0f2f034a884363d4e0694c62ea8a764">OutputDim</a> () const =0</td></tr>
<tr class="memdesc:ac0f2f034a884363d4e0694c62ea8a764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns output-dimension of this component.  <a href="#ac0f2f034a884363d4e0694c62ea8a764">More...</a><br /></td></tr>
<tr class="separator:ac0f2f034a884363d4e0694c62ea8a764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a4ff15fafe0c8c4885586fc2c36ca8a"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a">Properties</a> () const =0</td></tr>
<tr class="memdesc:a3a4ff15fafe0c8c4885586fc2c36ca8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bitmask of the component's properties.  <a href="#a3a4ff15fafe0c8c4885586fc2c36ca8a">More...</a><br /></td></tr>
<tr class="separator:a3a4ff15fafe0c8c4885586fc2c36ca8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46d9c7de00be8203e16a6e55af0afef"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aa46d9c7de00be8203e16a6e55af0afef">Copy</a> () const =0</td></tr>
<tr class="memdesc:aa46d9c7de00be8203e16a6e55af0afef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies component (deep copy).  <a href="#aa46d9c7de00be8203e16a6e55af0afef">More...</a><br /></td></tr>
<tr class="separator:aa46d9c7de00be8203e16a6e55af0afef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1c1c5364c25160bfef9dda52480cf5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a5d1c1c5364c25160bfef9dda52480cf5">Read</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)=0</td></tr>
<tr class="memdesc:a5d1c1c5364c25160bfef9dda52480cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read function (used after we know the type of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>); accepts input that is missing the token that describes the component type, in case it has already been consumed.  <a href="#a5d1c1c5364c25160bfef9dda52480cf5">More...</a><br /></td></tr>
<tr class="separator:a5d1c1c5364c25160bfef9dda52480cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852bc7306aaa45b284f662f1ddb1a3d5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a852bc7306aaa45b284f662f1ddb1a3d5">Write</a> (std::ostream &amp;os, <a class="el" href="classbool.html">bool</a> binary) const =0</td></tr>
<tr class="memdesc:a852bc7306aaa45b284f662f1ddb1a3d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write component to stream.  <a href="#a852bc7306aaa45b284f662f1ddb1a3d5">More...</a><br /></td></tr>
<tr class="separator:a852bc7306aaa45b284f662f1ddb1a3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245d65d566725422b859c99bff7623f8"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a245d65d566725422b859c99bff7623f8">Info</a> () const</td></tr>
<tr class="memdesc:a245d65d566725422b859c99bff7623f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns some text-form information about this component, for diagnostics.  <a href="#a245d65d566725422b859c99bff7623f8">More...</a><br /></td></tr>
<tr class="separator:a245d65d566725422b859c99bff7623f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750ca3e44a00898afea53b54697226ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a750ca3e44a00898afea53b54697226ba">Scale</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> scale)</td></tr>
<tr class="memdesc:a750ca3e44a00898afea53b54697226ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called on &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> scales the parameters by "scale" when called by an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a>.  <a href="#a750ca3e44a00898afea53b54697226ba">More...</a><br /></td></tr>
<tr class="separator:a750ca3e44a00898afea53b54697226ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab16938236bd0978bad5de6d56fcf47f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aab16938236bd0978bad5de6d56fcf47f">Add</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> alpha, const <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> &amp;other)</td></tr>
<tr class="memdesc:aab16938236bd0978bad5de6d56fcf47f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called by &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> adds the parameters of another updatable component, times some constant, to the current parameters.  <a href="#aab16938236bd0978bad5de6d56fcf47f">More...</a><br /></td></tr>
<tr class="separator:aab16938236bd0978bad5de6d56fcf47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eacf8174f9fa190732c320ee3cf1d62"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a8eacf8174f9fa190732c320ee3cf1d62">DeleteMemo</a> (void *memo) const</td></tr>
<tr class="memdesc:a8eacf8174f9fa190732c320ee3cf1d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function only needs to be overwritten by Components that return a non-NULL memo from their <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function.  <a href="#a8eacf8174f9fa190732c320ee3cf1d62">More...</a><br /></td></tr>
<tr class="separator:a8eacf8174f9fa190732c320ee3cf1d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44818f697d4e7fb11120645a16bd0e39"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a44818f697d4e7fb11120645a16bd0e39">ConsolidateMemory</a> ()</td></tr>
<tr class="memdesc:a44818f697d4e7fb11120645a16bd0e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function relates to memory management, and avoiding fragmentation.  <a href="#a44818f697d4e7fb11120645a16bd0e39">More...</a><br /></td></tr>
<tr class="separator:a44818f697d4e7fb11120645a16bd0e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0171e1571f18dc6a27c8b041de55feec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">Component</a> ()</td></tr>
<tr class="separator:a0171e1571f18dc6a27c8b041de55feec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df822d4b95a18b1df2529896638daeb"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0df822d4b95a18b1df2529896638daeb">~Component</a> ()</td></tr>
<tr class="separator:a0df822d4b95a18b1df2529896638daeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4ddbc3371d68afbe87908b87b8c0a6ae"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a4ddbc3371d68afbe87908b87b8c0a6ae">ReadNew</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="memdesc:a4ddbc3371d68afbe87908b87b8c0a6ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read component from stream (works out its type). Dies on error.  <a href="#a4ddbc3371d68afbe87908b87b8c0a6ae">More...</a><br /></td></tr>
<tr class="separator:a4ddbc3371d68afbe87908b87b8c0a6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52564bb899e61119bac38d57147cd223"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">NewComponentOfType</a> (const std::string &amp;type)</td></tr>
<tr class="memdesc:a52564bb899e61119bac38d57147cd223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> of the given type e.g.  <a href="#a52564bb899e61119bac38d57147cd223">More...</a><br /></td></tr>
<tr class="separator:a52564bb899e61119bac38d57147cd223"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5d0316806db9efcb5e56aa974bbe41b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a5d0316806db9efcb5e56aa974bbe41b9">KALDI_DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a>)</td></tr>
<tr class="separator:a5d0316806db9efcb5e56aa974bbe41b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base-class for neural-net components. </p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00114">114</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0171e1571f18dc6a27c8b041de55feec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0171e1571f18dc6a27c8b041de55feec">&#9670;&nbsp;</a></span>Component()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00396">396</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a id="a0df822d4b95a18b1df2529896638daeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df822d4b95a18b1df2529896638daeb">&#9670;&nbsp;</a></span>~Component()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00398">398</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">References <a class="el" href="kaldi-utils_8h_source.html#l00121">KALDI_DISALLOW_COPY_AND_ASSIGN</a>.</p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aab16938236bd0978bad5de6d56fcf47f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab16938236bd0978bad5de6d56fcf47f">&#9670;&nbsp;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function when called by &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> adds the parameters of another updatable component, times some constant, to the current parameters. </p>
<p>&ndash; a <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html">NonlinearComponent</a> (or another component that stores stats, like <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html">BatchNormComponent</a>)&ndash; it relates to adding stats. Otherwise it will normally do nothing. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#aab16938236bd0978bad5de6d56fcf47f">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">BatchNormComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#acdb3e97b46276e3c9f4f696c2bef3943">RestrictedAttentionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00370">370</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l05332">CompositeComponent::Add()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00340">kaldi::nnet3::AddNnet()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00313">kaldi::nnet3::AddNnetComponents()</a>, <a class="el" href="nnet-utils_8cc_source.html#l02151">kaldi::nnet3::ApplyL2Regularization()</a>, <a class="el" href="nnet-normalize-component_8h_source.html#l00209">BatchNormComponent::Copy()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01339">ClipGradientComponent::Copy()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01892">ScaleAndOffsetComponent::Copy()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00666">ConstantComponent::IsComputable()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00952">LinearComponent::LinearComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00831">NaturalGradientAffineComponent::NaturalGradientAffineComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00418">AffineComponent::Properties()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00477">BackpropTruncationComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00515">BlockAffineComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00581">RepeatedAffineComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01523">PerElementScaleComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01625">PerElementOffsetComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01695">ConstantFunctionComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02050">ConvolutionComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02254">LstmNonlinearityComponent::Properties()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00076">kaldi::nnet3::TestNnetComponentAddScale()</a>, and <a class="el" href="nnet-simple-component_8h_source.html#l02506">CompositeComponent::Type()</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;{};</div></div><!-- fragment -->
</div>
</div>
<a id="ada8f5f2c358622ef522a7f2b9d2833ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8f5f2c358622ef522a7f2b9d2833ca">&#9670;&nbsp;</a></span>Backprop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Backprop </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debug_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td>
          <td class="paramname"><em>to_update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>in_deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">debug_info</td><td>The component name, to be printed out in any warning messages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_value</td><td>The matrix that was given as input to the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsInput == 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_value</td><td>The matrix that was output from the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsOutput == 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_deriv</td><td>The derivative at the output of this component. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">memo</td><td>This will normally be NULL, but for component types that set the flag kUsesMemo, this will be the return value of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function that corresponds to this <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ada8f5f2c358622ef522a7f2b9d2833ca" title="Backprop function; depending on which of the arguments &#39;to_update&#39; and &#39;in_deriv&#39; are non-NULL...">Backprop()</a> function. Ownership of any pointers is not transferred to the Backprop function; <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a8eacf8174f9fa190732c320ee3cf1d62" title="This virtual function only needs to be overwritten by Components that return a non-NULL memo from the...">DeleteMemo()</a> will be called to delete it. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_update</td><td>If model update is desired, the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> to be updated, else NULL. Does not have to be identical to this. If supplied, you can assume that to_update-&gt;<a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a> &amp; kUpdatableComponent is nonzero. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">in_deriv</td><td>The derivative at the input of this component, if needed (else NULL). If <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropInPlace, may be the same matrix as out_deriv. If <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropAdds, this is added to by the Backprop routine, else it is set. The component code chooses which mode to work in, based on convenience. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#ae01219d579006bb654671104eada1fe9">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#aa13da316dc0e2d48d3aeba98211b662c">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#aa13da316dc0e2d48d3aeba98211b662c">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#aa5b2559dfe7189617c8d301102ad2dc1">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#aa5b2559dfe7189617c8d301102ad2dc1">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a30912c333020d5a89d6d10907a3c4fb7">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LogSoftmaxComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">LogSoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SoftmaxComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">SoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#ae01219d579006bb654671104eada1fe9">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RectifiedLinearComponent.html#ab4995b635cf89b78c8f83f3501444f50">RectifiedLinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TanhComponent.html#ab4995b635cf89b78c8f83f3501444f50">TanhComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#ab4995b635cf89b78c8f83f3501444f50">SigmoidComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#ae01219d579006bb654671104eada1fe9">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#ae01219d579006bb654671104eada1fe9">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a3e993d522e4e85b5dc5e331f2ff84023">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#ae01219d579006bb654671104eada1fe9">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#ac0f9bb1c29228fa0a498a19b83ac5190">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00210">NnetComputer::ExecuteCommand()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>.</p>

</div>
</div>
<a id="a44818f697d4e7fb11120645a16bd0e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44818f697d4e7fb11120645a16bd0e39">&#9670;&nbsp;</a></span>ConsolidateMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ConsolidateMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function relates to memory management, and avoiding fragmentation. </p>
<p>It is called only once per model, after we do the first minibatch of training. The default implementation does nothing, but it can be overridden by child classes, where it may re-initialize certain quantities that may possibly have been allocated during the forward pass (e.g. certain statistics; <a class="el" href="classkaldi_1_1nnet3_1_1OnlineNaturalGradient.html" title="Keywords for search: natural gradient, naturalgradient, NG-SGD. ">OnlineNaturalGradient</a> objects). We use our own CPU-based allocator (see <a class="el" href="cu-allocator_8h.html">cu-allocator.h</a>) and since it can't do paging since we're not in control of the GPU page table, fragmentation can be a problem. The allocator always tries to put things in 'low-address memory' (i.e. at smaller memory addresses) near the beginning of the block it allocated, to avoid fragmentation; but if permanent things (belonging to the model) are allocated in the forward pass, they can permanently stay in high memory. This function helps to prevent that, by re-allocating those things into low-address memory (It's important that it's called after all the temporary buffers for the forward-backward have been freed, so that there is low-address memory available)). </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#aced42a39258a3786f1f3d8b31314913c">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#aced42a39258a3786f1f3d8b31314913c">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#aced42a39258a3786f1f3d8b31314913c">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#aced42a39258a3786f1f3d8b31314913c">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#aced42a39258a3786f1f3d8b31314913c">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#aced42a39258a3786f1f3d8b31314913c">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#aced42a39258a3786f1f3d8b31314913c">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientRepeatedAffineComponent.html#aced42a39258a3786f1f3d8b31314913c">NaturalGradientRepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#aced42a39258a3786f1f3d8b31314913c">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#aced42a39258a3786f1f3d8b31314913c">TdnnComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#aced42a39258a3786f1f3d8b31314913c">TimeHeightConvolutionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00394">394</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-utils_8cc_source.html#l01061">kaldi::nnet3::ConsolidateMemory()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00666">ConstantComponent::IsComputable()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00952">LinearComponent::LinearComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00831">NaturalGradientAffineComponent::NaturalGradientAffineComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01899">ScaleAndOffsetComponent::NumParameters()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01695">ConstantFunctionComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02254">LstmNonlinearityComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00644">NaturalGradientRepeatedAffineComponent::Type()</a>, and <a class="el" href="nnet-simple-component_8h_source.html#l01774">NaturalGradientPerElementScaleComponent::Type()</a>.</p>
<div class="fragment"><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a id="aa46d9c7de00be8203e16a6e55af0afef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46d9c7de00be8203e16a6e55af0afef">&#9670;&nbsp;</a></span>Copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a>* Copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies component (deep copy). </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a1f11a4fb3396dda21cae55e81f23c750">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#a1de31388e6c4839d855713baedc4f44b">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a1f11a4fb3396dda21cae55e81f23c750">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a1f11a4fb3396dda21cae55e81f23c750">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a1de31388e6c4839d855713baedc4f44b">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#a1f11a4fb3396dda21cae55e81f23c750">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a1f11a4fb3396dda21cae55e81f23c750">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a1f11a4fb3396dda21cae55e81f23c750">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a1f11a4fb3396dda21cae55e81f23c750">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a1f11a4fb3396dda21cae55e81f23c750">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a1de31388e6c4839d855713baedc4f44b">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a1de31388e6c4839d855713baedc4f44b">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a1de31388e6c4839d855713baedc4f44b">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a1f11a4fb3396dda21cae55e81f23c750">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a1f11a4fb3396dda21cae55e81f23c750">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a1f11a4fb3396dda21cae55e81f23c750">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a1f11a4fb3396dda21cae55e81f23c750">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a1f11a4fb3396dda21cae55e81f23c750">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f11a4fb3396dda21cae55e81f23c750">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#a1f11a4fb3396dda21cae55e81f23c750">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a1f11a4fb3396dda21cae55e81f23c750">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LogSoftmaxComponent.html#a1de31388e6c4839d855713baedc4f44b">LogSoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SoftmaxComponent.html#a1de31388e6c4839d855713baedc4f44b">SoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a1f11a4fb3396dda21cae55e81f23c750">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientRepeatedAffineComponent.html#a1f11a4fb3396dda21cae55e81f23c750">NaturalGradientRepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a1f11a4fb3396dda21cae55e81f23c750">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a1f11a4fb3396dda21cae55e81f23c750">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a1de31388e6c4839d855713baedc4f44b">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a1f11a4fb3396dda21cae55e81f23c750">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a1f11a4fb3396dda21cae55e81f23c750">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a1de31388e6c4839d855713baedc4f44b">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RectifiedLinearComponent.html#a1de31388e6c4839d855713baedc4f44b">RectifiedLinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TanhComponent.html#a1de31388e6c4839d855713baedc4f44b">TanhComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a1de31388e6c4839d855713baedc4f44b">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a1de31388e6c4839d855713baedc4f44b">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a1de31388e6c4839d855713baedc4f44b">SigmoidComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a1de31388e6c4839d855713baedc4f44b">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#a1de31388e6c4839d855713baedc4f44b">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a1de31388e6c4839d855713baedc4f44b">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a1f11a4fb3396dda21cae55e81f23c750">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a1de31388e6c4839d855713baedc4f44b">DistributeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a1de31388e6c4839d855713baedc4f44b">NormalizeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#a1de31388e6c4839d855713baedc4f44b">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-utils_8cc_source.html#l01841">ModelCollapser::GetDiagonallyPreModifiedComponentIndex()</a>, <a class="el" href="nnet-utils_8cc_source.html#l01957">ModelCollapser::GetScaledComponentIndex()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00076">kaldi::nnet3::TestNnetComponentAddScale()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00067">kaldi::nnet3::TestNnetComponentCopy()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00109">kaldi::nnet3::TestNnetComponentUpdatable()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00086">kaldi::nnet3::TestNnetComponentVectorizeUnVectorize()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>.</p>

</div>
</div>
<a id="a8eacf8174f9fa190732c320ee3cf1d62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eacf8174f9fa190732c320ee3cf1d62">&#9670;&nbsp;</a></span>DeleteMemo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void DeleteMemo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function only needs to be overwritten by Components that return a non-NULL memo from their <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function. </p>
<p>It's called by <a class="el" href="classkaldi_1_1nnet3_1_1NnetComputer.html" title="class NnetComputer is responsible for executing the computation described in the &quot;computation&quot; object...">NnetComputer</a> in cases where Propagate returns a memo but there will be no backprop to consume it. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8eacf8174f9fa190732c320ee3cf1d62">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a8eacf8174f9fa190732c320ee3cf1d62">BatchNormComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a8eacf8174f9fa190732c320ee3cf1d62">RestrictedAttentionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00376">376</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">References <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00210">NnetComputer::ExecuteCommand()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00163">NnetComputer::SaveMemo()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{ <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(memo == NULL); }</div><div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d7b185ac981780bcfaed7dfdd8908d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7b185ac981780bcfaed7dfdd8908d8">&#9670;&nbsp;</a></span>GetInputIndexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GetInputIndexes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>misc_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>output_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *&#160;</td>
          <td class="paramname"><em>desired_indexes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function only does something interesting for non-simple Components. </p>
<p>For a given index at the output of the component, tells us what indexes are required at its input (note: "required" encompasses also optionally-required things; it will enumerate all things that we'd like to have). See also <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a529c07610dd915a30e452f80b8bb5fc0" title="This function only does something interesting for non-simple Components, and it exists to make it pos...">IsComputable()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">misc_info</td><td>This argument is supplied to handle things that the framework can't very easily supply: information like which time indexes are needed for AggregateComponent, which time-indexes are available at the input of a recurrent network, and so on. We will add members to misc_info as needed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_index</td><td>The <a class="el" href="structkaldi_1_1nnet3_1_1Index.html" title="struct Index is intended to represent the various indexes by which we number the rows of the matrices...">Index</a> at the output of the component, for which we are requesting the list of indexes at the component's input. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">desired_indexes</td><td>A list of indexes that are desired at the input. are to be written to here. By "desired" we mean required or optionally-required.</td></tr>
  </table>
  </dd>
</dl>
<p>The default implementation of this function is suitable for any SimpleComponent; it just copies the output_index to a single identical element in input_indexes. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a8319ee6c653027cabf26a86641d76efd">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a8319ee6c653027cabf26a86641d76efd">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a9d7b185ac981780bcfaed7dfdd8908d8">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a9d7b185ac981780bcfaed7dfdd8908d8">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a9d7b185ac981780bcfaed7dfdd8908d8">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a9d7b185ac981780bcfaed7dfdd8908d8">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a9d7b185ac981780bcfaed7dfdd8908d8">RestrictedAttentionComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a9d7b185ac981780bcfaed7dfdd8908d8">DistributeComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8cc_source.html#l00197">197</a> of file <a class="el" href="nnet-component-itf_8cc_source.html">nnet-component-itf.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-computation-graph_8cc_source.html#l00635">ComputationGraphBuilder::AddDependencies()</a>, and <a class="el" href="nnet-computation-graph_8cc_source.html#l01171">kaldi::nnet3::ComputeComputationGraph()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                                       {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  input_indexes-&gt;resize(1);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  (*input_indexes)[0] = output_index;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a245d65d566725422b859c99bff7623f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245d65d566725422b859c99bff7623f8">&#9670;&nbsp;</a></span>Info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns some text-form information about this component, for diagnostics. </p>
<p>Starts with the type of the component. E.g. "SigmoidComponent dim=900", although most components will have much more info. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a245d65d566725422b859c99bff7623f8">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#a245d65d566725422b859c99bff7623f8">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a245d65d566725422b859c99bff7623f8">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a245d65d566725422b859c99bff7623f8">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a245d65d566725422b859c99bff7623f8">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#a245d65d566725422b859c99bff7623f8">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a245d65d566725422b859c99bff7623f8">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a245d65d566725422b859c99bff7623f8">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a245d65d566725422b859c99bff7623f8">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a245d65d566725422b859c99bff7623f8">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a245d65d566725422b859c99bff7623f8">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a245d65d566725422b859c99bff7623f8">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a245d65d566725422b859c99bff7623f8">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a245d65d566725422b859c99bff7623f8">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a245d65d566725422b859c99bff7623f8">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a245d65d566725422b859c99bff7623f8">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a245d65d566725422b859c99bff7623f8">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a245d65d566725422b859c99bff7623f8">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#a245d65d566725422b859c99bff7623f8">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a245d65d566725422b859c99bff7623f8">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a245d65d566725422b859c99bff7623f8">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a245d65d566725422b859c99bff7623f8">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a245d65d566725422b859c99bff7623f8">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html#a245d65d566725422b859c99bff7623f8">UpdatableComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a245d65d566725422b859c99bff7623f8">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a245d65d566725422b859c99bff7623f8">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a245d65d566725422b859c99bff7623f8">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a245d65d566725422b859c99bff7623f8">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a245d65d566725422b859c99bff7623f8">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a245d65d566725422b859c99bff7623f8">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a245d65d566725422b859c99bff7623f8">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a245d65d566725422b859c99bff7623f8">RestrictedAttentionComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a245d65d566725422b859c99bff7623f8">NormalizeComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8cc_source.html#l00190">190</a> of file <a class="el" href="nnet-component-itf_8cc_source.html">nnet-component-itf.cc</a>.</p>

<p class="reference">References <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html#ab6b6147feb5e0688469b735a6546c222">ComponentPrecomputedIndexes::Type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-simple-component_8h_source.html#l01473">PermuteComponent::Add()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01197">NoOpComponent::Copy()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01339">ClipGradientComponent::Copy()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03328">FixedAffineComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03662">FixedScaleComponent::Info()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l03736">FixedBiasComponent::Info()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00952">LinearComponent::LinearComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02401">MaxpoolingComponent::MaxpoolingComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00831">NaturalGradientAffineComponent::NaturalGradientAffineComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00411">AffineComponent::OrthonormalConstraint()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00117">DropoutComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00508">BlockAffineComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00574">RepeatedAffineComponent::OutputDim()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00621">ConstantComponent::OutputDim()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00715">DropoutMaskComponent::OutputDim()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00845">GeneralDropoutComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01245">SumBlockComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01516">PerElementScaleComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01618">PerElementOffsetComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01682">ConstantFunctionComponent::OutputDim()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01857">ScaleAndOffsetComponent::OutputDim()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00477">BackpropTruncationComponent::Properties()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00076">kaldi::nnet3::TestNnetComponentAddScale()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00067">kaldi::nnet3::TestNnetComponentCopy()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00995">FixedAffineComponent::Type()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01100">FixedScaleComponent::Type()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01143">FixedBiasComponent::Type()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00490">kaldi::nnet3::UnitTestNnetComponent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  std::stringstream stream;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  stream &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">Type</a>() &lt;&lt; <span class="stringliteral">&quot;, input-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1Component.html#a7f37d871d35c43a03324502cea308635">InputDim</a>()</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, output-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1Component.html#ac0f2f034a884363d4e0694c62ea8a764">OutputDim</a>();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> stream.str();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1Component_html_ac0f2f034a884363d4e0694c62ea8a764"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Component.html#ac0f2f034a884363d4e0694c62ea8a764">kaldi::nnet3::Component::OutputDim</a></div><div class="ttdeci">virtual int32 OutputDim() const =0</div><div class="ttdoc">Returns output-dimension of this component. </div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Component_html_ab6b6147feb5e0688469b735a6546c222"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">kaldi::nnet3::Component::Type</a></div><div class="ttdeci">virtual std::string Type() const =0</div><div class="ttdoc">Returns a string such as &quot;SigmoidComponent&quot;, describing the type of the object. </div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Component_html_a7f37d871d35c43a03324502cea308635"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Component.html#a7f37d871d35c43a03324502cea308635">kaldi::nnet3::Component::InputDim</a></div><div class="ttdeci">virtual int32 InputDim() const =0</div><div class="ttdoc">Returns input-dimension of this component. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f7dc9cc61293d3c7decb5bd8ea3f4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7dc9cc61293d3c7decb5bd8ea3f4d5">&#9670;&nbsp;</a></span>InitFromConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void InitFromConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *&#160;</td>
          <td class="paramname"><em>cfl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cfl</td><td>A <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> containing any parameters that are needed for initialization. For example: "dim=100 param-stddev=0.1" </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#ac4f5c35427c2657c50173313e99e3f01">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#ac4f5c35427c2657c50173313e99e3f01">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#ac4f5c35427c2657c50173313e99e3f01">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#ac4f5c35427c2657c50173313e99e3f01">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#ac4f5c35427c2657c50173313e99e3f01">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#ac4f5c35427c2657c50173313e99e3f01">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#ac4f5c35427c2657c50173313e99e3f01">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#ac4f5c35427c2657c50173313e99e3f01">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#ac4f5c35427c2657c50173313e99e3f01">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#ac4f5c35427c2657c50173313e99e3f01">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#ac4f5c35427c2657c50173313e99e3f01">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#ac4f5c35427c2657c50173313e99e3f01">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#ac4f5c35427c2657c50173313e99e3f01">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#ac4f5c35427c2657c50173313e99e3f01">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#ac4f5c35427c2657c50173313e99e3f01">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#ac4f5c35427c2657c50173313e99e3f01">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#ac4f5c35427c2657c50173313e99e3f01">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#ac4f5c35427c2657c50173313e99e3f01">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ac4f5c35427c2657c50173313e99e3f01">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#ac4f5c35427c2657c50173313e99e3f01">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#ac4f5c35427c2657c50173313e99e3f01">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#ac4f5c35427c2657c50173313e99e3f01">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ac4f5c35427c2657c50173313e99e3f01">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#ac4f5c35427c2657c50173313e99e3f01">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#ac4f5c35427c2657c50173313e99e3f01">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#ac4f5c35427c2657c50173313e99e3f01">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#ac4f5c35427c2657c50173313e99e3f01">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#ac4f5c35427c2657c50173313e99e3f01">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#ac4f5c35427c2657c50173313e99e3f01">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#ac4f5c35427c2657c50173313e99e3f01">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#ac4f5c35427c2657c50173313e99e3f01">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#ac4f5c35427c2657c50173313e99e3f01">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#ac4f5c35427c2657c50173313e99e3f01">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#ac4f5c35427c2657c50173313e99e3f01">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#ac4f5c35427c2657c50173313e99e3f01">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#ac4f5c35427c2657c50173313e99e3f01">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#ac4f5c35427c2657c50173313e99e3f01">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#ac4f5c35427c2657c50173313e99e3f01">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-test-utils_8cc_source.html#l01767">kaldi::nnet3::GenerateRandomSimpleComponent()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l05487">CompositeComponent::InitFromConfig()</a>, and <a class="el" href="_2nnet-nnet_8cc_source.html#l00247">Nnet::ProcessComponentConfigLine()</a>.</p>

</div>
</div>
<a id="a7f37d871d35c43a03324502cea308635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f37d871d35c43a03324502cea308635">&#9670;&nbsp;</a></span>InputDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 InputDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns input-dimension of this component. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#aa5083adaff49881915d61ebf045e96db">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#aa5083adaff49881915d61ebf045e96db">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#aa5083adaff49881915d61ebf045e96db">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#aa5083adaff49881915d61ebf045e96db">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#aa5083adaff49881915d61ebf045e96db">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="_2nnet-nnet_8cc_source.html#l00694">Nnet::Check()</a>, <a class="el" href="nnet-analyze_8cc_source.html#l00791">ComputationChecker::CheckComputationIndexes()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00324">UpdatableComponent::Info()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>.</p>

</div>
</div>
<a id="a529c07610dd915a30e452f80b8bb5fc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a529c07610dd915a30e452f80b8bb5fc0">&#9670;&nbsp;</a></span>IsComputable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> IsComputable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>misc_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>output_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1IndexSet.html">IndexSet</a> &amp;&#160;</td>
          <td class="paramname"><em>input_index_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *&#160;</td>
          <td class="paramname"><em>used_inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function only does something interesting for non-simple Components, and it exists to make it possible to manage optionally-required inputs. </p>
<p>It tells the user whether a given output index is computable from a given set of input indexes, and if so, says which input indexes will be used in the computation.</p>
<p>Implementations of this function are required to have the property that adding an element to "input_index_set" can only ever change IsComputable from false to true, never vice versa.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">misc_info</td><td>Some information specific to the computation, such as minimum and maximum times for certain components to do adaptation on; it's a place to put things that don't easily fit in the framework. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_index</td><td>The index that is to be computed at the output of this <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_index_set</td><td>The set of indexes that is available at the input of this <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">used_inputs</td><td>If this is non-NULL and the output is computable this will be set to the list of input indexes that will actually be used in the computation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true iff this output is computable from the provided inputs.</dd></dl>
<p>The default implementation of this function is suitable for any SimpleComponent: it just returns true if output_index is in input_index_set, and if so sets used_inputs to vector containing that one <a class="el" href="structkaldi_1_1nnet3_1_1Index.html" title="struct Index is intended to represent the various indexes by which we number the rows of the matrices...">Index</a>. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a18416430ac8eb4f78b4f4f0c29d3eb08">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a18416430ac8eb4f78b4f4f0c29d3eb08">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a529c07610dd915a30e452f80b8bb5fc0">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a529c07610dd915a30e452f80b8bb5fc0">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a529c07610dd915a30e452f80b8bb5fc0">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a529c07610dd915a30e452f80b8bb5fc0">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a529c07610dd915a30e452f80b8bb5fc0">RestrictedAttentionComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a529c07610dd915a30e452f80b8bb5fc0">DistributeComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8cc_source.html#l00204">204</a> of file <a class="el" href="nnet-component-itf_8cc_source.html">nnet-component-itf.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-computation-graph_8cc_source.html#l00736">ComputationGraphBuilder::ComputeComputableInfo()</a>, and <a class="el" href="nnet-computation-graph_8cc_source.html#l00364">ComputationGraphBuilder::PruneDependencies()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                                  {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// the default Component dependency is for an output index to map directly to</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// the same input index, which is required to compute the output.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (!input_index_set(output_index))</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (used_inputs) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    used_inputs-&gt;clear();</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    used_inputs-&gt;push_back(output_index);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a5d0316806db9efcb5e56aa974bbe41b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d0316806db9efcb5e56aa974bbe41b9">&#9670;&nbsp;</a></span>KALDI_DISALLOW_COPY_AND_ASSIGN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KALDI_DISALLOW_COPY_AND_ASSIGN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="nnet-simple-component_8h_source.html#l01066">SumGroupComponent::Properties()</a>.</p>

</div>
</div>
<a id="a52564bb899e61119bac38d57147cd223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52564bb899e61119bac38d57147cd223">&#9670;&nbsp;</a></span>NewComponentOfType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> * NewComponentOfType </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> of the given type e.g. </p>
<p>"SoftmaxComponent", or NULL if no such component type exists. </p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8cc_source.html#l00095">95</a> of file <a class="el" href="nnet-component-itf_8cc_source.html">nnet-component-itf.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">Component::Type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-test-utils_8cc_source.html#l01767">kaldi::nnet3::GenerateRandomSimpleComponent()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l05487">CompositeComponent::InitFromConfig()</a>, and <a class="el" href="_2nnet-nnet_8cc_source.html#l00247">Nnet::ProcessComponentConfigLine()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                                        {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">Component</a> *ans = NULL;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;SigmoidComponent&quot;</span>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    ans = <span class="keyword">new</span> SigmoidComponent();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;TanhComponent&quot;</span>) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    ans = <span class="keyword">new</span> TanhComponent();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;SoftmaxComponent&quot;</span>) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    ans = <span class="keyword">new</span> SoftmaxComponent();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;LogSoftmaxComponent&quot;</span>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    ans = <span class="keyword">new</span> LogSoftmaxComponent();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;RectifiedLinearComponent&quot;</span>) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    ans = <span class="keyword">new</span> RectifiedLinearComponent();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;NormalizeComponent&quot;</span>) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    ans = <span class="keyword">new</span> NormalizeComponent();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;PnormComponent&quot;</span>) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    ans = <span class="keyword">new</span> PnormComponent();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;AffineComponent&quot;</span>) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    ans = <span class="keyword">new</span> AffineComponent();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;LinearComponent&quot;</span>) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    ans = <span class="keyword">new</span> LinearComponent();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;NaturalGradientAffineComponent&quot;</span>) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    ans = <span class="keyword">new</span> NaturalGradientAffineComponent();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;PerElementScaleComponent&quot;</span>) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    ans = <span class="keyword">new</span> PerElementScaleComponent();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;NaturalGradientPerElementScaleComponent&quot;</span>) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    ans = <span class="keyword">new</span> NaturalGradientPerElementScaleComponent();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;PerElementOffsetComponent&quot;</span>) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    ans = <span class="keyword">new</span> PerElementOffsetComponent();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;SumGroupComponent&quot;</span>) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    ans = <span class="keyword">new</span> SumGroupComponent();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;FixedAffineComponent&quot;</span>) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    ans = <span class="keyword">new</span> FixedAffineComponent();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;FixedScaleComponent&quot;</span>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    ans = <span class="keyword">new</span> FixedScaleComponent();</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;FixedBiasComponent&quot;</span>) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    ans = <span class="keyword">new</span> FixedBiasComponent();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;NoOpComponent&quot;</span>) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    ans = <span class="keyword">new</span> NoOpComponent();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;ClipGradientComponent&quot;</span>) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    ans = <span class="keyword">new</span> ClipGradientComponent();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;ElementwiseProductComponent&quot;</span>) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    ans = <span class="keyword">new</span> ElementwiseProductComponent();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;ConvolutionComponent&quot;</span>) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    ans = <span class="keyword">new</span> ConvolutionComponent();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;TdnnComponent&quot;</span>) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    ans = <span class="keyword">new</span> TdnnComponent();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;MaxpoolingComponent&quot;</span>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    ans = <span class="keyword">new</span> MaxpoolingComponent();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;PermuteComponent&quot;</span>) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    ans = <span class="keyword">new</span> PermuteComponent();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;DistributeComponent&quot;</span>) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    ans = <span class="keyword">new</span> DistributeComponent();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;CompositeComponent&quot;</span>) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    ans = <span class="keyword">new</span> CompositeComponent();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;RepeatedAffineComponent&quot;</span>) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    ans = <span class="keyword">new</span> RepeatedAffineComponent();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;BlockAffineComponent&quot;</span>) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    ans = <span class="keyword">new</span> BlockAffineComponent();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;NaturalGradientRepeatedAffineComponent&quot;</span>) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    ans = <span class="keyword">new</span> NaturalGradientRepeatedAffineComponent();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;StatisticsExtractionComponent&quot;</span>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    ans = <span class="keyword">new</span> StatisticsExtractionComponent();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;StatisticsPoolingComponent&quot;</span>) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    ans = <span class="keyword">new</span> StatisticsPoolingComponent();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;ConstantFunctionComponent&quot;</span>) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    ans = <span class="keyword">new</span> ConstantFunctionComponent();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;ConstantComponent&quot;</span>) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    ans = <span class="keyword">new</span> ConstantComponent();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;DropoutComponent&quot;</span>) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    ans = <span class="keyword">new</span> DropoutComponent();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;DropoutMaskComponent&quot;</span>) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    ans = <span class="keyword">new</span> DropoutMaskComponent();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;GeneralDropoutComponent&quot;</span>) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    ans = <span class="keyword">new</span> GeneralDropoutComponent();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;BackpropTruncationComponent&quot;</span>) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    ans = <span class="keyword">new</span> BackpropTruncationComponent();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;LstmNonlinearityComponent&quot;</span>) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    ans = <span class="keyword">new</span> LstmNonlinearityComponent();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;BatchNormComponent&quot;</span>) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    ans = <span class="keyword">new</span> BatchNormComponent();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;TimeHeightConvolutionComponent&quot;</span>) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    ans = <span class="keyword">new</span> TimeHeightConvolutionComponent();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;RestrictedAttentionComponent&quot;</span>) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    ans = <span class="keyword">new</span> RestrictedAttentionComponent();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;SumBlockComponent&quot;</span>) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    ans = <span class="keyword">new</span> SumBlockComponent();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (component_type == <span class="stringliteral">&quot;ScaleAndOffsetComponent&quot;</span>) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    ans = <span class="keyword">new</span> ScaleAndOffsetComponent();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (ans != NULL) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(component_type == ans-&gt;Type());</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> ans;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1Component_html_a0171e1571f18dc6a27c8b041de55feec"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">kaldi::nnet3::Component::Component</a></div><div class="ttdeci">Component()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00396">nnet-component-itf.h:396</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0f2f034a884363d4e0694c62ea8a764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f2f034a884363d4e0694c62ea8a764">&#9670;&nbsp;</a></span>OutputDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 OutputDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns output-dimension of this component. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#af97474cce492a0b8305e8ec2c798509b">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#af97474cce492a0b8305e8ec2c798509b">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#af97474cce492a0b8305e8ec2c798509b">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#af97474cce492a0b8305e8ec2c798509b">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a323155ad8034c0b14762dd78ae4415b5">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a323155ad8034c0b14762dd78ae4415b5">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a323155ad8034c0b14762dd78ae4415b5">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a323155ad8034c0b14762dd78ae4415b5">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a323155ad8034c0b14762dd78ae4415b5">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a323155ad8034c0b14762dd78ae4415b5">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a323155ad8034c0b14762dd78ae4415b5">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a323155ad8034c0b14762dd78ae4415b5">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a323155ad8034c0b14762dd78ae4415b5">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a323155ad8034c0b14762dd78ae4415b5">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a323155ad8034c0b14762dd78ae4415b5">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a323155ad8034c0b14762dd78ae4415b5">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a323155ad8034c0b14762dd78ae4415b5">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a323155ad8034c0b14762dd78ae4415b5">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a323155ad8034c0b14762dd78ae4415b5">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a323155ad8034c0b14762dd78ae4415b5">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a323155ad8034c0b14762dd78ae4415b5">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a323155ad8034c0b14762dd78ae4415b5">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a323155ad8034c0b14762dd78ae4415b5">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a323155ad8034c0b14762dd78ae4415b5">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a323155ad8034c0b14762dd78ae4415b5">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a323155ad8034c0b14762dd78ae4415b5">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a323155ad8034c0b14762dd78ae4415b5">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#af97474cce492a0b8305e8ec2c798509b">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a323155ad8034c0b14762dd78ae4415b5">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a323155ad8034c0b14762dd78ae4415b5">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#a323155ad8034c0b14762dd78ae4415b5">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a323155ad8034c0b14762dd78ae4415b5">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a323155ad8034c0b14762dd78ae4415b5">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a323155ad8034c0b14762dd78ae4415b5">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a323155ad8034c0b14762dd78ae4415b5">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#a323155ad8034c0b14762dd78ae4415b5">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-analyze_8cc_source.html#l00791">ComputationChecker::CheckComputationIndexes()</a>, <a class="el" href="_2nnet-nnet_8cc_source.html#l00033">NetworkNode::Dim()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00324">UpdatableComponent::Info()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>.</p>

</div>
</div>
<a id="ad3829084b3e064ff320153ff4b6cfd44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3829084b3e064ff320153ff4b6cfd44">&#9670;&nbsp;</a></span>PrecomputeIndexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a>* PrecomputeIndexes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>misc_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>output_indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>need_backprop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function must return NULL for simple Components. </p>
<p>Returns a pointer to a class that may contain some precomputed component-specific and computation-specific indexes to be in used in the Propagate and Backprop functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">misc_info</td><td>This argument is supplied to handle things that the framework can't very easily supply: information like which time indexes are needed for AggregateComponent, which time-indexes are available at the input of a recurrent network, and so on. misc_info may not even ever be used here. We will add members to misc_info as needed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_indexes</td><td>A vector of indexes that explains what time-indexes (and other indexes) each row of the in/in_value/in_deriv matrices given to Propagate and Backprop will mean. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_indexes</td><td>A vector of indexes that explains what time-indexes (and other indexes) each row of the out/out_value/out_deriv matrices given to Propagate and Backprop will mean. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">need_backprop</td><td>True if we might need to do backprop with this component, so that if any different indexes are needed for backprop then those should be computed too. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a child-class of class <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a>, or NULL if this component for does not need to precompute any indexes (e.g. if it is a simple component and does not care about indexes). </dd></dl>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8b2919d1c6cfa5f73581f407150374b6">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a8b2919d1c6cfa5f73581f407150374b6">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a8b2919d1c6cfa5f73581f407150374b6">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a8b2919d1c6cfa5f73581f407150374b6">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a8b2919d1c6cfa5f73581f407150374b6">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a8b2919d1c6cfa5f73581f407150374b6">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a8b2919d1c6cfa5f73581f407150374b6">RestrictedAttentionComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a8b2919d1c6cfa5f73581f407150374b6">DistributeComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00302">302</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">References <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html#accec806b930f770a46cbd7a4f091ab08">ComponentPrecomputedIndexes::Copy()</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html#a8fdc6d9ab8dee50ab66def372bea719e">ComponentPrecomputedIndexes::Read()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00041">ComponentPrecomputedIndexes::ReadNew()</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html#ab6b6147feb5e0688469b735a6546c222">ComponentPrecomputedIndexes::Type()</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html#a852bc7306aaa45b284f662f1ddb1a3d5">ComponentPrecomputedIndexes::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-optimize-utils_8cc_source.html#l03676">ComputationExpander::ComputePrecomputedIndexes()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00180">kaldi::nnet3::GetPrecomputedIndexes()</a>, and <a class="el" href="nnet-compile_8cc_source.html#l01239">Compiler::SetUpPrecomputedIndexes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                                { <span class="keywordflow">return</span> NULL;  }</div></div><!-- fragment -->
</div>
</div>
<a id="a342467ad10ff8535abe96768bdf27958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342467ad10ff8535abe96768bdf27958">&#9670;&nbsp;</a></span>Propagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* Propagate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>The input to this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a7f37d871d35c43a03324502cea308635" title="Returns input-dimension of this component. ">InputDim()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>The output of this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ac0f2f034a884363d4e0694c62ea8a764" title="Returns output-dimension of this component. ">OutputDim()</a>. Note: output of this component will be added to the initial value of "out" if <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kPropagateAdds != 0; otherwise the output will be set and the initial value ignored. Each <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> chooses whether it is more convenient implementation-wise to add or set, and the calling code has to deal with it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Normally returns NULL, but may return a non-NULL value for components which have the flag kUsesMemo set. This value will be passed into the corresponding Backprop routine. </dd></dl>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a8f1f1b05a170bd81a544caefe1acb040">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#a8f1f1b05a170bd81a544caefe1acb040">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a8f1f1b05a170bd81a544caefe1acb040">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a8f1f1b05a170bd81a544caefe1acb040">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a8f1f1b05a170bd81a544caefe1acb040">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a8f1f1b05a170bd81a544caefe1acb040">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a8f1f1b05a170bd81a544caefe1acb040">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a8f1f1b05a170bd81a544caefe1acb040">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a8f1f1b05a170bd81a544caefe1acb040">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a8f1f1b05a170bd81a544caefe1acb040">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a8f1f1b05a170bd81a544caefe1acb040">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a8f1f1b05a170bd81a544caefe1acb040">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a8f1f1b05a170bd81a544caefe1acb040">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a8f1f1b05a170bd81a544caefe1acb040">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a8f1f1b05a170bd81a544caefe1acb040">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a8f1f1b05a170bd81a544caefe1acb040">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a8f1f1b05a170bd81a544caefe1acb040">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8f1f1b05a170bd81a544caefe1acb040">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a8f1f1b05a170bd81a544caefe1acb040">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LogSoftmaxComponent.html#a8f1f1b05a170bd81a544caefe1acb040">LogSoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SoftmaxComponent.html#a8f1f1b05a170bd81a544caefe1acb040">SoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a8f1f1b05a170bd81a544caefe1acb040">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a8f1f1b05a170bd81a544caefe1acb040">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a8f1f1b05a170bd81a544caefe1acb040">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a8f1f1b05a170bd81a544caefe1acb040">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a8f1f1b05a170bd81a544caefe1acb040">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a8f1f1b05a170bd81a544caefe1acb040">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a8f1f1b05a170bd81a544caefe1acb040">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RectifiedLinearComponent.html#a8f1f1b05a170bd81a544caefe1acb040">RectifiedLinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TanhComponent.html#a8f1f1b05a170bd81a544caefe1acb040">TanhComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a8f1f1b05a170bd81a544caefe1acb040">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a8f1f1b05a170bd81a544caefe1acb040">SigmoidComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a8f1f1b05a170bd81a544caefe1acb040">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a8f1f1b05a170bd81a544caefe1acb040">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#a8f1f1b05a170bd81a544caefe1acb040">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a8f1f1b05a170bd81a544caefe1acb040">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a8f1f1b05a170bd81a544caefe1acb040">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a8f1f1b05a170bd81a544caefe1acb040">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a8f1f1b05a170bd81a544caefe1acb040">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#a8f1f1b05a170bd81a544caefe1acb040">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00210">NnetComputer::ExecuteCommand()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01156">FixedBiasComponent::OutputDim()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>.</p>

</div>
</div>
<a id="a3a4ff15fafe0c8c4885586fc2c36ca8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4ff15fafe0c8c4885586fc2c36ca8a">&#9670;&nbsp;</a></span>Properties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 Properties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return bitmask of the component's properties. </p>
<p>These properties depend only on the component's type. See enum ComponentProperties. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#ab17c0c589e9e60ab186972b0fdf835a0">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#a4a16a6da3a5108ec53e759722a51fd47">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a4a16a6da3a5108ec53e759722a51fd47">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a4a16a6da3a5108ec53e759722a51fd47">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a4a16a6da3a5108ec53e759722a51fd47">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a4a16a6da3a5108ec53e759722a51fd47">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a4a16a6da3a5108ec53e759722a51fd47">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a4a16a6da3a5108ec53e759722a51fd47">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a4a16a6da3a5108ec53e759722a51fd47">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a4a16a6da3a5108ec53e759722a51fd47">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a4a16a6da3a5108ec53e759722a51fd47">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a4a16a6da3a5108ec53e759722a51fd47">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a4a16a6da3a5108ec53e759722a51fd47">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a4a16a6da3a5108ec53e759722a51fd47">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a4a16a6da3a5108ec53e759722a51fd47">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a4a16a6da3a5108ec53e759722a51fd47">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a4a16a6da3a5108ec53e759722a51fd47">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a4a16a6da3a5108ec53e759722a51fd47">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LogSoftmaxComponent.html#a4a16a6da3a5108ec53e759722a51fd47">LogSoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SoftmaxComponent.html#a4a16a6da3a5108ec53e759722a51fd47">SoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a4a16a6da3a5108ec53e759722a51fd47">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a4a16a6da3a5108ec53e759722a51fd47">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a4a16a6da3a5108ec53e759722a51fd47">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a4a16a6da3a5108ec53e759722a51fd47">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a4a16a6da3a5108ec53e759722a51fd47">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a4a16a6da3a5108ec53e759722a51fd47">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RectifiedLinearComponent.html#a4a16a6da3a5108ec53e759722a51fd47">RectifiedLinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a4a16a6da3a5108ec53e759722a51fd47">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TanhComponent.html#a4a16a6da3a5108ec53e759722a51fd47">TanhComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a4a16a6da3a5108ec53e759722a51fd47">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#a4a16a6da3a5108ec53e759722a51fd47">SigmoidComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a4a16a6da3a5108ec53e759722a51fd47">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a4a16a6da3a5108ec53e759722a51fd47">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#a4a16a6da3a5108ec53e759722a51fd47">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a4a16a6da3a5108ec53e759722a51fd47">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a4a16a6da3a5108ec53e759722a51fd47">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a4a16a6da3a5108ec53e759722a51fd47">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#a4a16a6da3a5108ec53e759722a51fd47">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-compile_8cc_source.html#l01149">Compiler::AddBackwardStepComponent()</a>, <a class="el" href="nnet-compile_8cc_source.html#l01097">Compiler::AddForwardStepComponent()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00313">kaldi::nnet3::AddNnetComponents()</a>, <a class="el" href="nnet-utils_8cc_source.html#l02151">kaldi::nnet3::ApplyL2Regularization()</a>, <a class="el" href="nnet-analyze_8cc_source.html#l00791">ComputationChecker::CheckComputationIndexes()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00211">kaldi::nnet3::ComponentDotProducts()</a>, <a class="el" href="nnet-analyze_8cc_source.html#l00284">kaldi::nnet3::ComputeCommandAttributes()</a>, <a class="el" href="nnet-compile_8cc_source.html#l00176">Compiler::ComputeDerivNeeded()</a>, <a class="el" href="nnet-optimize-utils_8cc_source.html#l01515">ModelUpdateConsolidator::ConsolidateModelUpdate()</a>, <a class="el" href="nnet-optimize-utils_8cc_source.html#l01460">ModelUpdateConsolidator::ConsolidateUpdateForComponent()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00116">NnetComputer::DebugAfterExecute()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00082">NnetComputer::DebugBeforeExecute()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00250">kaldi::nnet3::DotProduct()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00210">NnetComputer::ExecuteCommand()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00423">kaldi::nnet3::FreezeNaturalGradient()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00180">kaldi::nnet3::GetPrecomputedIndexes()</a>, <a class="el" href="nnet-compile_8cc_source.html#l00252">Compiler::GetStrideType()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l05487">CompositeComponent::InitFromConfig()</a>, <a class="el" href="nnet-optimize-utils_8cc_source.html#l00723">VariableMergingOptimizer::MergeVariables()</a>, <a class="el" href="nnet-optimize-utils_8cc_source.html#l01604">DerivativeTimeLimiter::ModifyCommand()</a>, <a class="el" href="nnet-test-utils_8cc_source.html#l01786">kaldi::nnet3::NnetParametersAreIdentical()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00350">kaldi::nnet3::NumParameters()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00413">kaldi::nnet3::NumUpdatableComponents()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00199">kaldi::nnet3::PerturbParams()</a>, <a class="el" href="nnet-chain-training_8cc_source.html#l00365">NnetChainTrainer::PrintMaxChangeStats()</a>, <a class="el" href="nnet-training_8cc_source.html#l00243">NnetTrainer::PrintMaxChangeStats()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00231">kaldi::nnet3::PrintVectorPerUpdatableComponent()</a>, <a class="el" href="nnet-computation-graph_8cc_source.html#l01741">ComputationStepsComputer::ProcessComponentStep()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00276">kaldi::nnet3::SetLearningRate()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00292">kaldi::nnet3::SetNnetAsGradient()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00109">kaldi::nnet3::TestNnetComponentUpdatable()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00086">kaldi::nnet3::TestNnetComponentVectorizeUnVectorize()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00392">kaldi::nnet3::UnVectorizeNnet()</a>, <a class="el" href="nnet-utils_8cc_source.html#l02013">kaldi::nnet3::UpdateNnetWithMaxChange()</a>, and <a class="el" href="nnet-utils_8cc_source.html#l00369">kaldi::nnet3::VectorizeNnet()</a>.</p>

</div>
</div>
<a id="a5d1c1c5364c25160bfef9dda52480cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1c1c5364c25160bfef9dda52480cf5">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read function (used after we know the type of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>); accepts input that is missing the token that describes the component type, in case it has already been consumed. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-component-itf_8cc_source.html#l00081">Component::ReadNew()</a>.</p>

</div>
</div>
<a id="a4ddbc3371d68afbe87908b87b8c0a6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddbc3371d68afbe87908b87b8c0a6ae">&#9670;&nbsp;</a></span>ReadNew()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> * ReadNew </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read component from stream (works out its type). Dies on error. </p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8cc_source.html#l00081">81</a> of file <a class="el" href="nnet-component-itf_8cc_source.html">nnet-component-itf.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a5d1c1c5364c25160bfef9dda52480cf5">Component::Read()</a>, and <a class="el" href="io-funcs_8cc_source.html#l00154">kaldi::ReadToken()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_2nnet-nnet_8cc_source.html#l00586">Nnet::Read()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l05113">CompositeComponent::Read()</a>, and <a class="el" href="_2nnet-component-test_8cc_source.html#l00052">kaldi::nnet3::TestNnetComponentIo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                         {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  std::string token;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">ReadToken</a>(is, binary, &amp;token); <span class="comment">// e.g. &quot;&lt;SigmoidComponent&gt;&quot;.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  token.erase(0, 1); <span class="comment">// erase &quot;&lt;&quot;.</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  token.erase(token.length()-1); <span class="comment">// erase &quot;&gt;&quot;.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">Component</a> *ans = <a class="code" href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">NewComponentOfType</a>(token);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span> (!ans)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Unknown component type &quot;</span> &lt;&lt; token;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  ans-&gt;Read(is, binary);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">return</span> ans;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="ttc" id="group__io__funcs__basic_html_gacbf9367cd910befefa0bc98055979bea"><div class="ttname"><a href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">kaldi::ReadToken</a></div><div class="ttdeci">void ReadToken(std::istream &amp;is, bool binary, std::string *str)</div><div class="ttdoc">ReadToken gets the next token and puts it in str (exception on failure). </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00154">io-funcs.cc:154</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Component_html_a0171e1571f18dc6a27c8b041de55feec"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">kaldi::nnet3::Component::Component</a></div><div class="ttdeci">Component()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00396">nnet-component-itf.h:396</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1Component_html_a52564bb899e61119bac38d57147cd223"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">kaldi::nnet3::Component::NewComponentOfType</a></div><div class="ttdeci">static Component * NewComponentOfType(const std::string &amp;type)</div><div class="ttdoc">Returns a new Component of the given type e.g. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8cc_source.html#l00095">nnet-component-itf.cc:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92fc16eadbf5faafb1aeb4b90614d691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92fc16eadbf5faafb1aeb4b90614d691">&#9670;&nbsp;</a></span>ReorderIndexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ReorderIndexes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *&#160;</td>
          <td class="paramname"><em>input_indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *&#160;</td>
          <td class="paramname"><em>output_indexes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function only does something interesting for non-simple Components. </p>
<p>It provides an opportunity for a <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> to reorder the or pad the indexes at its input and output. This might be useful, for instance, if a component requires a particular ordering of the indexes that doesn't correspond to their natural ordering. Components that might modify the indexes are required to return the kReordersIndexes flag in their <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>. The <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a92fc16eadbf5faafb1aeb4b90614d691" title="This function only does something interesting for non-simple Components. ">ReorderIndexes()</a> function is now allowed to insert blanks into the indexes. The 'blanks' must be of the form (n,kNoTime,x), where the marker kNoTime (a very negative number) is there where the 't' indexes normally live. The reason we don't just have, say, (-1,-1,-1), relates to the need to preserve a regular pattern over the 'n' indexes so that 'shortcut compilation' (c.f. <a class="el" href="namespacekaldi_1_1nnet3.html#af8007bfceb176a3f8f7f3efb765c9062" title="This function is used in &#39;shortcut&#39; compilation to expand a computation that has been compiled for ex...">ExpandComputation()</a>) can work correctly</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Indexes</td><td>at the input of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Indexes</td><td>at the output of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a2133bab2e5e5e64e8136a341971f2012">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a2133bab2e5e5e64e8136a341971f2012">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a2133bab2e5e5e64e8136a341971f2012">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a2133bab2e5e5e64e8136a341971f2012">StatisticsExtractionComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a2133bab2e5e5e64e8136a341971f2012">RestrictedAttentionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00272">272</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8h_source.html#l00237">StatisticsExtractionComponent::Copy()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00373">StatisticsPoolingComponent::Copy()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00180">kaldi::nnet3::GetPrecomputedIndexes()</a>, and <a class="el" href="nnet-computation-graph_8cc_source.html#l01741">ComputationStepsComputer::ProcessComponentStep()</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                                                      {}</div></div><!-- fragment -->
</div>
</div>
<a id="a750ca3e44a00898afea53b54697226ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750ca3e44a00898afea53b54697226ba">&#9670;&nbsp;</a></span>Scale()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Scale </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>scale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function when called on &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> scales the parameters by "scale" when called by an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a>. </p>
<p>&ndash; a Nonlinear component (or another component that stores stats, like <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html">BatchNormComponent</a>)&ndash; it relates to scaling activation stats, not parameters. Otherwise it will normally do nothing. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a750ca3e44a00898afea53b54697226ba">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">BatchNormComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a5a4fc4a0524ae8957baf45b8cb168843">RestrictedAttentionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00360">360</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-normalize-component_8h_source.html#l00209">BatchNormComponent::Copy()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01339">ClipGradientComponent::Copy()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01892">ScaleAndOffsetComponent::Copy()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00666">ConstantComponent::IsComputable()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00952">LinearComponent::LinearComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00831">NaturalGradientAffineComponent::NaturalGradientAffineComponent()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00418">AffineComponent::Properties()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00477">BackpropTruncationComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00515">BlockAffineComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00581">RepeatedAffineComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01523">PerElementScaleComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01625">PerElementOffsetComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01695">ConstantFunctionComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02050">ConvolutionComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02254">LstmNonlinearityComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l05326">CompositeComponent::Scale()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00303">kaldi::nnet3::ScaleNnet()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00076">kaldi::nnet3::TestNnetComponentAddScale()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00109">kaldi::nnet3::TestNnetComponentUpdatable()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00086">kaldi::nnet3::TestNnetComponentVectorizeUnVectorize()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, and <a class="el" href="nnet-simple-component_8h_source.html#l02506">CompositeComponent::Type()</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{};</div></div><!-- fragment -->
</div>
</div>
<a id="a304cec15e1a696a5af5f2f5daae7bc4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304cec15e1a696a5af5f2f5daae7bc4f">&#9670;&nbsp;</a></span>StoreStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void StoreStats </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function may store stats on average activation values, and for some component types, the average value of the derivative of the nonlinearity. </p>
<p>It only does something for those components that have nonzero <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kStoresStats.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_value</td><td>The input to the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function. Note: if the component sets the flag kPropagateInPlace, this should not be used; the empty matrix will be provided here if in-place propagation was used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_value</td><td>The output of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">memo</td><td>The 'memo' returned by the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958" title="Propagate function. ">Propagate()</a> function; this will usually be NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1SoftmaxComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">SoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RectifiedLinearComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">RectifiedLinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TanhComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">TanhComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">SigmoidComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">BatchNormComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#acd6c79cbaf8c63ca2e31105dd55bb4ab">RestrictedAttentionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00186">186</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-simple-component_8cc_source.html#l05187">CompositeComponent::Backprop()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00230">SigmoidComponent::Copy()</a>, <a class="el" href="nnet-normalize-component_8h_source.html#l00216">BatchNormComponent::DeleteMemo()</a>, <a class="el" href="nnet3_2nnet-compute_8cc_source.html#l00210">NnetComputer::ExecuteCommand()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00288">TanhComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l00351">RectifiedLinearComponent::Properties()</a>, and <a class="el" href="nnet-simple-component_8h_source.html#l00683">SoftmaxComponent::Properties()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                      { }</div></div><!-- fragment -->
</div>
</div>
<a id="ab6b6147feb5e0688469b735a6546c222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6b6147feb5e0688469b735a6546c222">&#9670;&nbsp;</a></span>Type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string such as "SigmoidComponent", describing the type of the object. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#af2d951f58073f362411ee482aa469975">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#af2d951f58073f362411ee482aa469975">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#af2d951f58073f362411ee482aa469975">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#af2d951f58073f362411ee482aa469975">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#af2d951f58073f362411ee482aa469975">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#af2d951f58073f362411ee482aa469975">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#af2d951f58073f362411ee482aa469975">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#af2d951f58073f362411ee482aa469975">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#af2d951f58073f362411ee482aa469975">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#af2d951f58073f362411ee482aa469975">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#af2d951f58073f362411ee482aa469975">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#af2d951f58073f362411ee482aa469975">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#af2d951f58073f362411ee482aa469975">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#af2d951f58073f362411ee482aa469975">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#af2d951f58073f362411ee482aa469975">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#af2d951f58073f362411ee482aa469975">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#af2d951f58073f362411ee482aa469975">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#af2d951f58073f362411ee482aa469975">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af2d951f58073f362411ee482aa469975">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#af2d951f58073f362411ee482aa469975">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#af2d951f58073f362411ee482aa469975">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LogSoftmaxComponent.html#af2d951f58073f362411ee482aa469975">LogSoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SoftmaxComponent.html#af2d951f58073f362411ee482aa469975">SoftmaxComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientRepeatedAffineComponent.html#af2d951f58073f362411ee482aa469975">NaturalGradientRepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#af2d951f58073f362411ee482aa469975">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#af2d951f58073f362411ee482aa469975">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#af2d951f58073f362411ee482aa469975">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#af2d951f58073f362411ee482aa469975">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#af2d951f58073f362411ee482aa469975">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#af2d951f58073f362411ee482aa469975">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#af2d951f58073f362411ee482aa469975">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RectifiedLinearComponent.html#af2d951f58073f362411ee482aa469975">RectifiedLinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TanhComponent.html#af2d951f58073f362411ee482aa469975">TanhComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#af2d951f58073f362411ee482aa469975">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SigmoidComponent.html#af2d951f58073f362411ee482aa469975">SigmoidComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#af2d951f58073f362411ee482aa469975">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#af2d951f58073f362411ee482aa469975">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#af2d951f58073f362411ee482aa469975">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#af2d951f58073f362411ee482aa469975">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#af2d951f58073f362411ee482aa469975">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#af2d951f58073f362411ee482aa469975">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#af2d951f58073f362411ee482aa469975">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#af2d951f58073f362411ee482aa469975">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-analyze_8cc_source.html#l00728">ComputationChecker::CheckComputationCompression()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00438">kaldi::nnet3::ConvertRepeatedToBlockAffine()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00324">UpdatableComponent::Info()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00400">NonlinearComponent::Info()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00614">NonlinearComponent::InitFromConfig()</a>, <a class="el" href="nnet-simple-component_8cc_source.html#l05487">CompositeComponent::InitFromConfig()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00095">Component::NewComponentOfType()</a>, <a class="el" href="nnet-test-utils_8cc_source.html#l01786">kaldi::nnet3::NnetParametersAreIdentical()</a>, <a class="el" href="nnet-optimize-utils_8cc_source.html#l04813">MemoryCompressionOptimizer::ProcessMatrix()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00472">NonlinearComponent::Read()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00254">UpdatableComponent::ReadUpdatableCommon()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00309">kaldi::nnet3::TestSimpleComponentDataDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00390">kaldi::nnet3::TestSimpleComponentModelDerivative()</a>, <a class="el" href="_2nnet-component-test_8cc_source.html#l00210">kaldi::nnet3::TestSimpleComponentPropagateProperties()</a>, <a class="el" href="nnet-utils-test_8cc_source.html#l00050">kaldi::nnet3::UnitTestConvertRepeatedToBlockAffine()</a>, <a class="el" href="nnet-utils-test_8cc_source.html#l00082">kaldi::nnet3::UnitTestConvertRepeatedToBlockAffineComposite()</a>, <a class="el" href="nnet-component-itf_8cc_source.html#l00537">NonlinearComponent::Write()</a>, and <a class="el" href="nnet-component-itf_8cc_source.html#l00297">UpdatableComponent::WriteUpdatableCommon()</a>.</p>

</div>
</div>
<a id="a852bc7306aaa45b284f662f1ddb1a3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852bc7306aaa45b284f662f1ddb1a3d5">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Write </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write component to stream. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#a68f354fd5f096134162f01719096e6fc">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1MaxpoolingComponent.html#a68f354fd5f096134162f01719096e6fc">MaxpoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#a68f354fd5f096134162f01719096e6fc">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConvolutionComponent.html#a68f354fd5f096134162f01719096e6fc">ConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ScaleAndOffsetComponent.html#a68f354fd5f096134162f01719096e6fc">ScaleAndOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientPerElementScaleComponent.html#a68f354fd5f096134162f01719096e6fc">NaturalGradientPerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantFunctionComponent.html#a68f354fd5f096134162f01719096e6fc">ConstantFunctionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementOffsetComponent.html#a68f354fd5f096134162f01719096e6fc">PerElementOffsetComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PerElementScaleComponent.html#a68f354fd5f096134162f01719096e6fc">PerElementScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#a68f354fd5f096134162f01719096e6fc">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#a68f354fd5f096134162f01719096e6fc">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumBlockComponent.html#a68f354fd5f096134162f01719096e6fc">SumBlockComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NoOpComponent.html#a68f354fd5f096134162f01719096e6fc">NoOpComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedBiasComponent.html#a68f354fd5f096134162f01719096e6fc">FixedBiasComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedScaleComponent.html#a68f354fd5f096134162f01719096e6fc">FixedScaleComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SumGroupComponent.html#a68f354fd5f096134162f01719096e6fc">SumGroupComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1FixedAffineComponent.html#a68f354fd5f096134162f01719096e6fc">FixedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html#a68f354fd5f096134162f01719096e6fc">LinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a68f354fd5f096134162f01719096e6fc">GeneralDropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientAffineComponent.html#a68f354fd5f096134162f01719096e6fc">NaturalGradientAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html#a68f354fd5f096134162f01719096e6fc">DropoutMaskComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantComponent.html#a68f354fd5f096134162f01719096e6fc">ConstantComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#a68f354fd5f096134162f01719096e6fc">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html#a68f354fd5f096134162f01719096e6fc">RepeatedAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html#a68f354fd5f096134162f01719096e6fc">BlockAffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#a68f354fd5f096134162f01719096e6fc">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TdnnComponent.html#a68f354fd5f096134162f01719096e6fc">TdnnComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html#a68f354fd5f096134162f01719096e6fc">AffineComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsPoolingComponent.html#a68f354fd5f096134162f01719096e6fc">StatisticsPoolingComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1TimeHeightConvolutionComponent.html#a68f354fd5f096134162f01719096e6fc">TimeHeightConvolutionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1StatisticsExtractionComponent.html#a68f354fd5f096134162f01719096e6fc">StatisticsExtractionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#a68f354fd5f096134162f01719096e6fc">BatchNormComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ElementwiseProductComponent.html#a68f354fd5f096134162f01719096e6fc">ElementwiseProductComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#a68f354fd5f096134162f01719096e6fc">RestrictedAttentionComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html#a68f354fd5f096134162f01719096e6fc">DropoutComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NormalizeComponent.html#a68f354fd5f096134162f01719096e6fc">NormalizeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1DistributeComponent.html#a68f354fd5f096134162f01719096e6fc">DistributeComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1PnormComponent.html#a68f354fd5f096134162f01719096e6fc">PnormComponent</a>.</p>

<p class="reference">Referenced by <a class="el" href="_2nnet-component-test_8cc_source.html#l00052">kaldi::nnet3::TestNnetComponentIo()</a>.</p>

</div>
</div>
<a id="ab162a2631e5335091d1f2bba1571e54d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab162a2631e5335091d1f2bba1571e54d">&#9670;&nbsp;</a></span>ZeroStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ZeroStats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Components that provide an implementation of StoreStats should also provide an implementation of <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d" title="Components that provide an implementation of StoreStats should also provide an implementation of Zero...">ZeroStats()</a>, to set those stats to zero. </p>
<p>Other components that store other types of statistics (e.g. regarding gradient clipping) should implement <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d" title="Components that provide an implementation of StoreStats should also provide an implementation of Zero...">ZeroStats()</a> also. </p>

<p>Reimplemented in <a class="el" href="classkaldi_1_1nnet3_1_1CompositeComponent.html#abfee972431c5488d69a56fc1114c7cdc">CompositeComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1LstmNonlinearityComponent.html#abfee972431c5488d69a56fc1114c7cdc">LstmNonlinearityComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1PermuteComponent.html#ab162a2631e5335091d1f2bba1571e54d">PermuteComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ClipGradientComponent.html#abfee972431c5488d69a56fc1114c7cdc">ClipGradientComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1NonlinearComponent.html#abfee972431c5488d69a56fc1114c7cdc">NonlinearComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BackpropTruncationComponent.html#abfee972431c5488d69a56fc1114c7cdc">BackpropTruncationComponent</a>, <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html#abfee972431c5488d69a56fc1114c7cdc">BatchNormComponent</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1RestrictedAttentionComponent.html#abfee972431c5488d69a56fc1114c7cdc">RestrictedAttentionComponent</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-component-itf_8h_source.html#l00195">195</a> of file <a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-normalize-component_8h_source.html#l00209">BatchNormComponent::Copy()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00477">BackpropTruncationComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l01332">ClipGradientComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02254">LstmNonlinearityComponent::Properties()</a>, <a class="el" href="nnet-simple-component_8h_source.html#l02506">CompositeComponent::Type()</a>, <a class="el" href="nnet-utils_8cc_source.html#l00269">kaldi::nnet3::ZeroComponentStats()</a>, and <a class="el" href="nnet-simple-component_8cc_source.html#l05164">CompositeComponent::ZeroStats()</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nnet3/<a class="el" href="nnet-component-itf_8h_source.html">nnet-component-itf.h</a></li>
<li>nnet3/<a class="el" href="nnet-component-itf_8cc_source.html">nnet-component-itf.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
