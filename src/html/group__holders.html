<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: &quot;Holder types&quot;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__holders.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">"Holder types"</div>  </div>
</div><!--header-->
<div class="contents">

<p>Holder types are types that are used as template arguments to the Table types (see <a class="el" href="group__table__group.html">"Table types and related functions"</a>), and which help the Table types to read and write the object of type SomeHolder::T; see <a class="el" href="io.html#io_sec_holders">Holders as helpers to Table classes</a> for more information.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1KaldiObjectHolder.html">KaldiObjectHolder&lt; KaldiType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1KaldiObjectHolder.html" title="KaldiObjectHolder works for Kaldi objects that have the &quot;standard&quot; Read and Write functions...">KaldiObjectHolder</a> works for Kaldi objects that have the "standard" Read and Write functions, and a copy constructor.  <a href="classkaldi_1_1KaldiObjectHolder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1BasicHolder.html">BasicHolder&lt; BasicType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1BasicHolder.html" title="BasicHolder is valid for float, double, bool, and integer types. ">BasicHolder</a> is valid for float, double, bool, and integer types.  <a href="classkaldi_1_1BasicHolder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1BasicVectorHolder.html">BasicVectorHolder&lt; BasicType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Holder for a vector of basic types, e.g.  <a href="classkaldi_1_1BasicVectorHolder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1BasicVectorVectorHolder.html">BasicVectorVectorHolder&lt; BasicType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1BasicVectorVectorHolder.html" title="BasicVectorVectorHolder is a Holder for a vector of vector of a basic type, e.g. ">BasicVectorVectorHolder</a> is a Holder for a vector of vector of a basic type, e.g.  <a href="classkaldi_1_1BasicVectorVectorHolder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1BasicPairVectorHolder.html">BasicPairVectorHolder&lt; BasicType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1BasicPairVectorHolder.html" title="BasicPairVectorHolder is a Holder for a vector of pairs of a basic type, e.g. ">BasicPairVectorHolder</a> is a Holder for a vector of pairs of a basic type, e.g.  <a href="classkaldi_1_1BasicPairVectorHolder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1TokenHolder.html">TokenHolder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1TokenVectorHolder.html">TokenVectorHolder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1HtkMatrixHolder.html">HtkMatrixHolder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1SphinxMatrixHolder.html">SphinxMatrixHolder&lt; kFeatDim &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class for reading/writing Sphinx format matrices.  <a href="classkaldi_1_1SphinxMatrixHolder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6fb11020715029c976c2cdc7fe73aa55"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ga6fb11020715029c976c2cdc7fe73aa55"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__holders.html#ga6fb11020715029c976c2cdc7fe73aa55">ExtractObjectRange</a> (const T &amp;input, const std::string &amp;range, T *output)</td></tr>
<tr class="memdesc:ga6fb11020715029c976c2cdc7fe73aa55"><td class="mdescLeft">&#160;</td><td class="mdescRight">This templated function exists so that we can write .scp files with 'object ranges' specified: the canonical example is a [first:last] range of rows of a matrix, or [first-row:last-row,first-column,last-column] of a matrix.  <a href="group__holders.html#ga6fb11020715029c976c2cdc7fe73aa55">More...</a><br /></td></tr>
<tr class="separator:ga6fb11020715029c976c2cdc7fe73aa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe6260596e031a8afb22338e0ac2a6ca"><td class="memTemplParams" colspan="2">template&lt;class Real &gt; </td></tr>
<tr class="memitem:gabe6260596e031a8afb22338e0ac2a6ca"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__holders.html#gabe6260596e031a8afb22338e0ac2a6ca">ExtractObjectRange</a> (const <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; Real &gt; &amp;input, const std::string &amp;range, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; Real &gt; *output)</td></tr>
<tr class="memdesc:gabe6260596e031a8afb22338e0ac2a6ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The template is specialized with a version that actually does something, for types <a class="el" href="classkaldi_1_1Matrix.html">Matrix&lt;float&gt;</a> and <a class="el" href="classkaldi_1_1Matrix.html">Matrix&lt;double&gt;</a>.  <a href="group__holders.html#gabe6260596e031a8afb22338e0ac2a6ca">More...</a><br /></td></tr>
<tr class="separator:gabe6260596e031a8afb22338e0ac2a6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b9cf4ac29cdf7884031d6184ce43d3a"><td class="memTemplParams" colspan="2">template&lt;class Real &gt; </td></tr>
<tr class="memitem:ga2b9cf4ac29cdf7884031d6184ce43d3a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__holders.html#ga2b9cf4ac29cdf7884031d6184ce43d3a">ExtractObjectRange</a> (const <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; Real &gt; &amp;input, const std::string &amp;range, <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; Real &gt; *output)</td></tr>
<tr class="memdesc:ga2b9cf4ac29cdf7884031d6184ce43d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The template is specialized types <a class="el" href="classkaldi_1_1Vector.html">Vector&lt;float&gt;</a> and <a class="el" href="classkaldi_1_1Vector.html">Vector&lt;double&gt;</a>.  <a href="group__holders.html#ga2b9cf4ac29cdf7884031d6184ce43d3a">More...</a><br /></td></tr>
<tr class="separator:ga2b9cf4ac29cdf7884031d6184ce43d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a9b3b13375e3598287d07fd550faf38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__holders.html#ga2a9b3b13375e3598287d07fd550faf38">ExtractObjectRange</a> (const <a class="el" href="classkaldi_1_1GeneralMatrix.html">GeneralMatrix</a> &amp;input, const std::string &amp;range, <a class="el" href="classkaldi_1_1GeneralMatrix.html">GeneralMatrix</a> *output)</td></tr>
<tr class="memdesc:ga2a9b3b13375e3598287d07fd550faf38"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1GeneralMatrix.html" title="This class is a wrapper that enables you to store a matrix in one of three forms: either as a Matrix&lt;...">GeneralMatrix</a> is always of type BaseFloat.  <a href="group__holders.html#ga2a9b3b13375e3598287d07fd550faf38">More...</a><br /></td></tr>
<tr class="separator:ga2a9b3b13375e3598287d07fd550faf38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab863f2db0f1c3c13bf72c2e5e1b0b47d"><td class="memTemplParams" colspan="2">template&lt;class Real &gt; </td></tr>
<tr class="memitem:gab863f2db0f1c3c13bf72c2e5e1b0b47d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__holders.html#gab863f2db0f1c3c13bf72c2e5e1b0b47d">ExtractObjectRange</a> (const <a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a> &amp;input, const std::string &amp;range, <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; Real &gt; *output)</td></tr>
<tr class="memdesc:gab863f2db0f1c3c13bf72c2e5e1b0b47d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a> is always of the type BaseFloat but it is more efficient to provide template as it uses <a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a>'s own conversion to Matrix&lt;Real&gt;  <a href="group__holders.html#gab863f2db0f1c3c13bf72c2e5e1b0b47d">More...</a><br /></td></tr>
<tr class="separator:gab863f2db0f1c3c13bf72c2e5e1b0b47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7aa30ba6807ac12297f3e57a5ca67a87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__holders.html#ga7aa30ba6807ac12297f3e57a5ca67a87">ExtractRangeSpecifier</a> (const std::string &amp;rxfilename_with_range, std::string *data_rxfilename, std::string *range)</td></tr>
<tr class="separator:ga7aa30ba6807ac12297f3e57a5ca67a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Holder types are types that are used as template arguments to the Table types (see <a class="el" href="group__table__group.html">"Table types and related functions"</a>), and which help the Table types to read and write the object of type SomeHolder::T; see <a class="el" href="io.html#io_sec_holders">Holders as helpers to Table classes</a> for more information. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2a9b3b13375e3598287d07fd550faf38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a9b3b13375e3598287d07fd550faf38">&#9670;&nbsp;</a></span>ExtractObjectRange() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ExtractObjectRange </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1GeneralMatrix.html">GeneralMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1GeneralMatrix.html">GeneralMatrix</a> *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classkaldi_1_1GeneralMatrix.html" title="This class is a wrapper that enables you to store a matrix in one of three forms: either as a Matrix&lt;...">GeneralMatrix</a> is always of type BaseFloat. </p>

<p class="definition">Definition at line <a class="el" href="kaldi-holder_8cc_source.html#l00088">88</a> of file <a class="el" href="kaldi-holder_8cc_source.html">kaldi-holder.cc</a>.</p>

<p class="reference">References <a class="el" href="sparse-matrix_8cc_source.html#l00740">GeneralMatrix::Clear()</a>, <a class="el" href="sparse-matrix_8cc_source.html#l00871">GeneralMatrix::GetCompressedMatrix()</a>, <a class="el" href="sparse-matrix_8cc_source.html#l00877">GeneralMatrix::GetFullMatrix()</a>, <a class="el" href="sparse-matrix_8cc_source.html#l00816">GeneralMatrix::GetMatrix()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="sparse-matrix_8h_source.html#l00273">kaldi::kCompressedMatrix</a>, <a class="el" href="sparse-matrix_8h_source.html#l00272">kaldi::kFullMatrix</a>, <a class="el" href="sparse-matrix_8h_source.html#l00274">kaldi::kSparseMatrix</a>, <a class="el" href="sparse-matrix_8cc_source.html#l00884">GeneralMatrix::SwapFullMatrix()</a>, and <a class="el" href="sparse-matrix_8cc_source.html#l00772">GeneralMatrix::Type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kaldi-holder_8cc_source.html#l00114">kaldi::ExtractObjectRange()</a>, <a class="el" href="kaldi-holder-inl_8h_source.html#l00106">KaldiObjectHolder&lt; KaldiType &gt;::ExtractRange()</a>, and <a class="el" href="kaldi-io_8cc_source.html#l00832">kaldi::ReadKaldiObject()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                               {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// We just inspect input&#39;s type and forward to the correct implementation</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// if available. For kSparseMatrix, we do just fairly inefficient conversion</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// to a full matrix.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  Matrix&lt;BaseFloat&gt; output_mat;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> (input.Type() == <a class="code" href="group__matrix__group.html#gga1b44c0ec7cf5c76c910fd41756787be3af872badd576ccf234e1bccf54f263863">kFullMatrix</a>) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">const</span> Matrix&lt;BaseFloat&gt; &amp;in = input.GetFullMatrix();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="namespacekaldi.html#a7ec95c085af586498649d1926e432646">ExtractObjectRange</a>(in, range, &amp;output_mat);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (input.Type() == <a class="code" href="group__matrix__group.html#gga1b44c0ec7cf5c76c910fd41756787be3a87ea862fefb9f41cf20a2de202b4a9f9">kCompressedMatrix</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">const</span> CompressedMatrix &amp;in = input.GetCompressedMatrix();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacekaldi.html#a7ec95c085af586498649d1926e432646">ExtractObjectRange</a>(in, range, &amp;output_mat);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(input.Type() == <a class="code" href="group__matrix__group.html#gga1b44c0ec7cf5c76c910fd41756787be3aef253b40b2456ff5af4ad398301f8aef">kSparseMatrix</a>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// NOTE: this is fairly inefficient, so if this happens to be bottleneck</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// it should be re-implemented more efficiently.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    Matrix&lt;BaseFloat&gt; input_mat;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    input.GetMatrix(&amp;input_mat);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="namespacekaldi.html#a7ec95c085af586498649d1926e432646">ExtractObjectRange</a>(input_mat, range, &amp;output_mat);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  output-&gt;Clear();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  output-&gt;SwapFullMatrix(&amp;output_mat);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="ttc" id="group__matrix__group_html_gga1b44c0ec7cf5c76c910fd41756787be3af872badd576ccf234e1bccf54f263863"><div class="ttname"><a href="group__matrix__group.html#gga1b44c0ec7cf5c76c910fd41756787be3af872badd576ccf234e1bccf54f263863">kaldi::kFullMatrix</a></div><div class="ttdef"><b>Definition:</b> <a href="sparse-matrix_8h_source.html#l00272">sparse-matrix.h:272</a></div></div>
<div class="ttc" id="group__matrix__group_html_gga1b44c0ec7cf5c76c910fd41756787be3aef253b40b2456ff5af4ad398301f8aef"><div class="ttname"><a href="group__matrix__group.html#gga1b44c0ec7cf5c76c910fd41756787be3aef253b40b2456ff5af4ad398301f8aef">kaldi::kSparseMatrix</a></div><div class="ttdef"><b>Definition:</b> <a href="sparse-matrix_8h_source.html#l00274">sparse-matrix.h:274</a></div></div>
<div class="ttc" id="group__matrix__group_html_gga1b44c0ec7cf5c76c910fd41756787be3a87ea862fefb9f41cf20a2de202b4a9f9"><div class="ttname"><a href="group__matrix__group.html#gga1b44c0ec7cf5c76c910fd41756787be3a87ea862fefb9f41cf20a2de202b4a9f9">kaldi::kCompressedMatrix</a></div><div class="ttdef"><b>Definition:</b> <a href="sparse-matrix_8h_source.html#l00273">sparse-matrix.h:273</a></div></div>
<div class="ttc" id="namespacekaldi_html_a7ec95c085af586498649d1926e432646"><div class="ttname"><a href="namespacekaldi.html#a7ec95c085af586498649d1926e432646">kaldi::ExtractObjectRange</a></div><div class="ttdeci">template bool ExtractObjectRange(const Vector&lt; float &gt; &amp;, const std::string &amp;, Vector&lt; float &gt; *)</div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gab863f2db0f1c3c13bf72c2e5e1b0b47d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab863f2db0f1c3c13bf72c2e5e1b0b47d">&#9670;&nbsp;</a></span>ExtractObjectRange() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ExtractObjectRange </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a> is always of the type BaseFloat but it is more efficient to provide template as it uses <a class="el" href="classkaldi_1_1CompressedMatrix.html">CompressedMatrix</a>'s own conversion to Matrix&lt;Real&gt; </p>

<p class="definition">Definition at line <a class="el" href="kaldi-holder_8cc_source.html#l00114">114</a> of file <a class="el" href="kaldi-holder_8cc_source.html">kaldi-holder.cc</a>.</p>

<p class="reference">References <a class="el" href="compressed-matrix_8cc_source.html#l00614">CompressedMatrix::CopyToMat()</a>, <a class="el" href="kaldi-holder_8cc_source.html#l00088">kaldi::ExtractObjectRange()</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="matrix-common_8h_source.html#l00039">kaldi::kUndefined</a>, <a class="el" href="compressed-matrix_8h_source.html#l00150">CompressedMatrix::NumCols()</a>, <a class="el" href="compressed-matrix_8h_source.html#l00146">CompressedMatrix::NumRows()</a>, <a class="el" href="kaldi-holder_8cc_source.html#l00033">kaldi::ParseMatrixRangeSpecifier()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                              {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  std::vector&lt;int32&gt; row_range, col_range;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacekaldi.html#a840e8a7469a206d9fb4cf689b14d1f1d">ParseMatrixRangeSpecifier</a>(range, input.NumRows(), input.NumCols(),</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                 &amp;row_range, &amp;col_range)) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Could not parse range specifier \&quot;&quot;</span> &lt;&lt; range &lt;&lt; <span class="stringliteral">&quot;\&quot;.&quot;</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  int32 row_size = std::min(row_range[1], input.NumRows() - 1)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                   - row_range[0] + 1,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        col_size = col_range[1] - col_range[0] + 1;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  output-&gt;Resize(row_size, col_size, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  input.CopyToMat(row_range[0], col_range[0], output);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00039">matrix-common.h:39</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="namespacekaldi_html_a840e8a7469a206d9fb4cf689b14d1f1d"><div class="ttname"><a href="namespacekaldi.html#a840e8a7469a206d9fb4cf689b14d1f1d">kaldi::ParseMatrixRangeSpecifier</a></div><div class="ttdeci">bool ParseMatrixRangeSpecifier(const std::string &amp;range, const int rows, const int cols, std::vector&lt; int32 &gt; *row_range, std::vector&lt; int32 &gt; *col_range)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-holder_8cc_source.html#l00033">kaldi-holder.cc:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gabe6260596e031a8afb22338e0ac2a6ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe6260596e031a8afb22338e0ac2a6ca">&#9670;&nbsp;</a></span>ExtractObjectRange() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ExtractObjectRange </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Matrix.html">Matrix</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The template is specialized with a version that actually does something, for types <a class="el" href="classkaldi_1_1Matrix.html">Matrix&lt;float&gt;</a> and <a class="el" href="classkaldi_1_1Matrix.html">Matrix&lt;double&gt;</a>. </p>
<p>We can later add versions of this template for other types, such as <a class="el" href="classkaldi_1_1Vector.html" title="A class representing a vector. ">Vector</a>, which can meaningfully have ranges extracted. </p>

<p class="definition">Definition at line <a class="el" href="kaldi-holder_8cc_source.html#l00139">139</a> of file <a class="el" href="kaldi-holder_8cc_source.html">kaldi-holder.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-matrix_8cc_source.html#l00861">MatrixBase&lt; Real &gt;::CopyFromMat()</a>, <a class="el" href="kaldi-holder_8cc_source.html#l00088">kaldi::ExtractObjectRange()</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="matrix-common_8h_source.html#l00039">kaldi::kUndefined</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00064">MatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00061">MatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="kaldi-holder_8cc_source.html#l00033">kaldi::ParseMatrixRangeSpecifier()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l00199">MatrixBase&lt; Real &gt;::Range()</a>, and <a class="el" href="kaldi-matrix_8cc_source.html#l00818">Matrix&lt; Real &gt;::Resize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                              {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  std::vector&lt;int32&gt; row_range, col_range;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacekaldi.html#a840e8a7469a206d9fb4cf689b14d1f1d">ParseMatrixRangeSpecifier</a>(range, input.NumRows(), input.NumCols(),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                 &amp;row_range, &amp;col_range)) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Could not parse range specifier \&quot;&quot;</span> &lt;&lt; range &lt;&lt; <span class="stringliteral">&quot;\&quot;.&quot;</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  int32 row_size = std::min(row_range[1], input.NumRows() - 1)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                   - row_range[0] + 1,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        col_size = col_range[1] - col_range[0] + 1;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  output-&gt;Resize(row_size, col_size, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  output-&gt;CopyFromMat(input.Range(row_range[0], row_size,</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                  col_range[0], col_size));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00039">matrix-common.h:39</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="namespacekaldi_html_a840e8a7469a206d9fb4cf689b14d1f1d"><div class="ttname"><a href="namespacekaldi.html#a840e8a7469a206d9fb4cf689b14d1f1d">kaldi::ParseMatrixRangeSpecifier</a></div><div class="ttdeci">bool ParseMatrixRangeSpecifier(const std::string &amp;range, const int rows, const int cols, std::vector&lt; int32 &gt; *row_range, std::vector&lt; int32 &gt; *col_range)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-holder_8cc_source.html#l00033">kaldi-holder.cc:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2b9cf4ac29cdf7884031d6184ce43d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b9cf4ac29cdf7884031d6184ce43d3a">&#9670;&nbsp;</a></span>ExtractObjectRange() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ExtractObjectRange </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; Real &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; Real &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The template is specialized types <a class="el" href="classkaldi_1_1Vector.html">Vector&lt;float&gt;</a> and <a class="el" href="classkaldi_1_1Vector.html">Vector&lt;double&gt;</a>. </p>

<p class="definition">Definition at line <a class="el" href="kaldi-holder_8cc_source.html#l00164">164</a> of file <a class="el" href="kaldi-holder_8cc_source.html">kaldi-holder.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-vector_8cc_source.html#l00228">VectorBase&lt; Real &gt;::CopyFromVec()</a>, <a class="el" href="kaldi-vector_8h_source.html#l00063">VectorBase&lt; Real &gt;::Dim()</a>, <a class="el" href="kaldi-holder_8cc_source.html#l00088">kaldi::ExtractObjectRange()</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="kaldi-error_8h_source.html#l00129">KALDI_WARN</a>, <a class="el" href="matrix-common_8h_source.html#l00039">kaldi::kUndefined</a>, <a class="el" href="kaldi-vector_8h_source.html#l00093">VectorBase&lt; Real &gt;::Range()</a>, <a class="el" href="kaldi-vector_8cc_source.html#l00190">Vector&lt; Real &gt;::Resize()</a>, <a class="el" href="text-utils_8h_source.html#l00068">kaldi::SplitStringToIntegers()</a>, and <a class="el" href="text-utils_8cc_source.html#l00063">kaldi::SplitStringToVector()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                              {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (range.empty()) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Empty range specifier.&quot;</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  std::vector&lt;std::string&gt; splits;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="namespacekaldi.html#ac332ce23fcf74c011cfa83276cd08477">SplitStringToVector</a>(range, <span class="stringliteral">&quot;,&quot;</span>, <span class="keyword">false</span>, &amp;splits);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (!((splits.size() == 1 &amp;&amp; !splits[0].empty()))) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Invalid range specifier for vector: &quot;</span> &lt;&lt; range;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  std::vector&lt;int32&gt; index_range;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordtype">bool</span> status = <span class="keyword">true</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">if</span> (splits[0] != <span class="stringliteral">&quot;:&quot;</span>)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    status = <a class="code" href="namespacekaldi.html#ae95740f87fc2fb79419753e21396c647">SplitStringToIntegers</a>(splits[0], <span class="stringliteral">&quot;:&quot;</span>, <span class="keyword">false</span>, &amp;index_range);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (index_range.size() == 0) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    index_range.push_back(0);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    index_range.push_back(input.Dim() - 1);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// Length tolerance of 3 -- 2 to account for edge effects when</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// frame-length is 25ms and frame-shift is 10ms, and 1 for rounding effects</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// since segments are usually retained up to 2 decimal places.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  int32 length_tolerance = 3;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (!(status &amp;&amp; index_range.size() == 2 &amp;&amp;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        index_range[0] &gt;= 0 &amp;&amp; index_range[0] &lt;= index_range[1] &amp;&amp;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        index_range[1] &lt; input.Dim() + length_tolerance)) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Invalid range specifier: &quot;</span> &lt;&lt; range</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; for vector of size &quot;</span> &lt;&lt; input.Dim();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">if</span> (index_range[1] &gt;= input.Dim())</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Range &quot;</span> &lt;&lt; index_range[0] &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; index_range[1]</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; goes beyond the vector dimension &quot;</span> &lt;&lt; input.Dim();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  int32 size = std::min(index_range[1], input.Dim() - 1) - index_range[0] + 1;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  output-&gt;Resize(size, <a class="code" href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kUndefined</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  output-&gt;CopyFromVec(input.Range(index_range[0], size));</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126"><div class="ttname"><a href="namespacekaldi.html#ab4ace1fea44c7724ab9a76d70abad80baf2cd3231820315500697550960956126">kaldi::kUndefined</a></div><div class="ttdef"><b>Definition:</b> <a href="matrix-common_8h_source.html#l00039">matrix-common.h:39</a></div></div>
<div class="ttc" id="namespacekaldi_html_ae95740f87fc2fb79419753e21396c647"><div class="ttname"><a href="namespacekaldi.html#ae95740f87fc2fb79419753e21396c647">kaldi::SplitStringToIntegers</a></div><div class="ttdeci">bool SplitStringToIntegers(const std::string &amp;full, const char *delim, bool omit_empty_strings, std::vector&lt; I &gt; *out)</div><div class="ttdoc">Split a string (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="text-utils_8h_source.html#l00068">text-utils.h:68</a></div></div>
<div class="ttc" id="namespacekaldi_html_ac332ce23fcf74c011cfa83276cd08477"><div class="ttname"><a href="namespacekaldi.html#ac332ce23fcf74c011cfa83276cd08477">kaldi::SplitStringToVector</a></div><div class="ttdeci">void SplitStringToVector(const std::string &amp;full, const char *delim, bool omit_empty_strings, std::vector&lt; std::string &gt; *out)</div><div class="ttdoc">Split a string using any of the single character delimiters. </div><div class="ttdef"><b>Definition:</b> <a href="text-utils_8cc_source.html#l00063">text-utils.cc:63</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="group__error__group_html_ga994be213ddf127b5d6f20a43a02b513a"><div class="ttname"><a href="group__error__group.html#ga994be213ddf127b5d6f20a43a02b513a">KALDI_WARN</a></div><div class="ttdeci">#define KALDI_WARN</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00129">kaldi-error.h:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6fb11020715029c976c2cdc7fe73aa55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fb11020715029c976c2cdc7fe73aa55">&#9670;&nbsp;</a></span>ExtractObjectRange() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> kaldi::ExtractObjectRange </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This templated function exists so that we can write .scp files with 'object ranges' specified: the canonical example is a [first:last] range of rows of a matrix, or [first-row:last-row,first-column,last-column] of a matrix. </p>
<p>We can also support [begin-time:end-time] of a wave file. The string 'range' is whatever is in the square brackets; it is parsed inside this function. This function returns true if the partial object was successfully extracted, and false if there was an error such as an invalid range. The generic version of this function just fails; we overload the template whenever we need it for a specific class. </p>

<p class="definition">Definition at line <a class="el" href="kaldi-holder_8h_source.html#l00233">233</a> of file <a class="el" href="kaldi-holder_8h_source.html">kaldi-holder.h</a>.</p>

<p class="reference">References <a class="el" href="kaldi-holder_8cc_source.html#l00088">kaldi::ExtractObjectRange()</a>, <a class="el" href="kaldi-holder_8cc_source.html#l00213">kaldi::ExtractRangeSpecifier()</a>, and <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                                           {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Ranges not supported for objects of this type.&quot;</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7aa30ba6807ac12297f3e57a5ca67a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7aa30ba6807ac12297f3e57a5ca67a87">&#9670;&nbsp;</a></span>ExtractRangeSpecifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> ExtractRangeSpecifier </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rxfilename_with_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>data_rxfilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kaldi-holder_8cc_source.html#l00213">213</a> of file <a class="el" href="kaldi-holder_8cc_source.html">kaldi-holder.cc</a>.</p>

<p class="reference">References <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, and <a class="el" href="text-utils_8cc_source.html#l00063">kaldi::SplitStringToVector()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kaldi-holder_8h_source.html#l00233">kaldi::ExtractObjectRange()</a>, <a class="el" href="kaldi-table-inl_8h_source.html#l01703">RandomAccessTableReaderScriptImpl&lt; Holder &gt;::HasKeyInternal()</a>, <a class="el" href="kaldi-table-inl_8h_source.html#l00361">SequentialTableReaderScriptImpl&lt; Holder &gt;::NextScpLine()</a>, and <a class="el" href="kaldi-io_8cc_source.html#l00832">kaldi::ReadKaldiObject()</a>.</p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                             {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">if</span> (rxfilename_with_range.empty() ||</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      rxfilename_with_range[rxfilename_with_range.size()-1] != <span class="charliteral">&#39;]&#39;</span>)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;ExtractRangeRspecifier called wrongly.&quot;</span>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  std::vector&lt;std::string&gt; splits;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="namespacekaldi.html#ac332ce23fcf74c011cfa83276cd08477">SplitStringToVector</a>(rxfilename_with_range, <span class="stringliteral">&quot;[&quot;</span>, <span class="keyword">false</span>, &amp;splits);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (splits.size() == 2 &amp;&amp; !splits[0].empty() &amp;&amp; splits[1].size() &gt; 1) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    *data_rxfilename = splits[0];</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    range-&gt;assign(splits[1], 0, splits[1].size()-1);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_ac332ce23fcf74c011cfa83276cd08477"><div class="ttname"><a href="namespacekaldi.html#ac332ce23fcf74c011cfa83276cd08477">kaldi::SplitStringToVector</a></div><div class="ttdeci">void SplitStringToVector(const std::string &amp;full, const char *delim, bool omit_empty_strings, std::vector&lt; std::string &gt; *out)</div><div class="ttdoc">Split a string using any of the single character delimiters. </div><div class="ttdef"><b>Definition:</b> <a href="text-utils_8cc_source.html#l00063">text-utils.cc:63</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
