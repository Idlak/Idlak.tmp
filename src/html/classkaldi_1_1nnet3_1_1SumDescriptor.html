<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: SumDescriptor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1nnet3_1_1SumDescriptor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classkaldi_1_1nnet3_1_1SumDescriptor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SumDescriptor Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>This is an abstract base-class.  
 <a href="classkaldi_1_1nnet3_1_1SumDescriptor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nnet-descriptor_8h_source.html">nnet-descriptor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SumDescriptor:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1SumDescriptor__inherit__graph.png" border="0" usemap="#SumDescriptor_inherit__map" alt="Inheritance graph"/></div>
<map name="SumDescriptor_inherit__map" id="SumDescriptor_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af515ab4772bafd2cfba413e0158f4abe"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#af515ab4772bafd2cfba413e0158f4abe">GetDependencies</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;ind, std::vector&lt; <a class="el" href="namespacekaldi_1_1nnet3.html#ac8344e7587df9247d6cc492874901d4d">Cindex</a> &gt; *dependencies) const =0</td></tr>
<tr class="memdesc:af515ab4772bafd2cfba413e0158f4abe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an <a class="el" href="structkaldi_1_1nnet3_1_1Index.html" title="struct Index is intended to represent the various indexes by which we number the rows of the matrices...">Index</a> at the output of this <a class="el" href="classkaldi_1_1nnet3_1_1Descriptor.html">Descriptor</a>, append to "dependencies" a list of Cindexes that describes what inputs we potentially depend on.  <a href="#af515ab4772bafd2cfba413e0158f4abe">More...</a><br /></td></tr>
<tr class="separator:af515ab4772bafd2cfba413e0158f4abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef13aa43e8fb467383121c9d7b71ff1a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#aef13aa43e8fb467383121c9d7b71ff1a">IsComputable</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;ind, const <a class="el" href="classkaldi_1_1nnet3_1_1CindexSet.html">CindexSet</a> &amp;cindex_set, std::vector&lt; <a class="el" href="namespacekaldi_1_1nnet3.html#ac8344e7587df9247d6cc492874901d4d">Cindex</a> &gt; *used_inputs) const =0</td></tr>
<tr class="memdesc:aef13aa43e8fb467383121c9d7b71ff1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function exists to enable us to manage optional dependencies, i.e.  <a href="#aef13aa43e8fb467383121c9d7b71ff1a">More...</a><br /></td></tr>
<tr class="separator:aef13aa43e8fb467383121c9d7b71ff1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad72c8ef42033a0bd1f26157087e5f6"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a2ad72c8ef42033a0bd1f26157087e5f6">Dim</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a> &amp;nnet) const =0</td></tr>
<tr class="separator:a2ad72c8ef42033a0bd1f26157087e5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892a038655f5f17b93acd2f0b679e1ca"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html">SumDescriptor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a892a038655f5f17b93acd2f0b679e1ca">Copy</a> () const =0</td></tr>
<tr class="separator:a892a038655f5f17b93acd2f0b679e1ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680379d25dee7744ed91f87f25c01a9b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a680379d25dee7744ed91f87f25c01a9b">~SumDescriptor</a> ()</td></tr>
<tr class="separator:a680379d25dee7744ed91f87f25c01a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf5d3d73821575665c7b6f031af7d10"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a2bf5d3d73821575665c7b6f031af7d10">GetNodeDependencies</a> (std::vector&lt; int32 &gt; *node_indexes) const =0</td></tr>
<tr class="memdesc:a2bf5d3d73821575665c7b6f031af7d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function appends to "node_indexes" a list (not necessarily sorted or unique) of all the node indexes that this descriptor may forward data from.  <a href="#a2bf5d3d73821575665c7b6f031af7d10">More...</a><br /></td></tr>
<tr class="separator:a2bf5d3d73821575665c7b6f031af7d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0337b219e3aecb3a60c8261820ace1c2"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a0337b219e3aecb3a60c8261820ace1c2">GetScaleForNode</a> (int32 node_index) const =0</td></tr>
<tr class="memdesc:a0337b219e3aecb3a60c8261820ace1c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the scale on the node-index 'node_index' when it appears in expressions inside this descriptor.  <a href="#a0337b219e3aecb3a60c8261820ace1c2">More...</a><br /></td></tr>
<tr class="separator:a0337b219e3aecb3a60c8261820ace1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444819089532569c4d9a83c170e0e0b9"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a444819089532569c4d9a83c170e0e0b9">Modulus</a> () const =0</td></tr>
<tr class="separator:a444819089532569c4d9a83c170e0e0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c2ae9df858ce45f4bdac73efe32a4e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html#a04c2ae9df858ce45f4bdac73efe32a4e">WriteConfig</a> (std::ostream &amp;os, const std::vector&lt; std::string &gt; &amp;node_names) const =0</td></tr>
<tr class="memdesc:a04c2ae9df858ce45f4bdac73efe32a4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write in config-file format.  <a href="#a04c2ae9df858ce45f4bdac73efe32a4e">More...</a><br /></td></tr>
<tr class="separator:a04c2ae9df858ce45f4bdac73efe32a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is an abstract base-class. </p>
<p>In the normal case a <a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html" title="This is an abstract base-class. ">SumDescriptor</a> is a sum over one or more ForwardingDescriptors (all of which must be of the same dimension). However, it also allows for logic for dealing with cases where only some terms in the sum are present, and only some are included in the sum: for example, not just expressions like A + B but also A + (B if present), or (A if present; if not, B). It also handles expressions involving adding a constant, e.g. `Sum(Scale(tdnn2, -1.0), Const(1.0, 512))` (see <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html" title="This is an alternative base-case of SumDescriptor (an alternative to SimpleSumDescriptor) which repre...">ConstantSumDescriptor</a>). </p>

<p class="definition">Definition at line <a class="el" href="nnet-descriptor_8h_source.html#l00315">315</a> of file <a class="el" href="nnet-descriptor_8h_source.html">nnet-descriptor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a680379d25dee7744ed91f87f25c01a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a680379d25dee7744ed91f87f25c01a9b">&#9670;&nbsp;</a></span>~SumDescriptor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html">SumDescriptor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-descriptor_8h_source.html#l00351">351</a> of file <a class="el" href="nnet-descriptor_8h_source.html">nnet-descriptor.h</a>.</p>

<p class="reference">References <a class="el" href="classkaldi_1_1nnet3_1_1ForwardingDescriptor.html#a2bf5d3d73821575665c7b6f031af7d10">ForwardingDescriptor::GetNodeDependencies()</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ForwardingDescriptor.html#a0337b219e3aecb3a60c8261820ace1c2">ForwardingDescriptor::GetScaleForNode()</a>, <a class="el" href="nnet-descriptor_8h_source.html#l00113">ForwardingDescriptor::Modulus()</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1ForwardingDescriptor.html#a04c2ae9df858ce45f4bdac73efe32a4e">ForwardingDescriptor::WriteConfig()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a892a038655f5f17b93acd2f0b679e1ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a892a038655f5f17b93acd2f0b679e1ca">&#9670;&nbsp;</a></span>Copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html">SumDescriptor</a>* Copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#a206ed9494587113ce0fd237532717c9f">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#a206ed9494587113ce0fd237532717c9f">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#a206ed9494587113ce0fd237532717c9f">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#a206ed9494587113ce0fd237532717c9f">OptionalSumDescriptor</a>.</p>

</div>
</div>
<a id="a2ad72c8ef42033a0bd1f26157087e5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad72c8ef42033a0bd1f26157087e5f6">&#9670;&nbsp;</a></span>Dim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 Dim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html">Nnet</a> &amp;&#160;</td>
          <td class="paramname"><em>nnet</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#a5f04a8161c2da905a75f05db1b6dc809">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#a51be6706e57c74cb53abccfc4305d427">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#a5f04a8161c2da905a75f05db1b6dc809">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#a5f04a8161c2da905a75f05db1b6dc809">OptionalSumDescriptor</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-compile_8cc_source.html#l00279">Compiler::CreateStepInfo()</a>.</p>

</div>
</div>
<a id="af515ab4772bafd2cfba413e0158f4abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af515ab4772bafd2cfba413e0158f4abe">&#9670;&nbsp;</a></span>GetDependencies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GetDependencies </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacekaldi_1_1nnet3.html#ac8344e7587df9247d6cc492874901d4d">Cindex</a> &gt; *&#160;</td>
          <td class="paramname"><em>dependencies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given an <a class="el" href="structkaldi_1_1nnet3_1_1Index.html" title="struct Index is intended to represent the various indexes by which we number the rows of the matrices...">Index</a> at the output of this <a class="el" href="classkaldi_1_1nnet3_1_1Descriptor.html">Descriptor</a>, append to "dependencies" a list of Cindexes that describes what inputs we potentially depend on. </p>
<p>The output list is not necessarily sorted, and this function doesn't make sure that it's unique. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#ad4068ea7c085e4c26371b801d377d860">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#a45e72ccbdae7e4374e44055a819d34d1">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#ad4068ea7c085e4c26371b801d377d860">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#ad4068ea7c085e4c26371b801d377d860">OptionalSumDescriptor</a>.</p>

</div>
</div>
<a id="a2bf5d3d73821575665c7b6f031af7d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf5d3d73821575665c7b6f031af7d10">&#9670;&nbsp;</a></span>GetNodeDependencies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GetNodeDependencies </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int32 &gt; *&#160;</td>
          <td class="paramname"><em>node_indexes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function appends to "node_indexes" a list (not necessarily sorted or unique) of all the node indexes that this descriptor may forward data from. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#a04202ccc87bc70dbd97d125d78c4f0f9">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#ab2c8a8a0983ee644e6fd734c5ee4cfb3">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#a04202ccc87bc70dbd97d125d78c4f0f9">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#a04202ccc87bc70dbd97d125d78c4f0f9">OptionalSumDescriptor</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-compile_8cc_source.html#l00557">Compiler::SplitByScale()</a>.</p>

</div>
</div>
<a id="a0337b219e3aecb3a60c8261820ace1c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0337b219e3aecb3a60c8261820ace1c2">&#9670;&nbsp;</a></span>GetScaleForNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> GetScaleForNode </td>
          <td>(</td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>node_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns the scale on the node-index 'node_index' when it appears in expressions inside this descriptor. </p>
<p>E.g. if the descriptor is just `Scale(tdnn2, 2.0)` and the node index for `tdnn2` is 4, then GetScaleForNode(4) would return 2.0. It will return +infinity if the node is &gt;= 0 and does not appear in this descriptor. If node_index &lt; 0, it returns the constant offset value from this descriptor, which will equal 0.0 if there is no expression like `Const(1.0, 512)` in this node. If a particular node_index &gt; 0 appears in different sub-expressions of the descriptor with different scales it is an error (it's not supported) and this function would crash. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#a7172aada69e59075cb260c2ca28a16b1">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#a7172aada69e59075cb260c2ca28a16b1">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#a7172aada69e59075cb260c2ca28a16b1">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#a7172aada69e59075cb260c2ca28a16b1">OptionalSumDescriptor</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-compile_8cc_source.html#l00676">Compiler::CompileForwardSumDescriptor()</a>, and <a class="el" href="nnet-compile_8cc_source.html#l00557">Compiler::SplitByScale()</a>.</p>

</div>
</div>
<a id="aef13aa43e8fb467383121c9d7b71ff1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef13aa43e8fb467383121c9d7b71ff1a">&#9670;&nbsp;</a></span>IsComputable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classbool.html">bool</a> IsComputable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1CindexSet.html">CindexSet</a> &amp;&#160;</td>
          <td class="paramname"><em>cindex_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacekaldi_1_1nnet3.html#ac8344e7587df9247d6cc492874901d4d">Cindex</a> &gt; *&#160;</td>
          <td class="paramname"><em>used_inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function exists to enable us to manage optional dependencies, i.e. </p>
<p>for making sense of expressions like (A + (B is present)) and (A if present; if not, B). Suppose we are trying to compute the index "ind", and the user represents that "cindex_set" is the set of Cindexes are available to the computation; then this function will return true if we can compute the expression given these inputs; and if so, will output to "used_inputs" the list of Cindexes that this expression will be a summation over.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ind</td><td>The index that we want to compute at the output of the <a class="el" href="classkaldi_1_1nnet3_1_1Descriptor.html">Descriptor</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex_set</td><td>The set of Cindexes that are available at the input of the <a class="el" href="classkaldi_1_1nnet3_1_1Descriptor.html">Descriptor</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">used_inputs</td><td>If non-NULL, if this function returns true then to this vector will be *appended* the inputs that will actually participate in the computation. Else (if non-NULL) it will be left unchanged. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if this output is computable given the provided inputs. </dd></dl>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#a69d01ab492a91282f4542f6304880e02">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#aa8e68b46a5c9eca305ed530ca5228c93">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#a69d01ab492a91282f4542f6304880e02">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#aa8e68b46a5c9eca305ed530ca5228c93">OptionalSumDescriptor</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-compile_8cc_source.html#l00457">Compiler::ComputeInputLocationsList()</a>.</p>

</div>
</div>
<a id="a444819089532569c4d9a83c170e0e0b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444819089532569c4d9a83c170e0e0b9">&#9670;&nbsp;</a></span>Modulus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 Modulus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#a41247c9457a39facaae5f10071a53240">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#a1f3497926e98f1b9de0cd5654aae2f45">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#a1f3497926e98f1b9de0cd5654aae2f45">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#a1f3497926e98f1b9de0cd5654aae2f45">OptionalSumDescriptor</a>.</p>

</div>
</div>
<a id="a04c2ae9df858ce45f4bdac73efe32a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c2ae9df858ce45f4bdac73efe32a4e">&#9670;&nbsp;</a></span>WriteConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void WriteConfig </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write in config-file format. </p>
<p>Conventional Read and Write methods are not supported. </p>

<p>Implemented in <a class="el" href="classkaldi_1_1nnet3_1_1BinarySumDescriptor.html#afd8f0ed4a3e5aaa8e43742b054b71bf2">BinarySumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1ConstantSumDescriptor.html#afd8f0ed4a3e5aaa8e43742b054b71bf2">ConstantSumDescriptor</a>, <a class="el" href="classkaldi_1_1nnet3_1_1SimpleSumDescriptor.html#afd8f0ed4a3e5aaa8e43742b054b71bf2">SimpleSumDescriptor</a>, and <a class="el" href="classkaldi_1_1nnet3_1_1OptionalSumDescriptor.html#afd8f0ed4a3e5aaa8e43742b054b71bf2">OptionalSumDescriptor</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>nnet3/<a class="el" href="nnet-descriptor_8h_source.html">nnet-descriptor.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="classkaldi_1_1nnet3_1_1SumDescriptor.html">SumDescriptor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
