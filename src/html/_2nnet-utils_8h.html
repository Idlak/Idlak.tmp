<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: nnet3/nnet-utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_2nnet-utils_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nnet-utils.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains some miscellaneous functions dealing with class Nnet.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="kaldi-common_8h_source.html">base/kaldi-common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kaldi-io_8h_source.html">util/kaldi-io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="matrix-lib_8h_source.html">matrix/matrix-lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nnet-common_8h_source.html">nnet3/nnet-common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nnet-component-itf_8h_source.html">nnet3/nnet-component-itf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nnet-descriptor_8h_source.html">nnet3/nnet-descriptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nnet-computation_8h_source.html">nnet3/nnet-computation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nnet3_2nnet-example_8h_source.html">nnet3/nnet-example.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for nnet-utils.h:</div>
<div class="dyncontent">
<div class="center"><img src="_2nnet-utils_8h__incl.png" border="0" usemap="#nnet3_2nnet-utils_8h" alt=""/></div>
<map name="nnet3_2nnet-utils_8h" id="nnet3_2nnet-utils_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_2nnet-utils_8h__dep__incl.png" border="0" usemap="#nnet3_2nnet-utils_8hdep" alt=""/></div>
<map name="nnet3_2nnet-utils_8hdep" id="nnet3_2nnet-utils_8hdep">
</map>
</div>
</div>
<p><a href="_2nnet-utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1CollapseModelConfig.html">CollapseModelConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config class for the CollapseModel function.  <a href="structkaldi_1_1nnet3_1_1CollapseModelConfig.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacekaldi"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi.html">kaldi</a></td></tr>
<tr class="memdesc:namespacekaldi"><td class="mdescLeft">&#160;</td><td class="mdescRight">Relabels neural network egs with the read pdf-id alignments. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacekaldi_1_1nnet3"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html">kaldi::nnet3</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5683058729bb42a5e8462f9912484050"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a5683058729bb42a5e8462f9912484050">EvaluateComputationRequest</a> (const Nnet &amp;nnet, const ComputationRequest &amp;request, std::vector&lt; std::vector&lt; <a class="el" href="classbool.html">bool</a> &gt; &gt; *is_computable)</td></tr>
<tr class="memdesc:a5683058729bb42a5e8462f9912484050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an nnet and a computation request, this function works out which requested outputs in the computation request are computable; it outputs this information as a vector "is_computable" indexed by the same indexes as request.outputs.  <a href="namespacekaldi_1_1nnet3.html#a5683058729bb42a5e8462f9912484050">More...</a><br /></td></tr>
<tr class="separator:a5683058729bb42a5e8462f9912484050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c3bad5386ea02d61e9596ba76b77eb"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ab0c3bad5386ea02d61e9596ba76b77eb">NumOutputNodes</a> (const Nnet &amp;nnet)</td></tr>
<tr class="memdesc:ab0c3bad5386ea02d61e9596ba76b77eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the number of output nodes of this nnet.  <a href="namespacekaldi_1_1nnet3.html#ab0c3bad5386ea02d61e9596ba76b77eb">More...</a><br /></td></tr>
<tr class="separator:ab0c3bad5386ea02d61e9596ba76b77eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce1aea23a558c0461ff1ab72f41ebb6"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a2ce1aea23a558c0461ff1ab72f41ebb6">NumInputNodes</a> (const Nnet &amp;nnet)</td></tr>
<tr class="memdesc:a2ce1aea23a558c0461ff1ab72f41ebb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the number of input nodes of this nnet.  <a href="namespacekaldi_1_1nnet3.html#a2ce1aea23a558c0461ff1ab72f41ebb6">More...</a><br /></td></tr>
<tr class="separator:a2ce1aea23a558c0461ff1ab72f41ebb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca498bb15fc664236fdd7316a1b8831"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a2ca498bb15fc664236fdd7316a1b8831">PerturbParams</a> (BaseFloat stddev, Nnet *nnet)</td></tr>
<tr class="memdesc:a2ca498bb15fc664236fdd7316a1b8831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls PerturbParams (with the given stddev) on all updatable components of the nnet.  <a href="namespacekaldi_1_1nnet3.html#a2ca498bb15fc664236fdd7316a1b8831">More...</a><br /></td></tr>
<tr class="separator:a2ca498bb15fc664236fdd7316a1b8831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc8f245e845514d33d24ecf1a054406"><td class="memItemLeft" align="right" valign="top">BaseFloat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a4dc8f245e845514d33d24ecf1a054406">DotProduct</a> (const Nnet &amp;nnet1, const Nnet &amp;nnet2)</td></tr>
<tr class="memdesc:a4dc8f245e845514d33d24ecf1a054406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns dot product between two networks of the same structure (calls the DotProduct functions of the Updatable components and sums up the return values).  <a href="namespacekaldi_1_1nnet3.html#a4dc8f245e845514d33d24ecf1a054406">More...</a><br /></td></tr>
<tr class="separator:a4dc8f245e845514d33d24ecf1a054406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa155fe7eed7775fce35d644ca845dd9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aa155fe7eed7775fce35d644ca845dd9d">ComponentDotProducts</a> (const Nnet &amp;nnet1, const Nnet &amp;nnet2, VectorBase&lt; BaseFloat &gt; *dot_prod)</td></tr>
<tr class="memdesc:aa155fe7eed7775fce35d644ca845dd9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns dot products between two networks of the same structure (calls the DotProduct functions of the Updatable components and fill in the output vector).  <a href="namespacekaldi_1_1nnet3.html#aa155fe7eed7775fce35d644ca845dd9d">More...</a><br /></td></tr>
<tr class="separator:aa155fe7eed7775fce35d644ca845dd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cbf9817f25ef1302ede1ed03897394a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a6cbf9817f25ef1302ede1ed03897394a">PrintVectorPerUpdatableComponent</a> (const Nnet &amp;nnet, const VectorBase&lt; BaseFloat &gt; &amp;vec)</td></tr>
<tr class="memdesc:a6cbf9817f25ef1302ede1ed03897394a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for printing, to a string, a vector with one element per updatable component of the nnet (e.g.  <a href="namespacekaldi_1_1nnet3.html#a6cbf9817f25ef1302ede1ed03897394a">More...</a><br /></td></tr>
<tr class="separator:a6cbf9817f25ef1302ede1ed03897394a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672e127a288d02b4a8e292b86aadfc04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a672e127a288d02b4a8e292b86aadfc04">IsSimpleNnet</a> (const Nnet &amp;nnet)</td></tr>
<tr class="memdesc:a672e127a288d02b4a8e292b86aadfc04"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns true if the nnet has the following properties: It has an output called "output" (other outputs are allowed but may be ignored).  <a href="namespacekaldi_1_1nnet3.html#a672e127a288d02b4a8e292b86aadfc04">More...</a><br /></td></tr>
<tr class="separator:a672e127a288d02b4a8e292b86aadfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9d819d3ed85b506db090905d4c1cea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aca9d819d3ed85b506db090905d4c1cea">ZeroComponentStats</a> (Nnet *nnet)</td></tr>
<tr class="memdesc:aca9d819d3ed85b506db090905d4c1cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeroes the component stats in all nonlinear components in the nnet.  <a href="namespacekaldi_1_1nnet3.html#aca9d819d3ed85b506db090905d4c1cea">More...</a><br /></td></tr>
<tr class="separator:aca9d819d3ed85b506db090905d4c1cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88aa85d232ba1ad6e430f6f6dcda29c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a88aa85d232ba1ad6e430f6f6dcda29c1">ComputeSimpleNnetContext</a> (const Nnet &amp;nnet, int32 *left_context, int32 *right_context)</td></tr>
<tr class="memdesc:a88aa85d232ba1ad6e430f6f6dcda29c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">ComputeSimpleNnetContext computes the left-context and right-context of a nnet.  <a href="namespacekaldi_1_1nnet3.html#a88aa85d232ba1ad6e430f6f6dcda29c1">More...</a><br /></td></tr>
<tr class="separator:a88aa85d232ba1ad6e430f6f6dcda29c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3936ad79463d7cfd23ba1efd54f56084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a3936ad79463d7cfd23ba1efd54f56084">SetLearningRate</a> (BaseFloat learning_rate, Nnet *nnet)</td></tr>
<tr class="memdesc:a3936ad79463d7cfd23ba1efd54f56084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the underlying learning rate for all the components in the nnet to this value.  <a href="namespacekaldi_1_1nnet3.html#a3936ad79463d7cfd23ba1efd54f56084">More...</a><br /></td></tr>
<tr class="separator:a3936ad79463d7cfd23ba1efd54f56084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b3a3e7be6ebc2a2af34bdb347ec76a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a62b3a3e7be6ebc2a2af34bdb347ec76a">ScaleNnet</a> (BaseFloat scale, Nnet *nnet)</td></tr>
<tr class="memdesc:a62b3a3e7be6ebc2a2af34bdb347ec76a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scales the nnet parameters and stats by this scale.  <a href="namespacekaldi_1_1nnet3.html#a62b3a3e7be6ebc2a2af34bdb347ec76a">More...</a><br /></td></tr>
<tr class="separator:a62b3a3e7be6ebc2a2af34bdb347ec76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c7a956c7fc10e9e5d67f351498c243"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ab5c7a956c7fc10e9e5d67f351498c243">SetNnetAsGradient</a> (Nnet *nnet)</td></tr>
<tr class="memdesc:ab5c7a956c7fc10e9e5d67f351498c243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets nnet as gradient by Setting is_gradient_ to true and learning_rate_ to 1 for each <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> in nnet.  <a href="namespacekaldi_1_1nnet3.html#ab5c7a956c7fc10e9e5d67f351498c243">More...</a><br /></td></tr>
<tr class="separator:ab5c7a956c7fc10e9e5d67f351498c243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9680bf4ad4dd4fd305f913ff398c14e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ac9680bf4ad4dd4fd305f913ff398c14e">AddNnet</a> (const Nnet &amp;src, BaseFloat alpha, Nnet *dest)</td></tr>
<tr class="memdesc:ac9680bf4ad4dd4fd305f913ff398c14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does *dest += alpha * src (affects nnet parameters and stored stats).  <a href="namespacekaldi_1_1nnet3.html#ac9680bf4ad4dd4fd305f913ff398c14e">More...</a><br /></td></tr>
<tr class="separator:ac9680bf4ad4dd4fd305f913ff398c14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24a2545a15f4ffa0e76652742767aac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ad24a2545a15f4ffa0e76652742767aac">AddNnetComponents</a> (const Nnet &amp;src, const Vector&lt; BaseFloat &gt; &amp;alphas, BaseFloat scale, Nnet *dest)</td></tr>
<tr class="memdesc:ad24a2545a15f4ffa0e76652742767aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does *dest += alpha * src for updatable components (affects nnet parameters), and *dest += scale * src for other components (affects stored stats).  <a href="namespacekaldi_1_1nnet3.html#ad24a2545a15f4ffa0e76652742767aac">More...</a><br /></td></tr>
<tr class="separator:ad24a2545a15f4ffa0e76652742767aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cda4da2254dd2dfe1800e4dfeebec38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a4cda4da2254dd2dfe1800e4dfeebec38">NnetIsRecurrent</a> (const Nnet &amp;nnet)</td></tr>
<tr class="memdesc:a4cda4da2254dd2dfe1800e4dfeebec38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if 'nnet' has some kind of recurrency.  <a href="namespacekaldi_1_1nnet3.html#a4cda4da2254dd2dfe1800e4dfeebec38">More...</a><br /></td></tr>
<tr class="separator:a4cda4da2254dd2dfe1800e4dfeebec38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96164bd20d5a66c3c0ca62e30250d46a"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a96164bd20d5a66c3c0ca62e30250d46a">NumParameters</a> (const Nnet &amp;src)</td></tr>
<tr class="memdesc:a96164bd20d5a66c3c0ca62e30250d46a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total of the number of parameters in the updatable components of the nnet.  <a href="namespacekaldi_1_1nnet3.html#a96164bd20d5a66c3c0ca62e30250d46a">More...</a><br /></td></tr>
<tr class="separator:a96164bd20d5a66c3c0ca62e30250d46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b9bd865f19f604b00235336168c3ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ad9b9bd865f19f604b00235336168c3ee">VectorizeNnet</a> (const Nnet &amp;src, VectorBase&lt; BaseFloat &gt; *params)</td></tr>
<tr class="memdesc:ad9b9bd865f19f604b00235336168c3ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the nnet parameters to *params, whose dimension must be equal to NumParameters(src).  <a href="namespacekaldi_1_1nnet3.html#ad9b9bd865f19f604b00235336168c3ee">More...</a><br /></td></tr>
<tr class="separator:ad9b9bd865f19f604b00235336168c3ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded8b769020aeb041c148c931c44a040"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aded8b769020aeb041c148c931c44a040">UnVectorizeNnet</a> (const VectorBase&lt; BaseFloat &gt; &amp;params, Nnet *dest)</td></tr>
<tr class="memdesc:aded8b769020aeb041c148c931c44a040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the parameters from params to *dest.  <a href="namespacekaldi_1_1nnet3.html#aded8b769020aeb041c148c931c44a040">More...</a><br /></td></tr>
<tr class="separator:aded8b769020aeb041c148c931c44a040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25df665b8f7a712a34469e53fc875851"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a25df665b8f7a712a34469e53fc875851">NumUpdatableComponents</a> (const Nnet &amp;dest)</td></tr>
<tr class="memdesc:a25df665b8f7a712a34469e53fc875851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of updatable components in the nnet.  <a href="namespacekaldi_1_1nnet3.html#a25df665b8f7a712a34469e53fc875851">More...</a><br /></td></tr>
<tr class="separator:a25df665b8f7a712a34469e53fc875851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa665cb6bf2afd82ee21658d7d5d9c410"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aa665cb6bf2afd82ee21658d7d5d9c410">FreezeNaturalGradient</a> (<a class="el" href="classbool.html">bool</a> freeze, Nnet *nnet)</td></tr>
<tr class="memdesc:aa665cb6bf2afd82ee21658d7d5d9c410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls if natural gradient will be updated.  <a href="namespacekaldi_1_1nnet3.html#aa665cb6bf2afd82ee21658d7d5d9c410">More...</a><br /></td></tr>
<tr class="separator:aa665cb6bf2afd82ee21658d7d5d9c410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d342f16140837bd5ca9f384d62478e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a30d342f16140837bd5ca9f384d62478e">ConvertRepeatedToBlockAffine</a> (Nnet *nnet)</td></tr>
<tr class="memdesc:a30d342f16140837bd5ca9f384d62478e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert all components of type <a class="el" href="classkaldi_1_1nnet3_1_1RepeatedAffineComponent.html">RepeatedAffineComponent</a> or <a class="el" href="classkaldi_1_1nnet3_1_1NaturalGradientRepeatedAffineComponent.html">NaturalGradientRepeatedAffineComponent</a> to <a class="el" href="classkaldi_1_1nnet3_1_1BlockAffineComponent.html" title="This class implements an affine transform using a block diagonal matrix e.g., one whose weight matrix...">BlockAffineComponent</a> in nnet.  <a href="namespacekaldi_1_1nnet3.html#a30d342f16140837bd5ca9f384d62478e">More...</a><br /></td></tr>
<tr class="separator:a30d342f16140837bd5ca9f384d62478e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81eeaabd042c236a1e0276c353a7d450"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a81eeaabd042c236a1e0276c353a7d450">NnetInfo</a> (const Nnet &amp;nnet)</td></tr>
<tr class="memdesc:a81eeaabd042c236a1e0276c353a7d450"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns various info about the neural net.  <a href="namespacekaldi_1_1nnet3.html#a81eeaabd042c236a1e0276c353a7d450">More...</a><br /></td></tr>
<tr class="separator:a81eeaabd042c236a1e0276c353a7d450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb3426f75b0e6c1be855ff7477e2f98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a7eb3426f75b0e6c1be855ff7477e2f98">SetDropoutProportion</a> (BaseFloat dropout_proportion, Nnet *nnet)</td></tr>
<tr class="memdesc:a7eb3426f75b0e6c1be855ff7477e2f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the dropout proportion in all dropout components to dropout_proportion value.  <a href="namespacekaldi_1_1nnet3.html#a7eb3426f75b0e6c1be855ff7477e2f98">More...</a><br /></td></tr>
<tr class="separator:a7eb3426f75b0e6c1be855ff7477e2f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc407d1e7d567d46e9214000cb500d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#affc407d1e7d567d46e9214000cb500d6">HasBatchnorm</a> (const Nnet &amp;nnet)</td></tr>
<tr class="memdesc:affc407d1e7d567d46e9214000cb500d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if nnet has at least one component of type <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html">BatchNormComponent</a>.  <a href="namespacekaldi_1_1nnet3.html#affc407d1e7d567d46e9214000cb500d6">More...</a><br /></td></tr>
<tr class="separator:affc407d1e7d567d46e9214000cb500d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f15bc7a244b05a3f04e15d562043dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ac8f15bc7a244b05a3f04e15d562043dc">SetBatchnormTestMode</a> (<a class="el" href="classbool.html">bool</a> test_mode, Nnet *nnet)</td></tr>
<tr class="memdesc:ac8f15bc7a244b05a3f04e15d562043dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function affects only components of type <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html">BatchNormComponent</a>.  <a href="namespacekaldi_1_1nnet3.html#ac8f15bc7a244b05a3f04e15d562043dc">More...</a><br /></td></tr>
<tr class="separator:ac8f15bc7a244b05a3f04e15d562043dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91966187f28cae11565e07bd759b044d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a91966187f28cae11565e07bd759b044d">RecomputeStats</a> (const std::vector&lt; NnetExample &gt; &amp;egs, Nnet *nnet)</td></tr>
<tr class="memdesc:a91966187f28cae11565e07bd759b044d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function zeros the stored component-level stats in the nnet using <a class="el" href="namespacekaldi_1_1nnet3.html#aca9d819d3ed85b506db090905d4c1cea" title="Zeroes the component stats in all nonlinear components in the nnet. ">ZeroComponentStats()</a>, then recomputes them with the supplied egs.  <a href="namespacekaldi_1_1nnet3.html#a91966187f28cae11565e07bd759b044d">More...</a><br /></td></tr>
<tr class="separator:a91966187f28cae11565e07bd759b044d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9757843e049a91502f6fa39782b1ffc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af9757843e049a91502f6fa39782b1ffc">SetDropoutTestMode</a> (<a class="el" href="classbool.html">bool</a> test_mode, Nnet *nnet)</td></tr>
<tr class="memdesc:af9757843e049a91502f6fa39782b1ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function affects components of child-classes of <a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html">RandomComponent</a>.  <a href="namespacekaldi_1_1nnet3.html#af9757843e049a91502f6fa39782b1ffc">More...</a><br /></td></tr>
<tr class="separator:af9757843e049a91502f6fa39782b1ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2029913de309432ceda98856ca5819"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a3c2029913de309432ceda98856ca5819">ResetGenerators</a> (Nnet *nnet)</td></tr>
<tr class="memdesc:a3c2029913de309432ceda98856ca5819"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calls 'ResetGenerator()' on all components in 'nnet' that inherit from class <a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html">RandomComponent</a>.  <a href="namespacekaldi_1_1nnet3.html#a3c2029913de309432ceda98856ca5819">More...</a><br /></td></tr>
<tr class="separator:a3c2029913de309432ceda98856ca5819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1816d4314c548a5099cfa5a328ef63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aea1816d4314c548a5099cfa5a328ef63">FindOrphanComponents</a> (const Nnet &amp;nnet, std::vector&lt; int32 &gt; *components)</td></tr>
<tr class="memdesc:aea1816d4314c548a5099cfa5a328ef63"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function finds a list of components that are never used, and outputs the integer comopnent indexes (you can use these to index nnet.GetComponentNames() to get their names).  <a href="namespacekaldi_1_1nnet3.html#aea1816d4314c548a5099cfa5a328ef63">More...</a><br /></td></tr>
<tr class="separator:aea1816d4314c548a5099cfa5a328ef63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a664caafab064813da57f956a55701"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aa9a664caafab064813da57f956a55701">FindOrphanNodes</a> (const Nnet &amp;nnet, std::vector&lt; int32 &gt; *nodes)</td></tr>
<tr class="memdesc:aa9a664caafab064813da57f956a55701"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function finds a list of nodes that are never used to compute any output, and outputs the integer node indexes (you can use these to index nnet.GetNodeNames() to get their names).  <a href="namespacekaldi_1_1nnet3.html#aa9a664caafab064813da57f956a55701">More...</a><br /></td></tr>
<tr class="separator:aa9a664caafab064813da57f956a55701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c5db7f905e0ab11b678443cb65f930"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a34c5db7f905e0ab11b678443cb65f930">CollapseModel</a> (const CollapseModelConfig &amp;config, Nnet *nnet)</td></tr>
<tr class="memdesc:a34c5db7f905e0ab11b678443cb65f930"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function modifies the neural net for efficiency, in a way that suitable to be done in test time.  <a href="namespacekaldi_1_1nnet3.html#a34c5db7f905e0ab11b678443cb65f930">More...</a><br /></td></tr>
<tr class="separator:a34c5db7f905e0ab11b678443cb65f930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad587de6247cba206672dafb6ef70dc12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ad587de6247cba206672dafb6ef70dc12">ReadEditConfig</a> (std::istream &amp;config_file, Nnet *nnet)</td></tr>
<tr class="memdesc:ad587de6247cba206672dafb6ef70dc12"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespacekaldi_1_1nnet3.html#ad587de6247cba206672dafb6ef70dc12" title="ReadEditConfig() reads a file with a similar-looking format to the config file read by Nnet::ReadConf...">ReadEditConfig()</a> reads a file with a similar-looking format to the config file read by <a class="el" href="classkaldi_1_1nnet3_1_1Nnet.html#a2d86f93445cacbb3af16821e331b564f">Nnet::ReadConfig()</a>, but this consists of a sequence of operations to perform on an existing network, mostly modifying components.  <a href="namespacekaldi_1_1nnet3.html#ad587de6247cba206672dafb6ef70dc12">More...</a><br /></td></tr>
<tr class="separator:ad587de6247cba206672dafb6ef70dc12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1386d6c6a6d3e9bd00fed536d63cb847"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a1386d6c6a6d3e9bd00fed536d63cb847">UpdateNnetWithMaxChange</a> (const Nnet &amp;delta_nnet, BaseFloat max_param_change, BaseFloat max_change_scale, BaseFloat scale, Nnet *nnet, std::vector&lt; int32 &gt; *num_max_change_per_component_applied, int32 *num_max_change_global_applied)</td></tr>
<tr class="memdesc:a1386d6c6a6d3e9bd00fed536d63cb847"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does the operation '*nnet += scale * delta_nnet', while respecting any max-parameter-change (max-param-change) specified in the updatable components, and also the global max-param-change specified as 'max_param_change'.  <a href="namespacekaldi_1_1nnet3.html#a1386d6c6a6d3e9bd00fed536d63cb847">More...</a><br /></td></tr>
<tr class="separator:a1386d6c6a6d3e9bd00fed536d63cb847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5240f2d016ad928b0034835c77f5b2cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a5240f2d016ad928b0034835c77f5b2cb">ApplyL2Regularization</a> (const Nnet &amp;nnet, BaseFloat l2_regularize_scale, Nnet *delta_nnet)</td></tr>
<tr class="memdesc:a5240f2d016ad928b0034835c77f5b2cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used as part of the regular training workflow, prior to <a class="el" href="namespacekaldi_1_1nnet3.html#a1386d6c6a6d3e9bd00fed536d63cb847" title="This function does the operation &#39;*nnet += scale * delta_nnet&#39;, while respecting any max-parameter-ch...">UpdateNnetWithMaxChange()</a>.  <a href="namespacekaldi_1_1nnet3.html#a5240f2d016ad928b0034835c77f5b2cb">More...</a><br /></td></tr>
<tr class="separator:a5240f2d016ad928b0034835c77f5b2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f1b6df80b7997a8958d2672c40b05c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a40f1b6df80b7997a8958d2672c40b05c">ScaleBatchnormStats</a> (BaseFloat batchnorm_stats_scale, Nnet *nnet)</td></tr>
<tr class="memdesc:a40f1b6df80b7997a8958d2672c40b05c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function scales the batchorm stats of any batchnorm components (components of type <a class="el" href="classkaldi_1_1nnet3_1_1BatchNormComponent.html">BatchNormComponent</a>) in 'nnet' by the scale 'batchnorm_stats_scale'.  <a href="namespacekaldi_1_1nnet3.html#a40f1b6df80b7997a8958d2672c40b05c">More...</a><br /></td></tr>
<tr class="separator:a40f1b6df80b7997a8958d2672c40b05c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f170223a0b8d8f515dbc03279e78a4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a8f170223a0b8d8f515dbc03279e78a4a">ConstrainOrthonormal</a> (Nnet *nnet)</td></tr>
<tr class="memdesc:a8f170223a0b8d8f515dbc03279e78a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function, to be called after processing every minibatch, is responsible for enforcing the orthogonality constraint for any components of type <a class="el" href="classkaldi_1_1nnet3_1_1LinearComponent.html">LinearComponent</a> or inheriting from <a class="el" href="classkaldi_1_1nnet3_1_1AffineComponent.html">AffineComponent</a> that have the "orthonormal_constraint" value set.  <a href="namespacekaldi_1_1nnet3.html#a8f170223a0b8d8f515dbc03279e78a4a">More...</a><br /></td></tr>
<tr class="separator:a8f170223a0b8d8f515dbc03279e78a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322efc02a286b646c40b65235c432893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a322efc02a286b646c40b65235c432893">ConsolidateMemory</a> (Nnet *nnet)</td></tr>
<tr class="memdesc:a322efc02a286b646c40b65235c432893"><td class="mdescLeft">&#160;</td><td class="mdescRight">This just calls <a class="el" href="namespacekaldi_1_1nnet3.html#a322efc02a286b646c40b65235c432893" title="This just calls ConsolidateMemory() on all the components of the nnet. ">ConsolidateMemory()</a> on all the components of the nnet.  <a href="namespacekaldi_1_1nnet3.html#a322efc02a286b646c40b65235c432893">More...</a><br /></td></tr>
<tr class="separator:a322efc02a286b646c40b65235c432893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433fdafbe9ea5093a2742b5451ba674f"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a433fdafbe9ea5093a2742b5451ba674f">GetNumNvalues</a> (const std::vector&lt; NnetIo &gt; &amp;io_vec, <a class="el" href="classbool.html">bool</a> exhaustive)</td></tr>
<tr class="memdesc:a433fdafbe9ea5093a2742b5451ba674f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This utility function can be used to obtain the number of distinct 'n' values in a training example.  <a href="namespacekaldi_1_1nnet3.html#a433fdafbe9ea5093a2742b5451ba674f">More...</a><br /></td></tr>
<tr class="separator:a433fdafbe9ea5093a2742b5451ba674f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains some miscellaneous functions dealing with class Nnet. </p>

<p class="definition">Definition in file <a class="el" href="_2nnet-utils_8h_source.html">nnet-utils.h</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_67a0a17020b8eedc08ffa5626b1d53a1.html">nnet3</a></li><li class="navelem"><a class="el" href="_2nnet-utils_8h.html">nnet-utils.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
