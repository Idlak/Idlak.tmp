<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: GeneralDropoutComponent Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GeneralDropoutComponent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html" title="GeneralDropoutComponent implements dropout, including a continuous variant where the thing we multipl...">GeneralDropoutComponent</a> implements dropout, including a continuous variant where the thing we multiply is not just zero or one, but may be a continuous value.  
 <a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GeneralDropoutComponent:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1GeneralDropoutComponent__inherit__graph.png" border="0" usemap="#GeneralDropoutComponent_inherit__map" alt="Inheritance graph"/></div>
<map name="GeneralDropoutComponent_inherit__map" id="GeneralDropoutComponent_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for GeneralDropoutComponent:</div>
<div class="dyncontent">
<div class="center"><img src="classkaldi_1_1nnet3_1_1GeneralDropoutComponent__coll__graph.png" border="0" usemap="#GeneralDropoutComponent_coll__map" alt="Collaboration graph"/></div>
<map name="GeneralDropoutComponent_coll__map" id="GeneralDropoutComponent_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad4cb6aed1f1980c2c36f34e09ceea0e0"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0">InputDim</a> () const</td></tr>
<tr class="memdesc:ad4cb6aed1f1980c2c36f34e09ceea0e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns input-dimension of this component.  <a href="#ad4cb6aed1f1980c2c36f34e09ceea0e0">More...</a><br /></td></tr>
<tr class="separator:ad4cb6aed1f1980c2c36f34e09ceea0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323155ad8034c0b14762dd78ae4415b5"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a323155ad8034c0b14762dd78ae4415b5">OutputDim</a> () const</td></tr>
<tr class="memdesc:a323155ad8034c0b14762dd78ae4415b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns output-dimension of this component.  <a href="#a323155ad8034c0b14762dd78ae4415b5">More...</a><br /></td></tr>
<tr class="separator:a323155ad8034c0b14762dd78ae4415b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245d65d566725422b859c99bff7623f8"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a245d65d566725422b859c99bff7623f8">Info</a> () const</td></tr>
<tr class="memdesc:a245d65d566725422b859c99bff7623f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns some text-form information about this component, for diagnostics.  <a href="#a245d65d566725422b859c99bff7623f8">More...</a><br /></td></tr>
<tr class="separator:a245d65d566725422b859c99bff7623f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f5c35427c2657c50173313e99e3f01"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ac4f5c35427c2657c50173313e99e3f01">InitFromConfig</a> (<a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *cfl)</td></tr>
<tr class="memdesc:ac4f5c35427c2657c50173313e99e3f01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> object.  <a href="#ac4f5c35427c2657c50173313e99e3f01">More...</a><br /></td></tr>
<tr class="separator:ac4f5c35427c2657c50173313e99e3f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30541b788797a3c8b1dbd09e2adefe51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a30541b788797a3c8b1dbd09e2adefe51">GeneralDropoutComponent</a> ()</td></tr>
<tr class="separator:a30541b788797a3c8b1dbd09e2adefe51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1067f99402c77d268892b39cb385aed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ac1067f99402c77d268892b39cb385aed">GeneralDropoutComponent</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> &amp;other)</td></tr>
<tr class="separator:ac1067f99402c77d268892b39cb385aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d951f58073f362411ee482aa469975"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af2d951f58073f362411ee482aa469975">Type</a> () const</td></tr>
<tr class="memdesc:af2d951f58073f362411ee482aa469975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string such as "SigmoidComponent", describing the type of the object.  <a href="#af2d951f58073f362411ee482aa469975">More...</a><br /></td></tr>
<tr class="separator:af2d951f58073f362411ee482aa469975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a16a6da3a5108ec53e759722a51fd47"><td class="memItemLeft" align="right" valign="top">virtual int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47">Properties</a> () const</td></tr>
<tr class="memdesc:a4a16a6da3a5108ec53e759722a51fd47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bitmask of the component's properties.  <a href="#a4a16a6da3a5108ec53e759722a51fd47">More...</a><br /></td></tr>
<tr class="separator:a4a16a6da3a5108ec53e759722a51fd47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1f1b05a170bd81a544caefe1acb040"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8f1f1b05a170bd81a544caefe1acb040">Propagate</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *out) const</td></tr>
<tr class="memdesc:a8f1f1b05a170bd81a544caefe1acb040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate function.  <a href="#a8f1f1b05a170bd81a544caefe1acb040">More...</a><br /></td></tr>
<tr class="separator:a8f1f1b05a170bd81a544caefe1acb040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9638bc0dac5a54a0e2c4a5eb44aeca7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7">Backprop</a> (const std::string &amp;debug_info, const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *indexes, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_deriv, void *memo, <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *to_update, <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *in_deriv) const</td></tr>
<tr class="memdesc:ab9638bc0dac5a54a0e2c4a5eb44aeca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update.  <a href="#ab9638bc0dac5a54a0e2c4a5eb44aeca7">More...</a><br /></td></tr>
<tr class="separator:ab9638bc0dac5a54a0e2c4a5eb44aeca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eacf8174f9fa190732c320ee3cf1d62"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8eacf8174f9fa190732c320ee3cf1d62">DeleteMemo</a> (void *memo) const</td></tr>
<tr class="memdesc:a8eacf8174f9fa190732c320ee3cf1d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function only needs to be overwritten by Components that return a non-NULL memo from their <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function.  <a href="#a8eacf8174f9fa190732c320ee3cf1d62">More...</a><br /></td></tr>
<tr class="separator:a8eacf8174f9fa190732c320ee3cf1d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2919d1c6cfa5f73581f407150374b6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8b2919d1c6cfa5f73581f407150374b6">PrecomputeIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;input_indexes, const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;output_indexes, <a class="el" href="classbool.html">bool</a> need_backprop) const</td></tr>
<tr class="memdesc:a8b2919d1c6cfa5f73581f407150374b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must return NULL for simple Components.  <a href="#a8b2919d1c6cfa5f73581f407150374b6">More...</a><br /></td></tr>
<tr class="separator:a8b2919d1c6cfa5f73581f407150374b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="memdesc:a8e7d2790fc7e94fe9780ccc937de1270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read function (used after we know the type of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>); accepts input that is missing the token that describes the component type, in case it has already been consumed.  <a href="#a8e7d2790fc7e94fe9780ccc937de1270">More...</a><br /></td></tr>
<tr class="separator:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f354fd5f096134162f01719096e6fc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a68f354fd5f096134162f01719096e6fc">Write</a> (std::ostream &amp;os, <a class="el" href="classbool.html">bool</a> binary) const</td></tr>
<tr class="memdesc:a68f354fd5f096134162f01719096e6fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write component to stream.  <a href="#a68f354fd5f096134162f01719096e6fc">More...</a><br /></td></tr>
<tr class="separator:a68f354fd5f096134162f01719096e6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f11a4fb3396dda21cae55e81f23c750"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f11a4fb3396dda21cae55e81f23c750">Copy</a> () const</td></tr>
<tr class="memdesc:a1f11a4fb3396dda21cae55e81f23c750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies component (deep copy).  <a href="#a1f11a4fb3396dda21cae55e81f23c750">More...</a><br /></td></tr>
<tr class="separator:a1f11a4fb3396dda21cae55e81f23c750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2280d19b734e84799bb10e8b1b6f9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#acd2280d19b734e84799bb10e8b1b6f9c">SetDropoutProportion</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> p)</td></tr>
<tr class="separator:acd2280d19b734e84799bb10e8b1b6f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1nnet3_1_1RandomComponent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html">RandomComponent</a></td></tr>
<tr class="memitem:abb608877dc715ca117536e8ea8b0a111 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html#abb608877dc715ca117536e8ea8b0a111">ResetGenerator</a> ()</td></tr>
<tr class="separator:abb608877dc715ca117536e8ea8b0a111 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad129a780d6f44e942de7ca16f2444c36 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html#ad129a780d6f44e942de7ca16f2444c36">SetTestMode</a> (<a class="el" href="classbool.html">bool</a> test_mode)</td></tr>
<tr class="separator:ad129a780d6f44e942de7ca16f2444c36 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e316d2a6793425f201d394840675d6 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html#ad4e316d2a6793425f201d394840675d6">RandomComponent</a> ()</td></tr>
<tr class="separator:ad4e316d2a6793425f201d394840675d6 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfb61904fbd291beeef74a7689690f4 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html#a6cfb61904fbd291beeef74a7689690f4">RandomComponent</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html">RandomComponent</a> &amp;other)</td></tr>
<tr class="separator:a6cfb61904fbd291beeef74a7689690f4 inherit pub_methods_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkaldi_1_1nnet3_1_1Component"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkaldi_1_1nnet3_1_1Component')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></td></tr>
<tr class="memitem:a304cec15e1a696a5af5f2f5daae7bc4f inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a304cec15e1a696a5af5f2f5daae7bc4f">StoreStats</a> (const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;in_value, const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;out_value, void *memo)</td></tr>
<tr class="memdesc:a304cec15e1a696a5af5f2f5daae7bc4f inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function may store stats on average activation values, and for some component types, the average value of the derivative of the nonlinearity.  <a href="classkaldi_1_1nnet3_1_1Component.html#a304cec15e1a696a5af5f2f5daae7bc4f">More...</a><br /></td></tr>
<tr class="separator:a304cec15e1a696a5af5f2f5daae7bc4f inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab162a2631e5335091d1f2bba1571e54d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d">ZeroStats</a> ()</td></tr>
<tr class="memdesc:ab162a2631e5335091d1f2bba1571e54d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Components that provide an implementation of StoreStats should also provide an implementation of <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d" title="Components that provide an implementation of StoreStats should also provide an implementation of Zero...">ZeroStats()</a>, to set those stats to zero.  <a href="classkaldi_1_1nnet3_1_1Component.html#ab162a2631e5335091d1f2bba1571e54d">More...</a><br /></td></tr>
<tr class="separator:ab162a2631e5335091d1f2bba1571e54d inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7b185ac981780bcfaed7dfdd8908d8 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a9d7b185ac981780bcfaed7dfdd8908d8">GetInputIndexes</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *desired_indexes) const</td></tr>
<tr class="memdesc:a9d7b185ac981780bcfaed7dfdd8908d8 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="classkaldi_1_1nnet3_1_1Component.html#a9d7b185ac981780bcfaed7dfdd8908d8">More...</a><br /></td></tr>
<tr class="separator:a9d7b185ac981780bcfaed7dfdd8908d8 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529c07610dd915a30e452f80b8bb5fc0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a529c07610dd915a30e452f80b8bb5fc0">IsComputable</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;misc_info, const <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &amp;output_index, const <a class="el" href="classkaldi_1_1nnet3_1_1IndexSet.html">IndexSet</a> &amp;input_index_set, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *used_inputs) const</td></tr>
<tr class="memdesc:a529c07610dd915a30e452f80b8bb5fc0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components, and it exists to make it possible to manage optionally-required inputs.  <a href="classkaldi_1_1nnet3_1_1Component.html#a529c07610dd915a30e452f80b8bb5fc0">More...</a><br /></td></tr>
<tr class="separator:a529c07610dd915a30e452f80b8bb5fc0 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92fc16eadbf5faafb1aeb4b90614d691 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a92fc16eadbf5faafb1aeb4b90614d691">ReorderIndexes</a> (std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *input_indexes, std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; *output_indexes) const</td></tr>
<tr class="memdesc:a92fc16eadbf5faafb1aeb4b90614d691 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function only does something interesting for non-simple Components.  <a href="classkaldi_1_1nnet3_1_1Component.html#a92fc16eadbf5faafb1aeb4b90614d691">More...</a><br /></td></tr>
<tr class="separator:a92fc16eadbf5faafb1aeb4b90614d691 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750ca3e44a00898afea53b54697226ba inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a750ca3e44a00898afea53b54697226ba">Scale</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> scale)</td></tr>
<tr class="memdesc:a750ca3e44a00898afea53b54697226ba inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called on &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> scales the parameters by "scale" when called by an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a>.  <a href="classkaldi_1_1nnet3_1_1Component.html#a750ca3e44a00898afea53b54697226ba">More...</a><br /></td></tr>
<tr class="separator:a750ca3e44a00898afea53b54697226ba inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab16938236bd0978bad5de6d56fcf47f inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aab16938236bd0978bad5de6d56fcf47f">Add</a> (<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> alpha, const <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> &amp;other)</td></tr>
<tr class="memdesc:aab16938236bd0978bad5de6d56fcf47f inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function when called by &ndash; an <a class="el" href="classkaldi_1_1nnet3_1_1UpdatableComponent.html" title="Class UpdatableComponent is a Component which has trainable parameters; it extends the interface of C...">UpdatableComponent</a> adds the parameters of another updatable component, times some constant, to the current parameters.  <a href="classkaldi_1_1nnet3_1_1Component.html#aab16938236bd0978bad5de6d56fcf47f">More...</a><br /></td></tr>
<tr class="separator:aab16938236bd0978bad5de6d56fcf47f inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44818f697d4e7fb11120645a16bd0e39 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a44818f697d4e7fb11120645a16bd0e39">ConsolidateMemory</a> ()</td></tr>
<tr class="memdesc:a44818f697d4e7fb11120645a16bd0e39 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">This virtual function relates to memory management, and avoiding fragmentation.  <a href="classkaldi_1_1nnet3_1_1Component.html#a44818f697d4e7fb11120645a16bd0e39">More...</a><br /></td></tr>
<tr class="separator:a44818f697d4e7fb11120645a16bd0e39 inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0171e1571f18dc6a27c8b041de55feec inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0171e1571f18dc6a27c8b041de55feec">Component</a> ()</td></tr>
<tr class="separator:a0171e1571f18dc6a27c8b041de55feec inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df822d4b95a18b1df2529896638daeb inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a0df822d4b95a18b1df2529896638daeb">~Component</a> ()</td></tr>
<tr class="separator:a0df822d4b95a18b1df2529896638daeb inherit pub_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4dd3ff26d54707ffd47331b7c4192df0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4dd3ff26d54707ffd47331b7c4192df0">GetMemo</a> (int32 num_mask_rows) const</td></tr>
<tr class="separator:a4dd3ff26d54707ffd47331b7c4192df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0381c09dc83879e69fe0fd32b39f6cfb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a0381c09dc83879e69fe0fd32b39f6cfb">operator=</a> (const <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> &amp;other)</td></tr>
<tr class="separator:a0381c09dc83879e69fe0fd32b39f6cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a08031ac0ce0b0973ed948e43ebd706be"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a></td></tr>
<tr class="separator:a08031ac0ce0b0973ed948e43ebd706be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ab993f430cb6dfa5c9dedca95791a4"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a></td></tr>
<tr class="separator:a62ab993f430cb6dfa5c9dedca95791a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37944fb18e3042d2c2295a0231098e69"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a></td></tr>
<tr class="separator:a37944fb18e3042d2c2295a0231098e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81a6e503d424a0f7d1fbfa7cec9b03d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a></td></tr>
<tr class="separator:af81a6e503d424a0f7d1fbfa7cec9b03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f00bcaeaa5d176253a7dc3f80df71b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a></td></tr>
<tr class="separator:a1f00bcaeaa5d176253a7dc3f80df71b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e61791b6ff20c4e71142b700b0ad79a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a></td></tr>
<tr class="separator:a6e61791b6ff20c4e71142b700b0ad79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classkaldi_1_1nnet3_1_1Component')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a></td></tr>
<tr class="memitem:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a4ddbc3371d68afbe87908b87b8c0a6ae">ReadNew</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="memdesc:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read component from stream (works out its type). Dies on error.  <a href="classkaldi_1_1nnet3_1_1Component.html#a4ddbc3371d68afbe87908b87b8c0a6ae">More...</a><br /></td></tr>
<tr class="separator:a4ddbc3371d68afbe87908b87b8c0a6ae inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">NewComponentOfType</a> (const std::string &amp;type)</td></tr>
<tr class="memdesc:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> of the given type e.g.  <a href="classkaldi_1_1nnet3_1_1Component.html#a52564bb899e61119bac38d57147cd223">More...</a><br /></td></tr>
<tr class="separator:a52564bb899e61119bac38d57147cd223 inherit pub_static_methods_classkaldi_1_1nnet3_1_1Component"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classkaldi_1_1nnet3_1_1RandomComponent"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classkaldi_1_1nnet3_1_1RandomComponent')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html">RandomComponent</a></td></tr>
<tr class="memitem:ad4051c64e2e6ebed0f3d6303a8c9b849 inherit pro_attribs_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1CuRand.html">CuRand</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html#ad4051c64e2e6ebed0f3d6303a8c9b849">random_generator_</a></td></tr>
<tr class="separator:ad4051c64e2e6ebed0f3d6303a8c9b849 inherit pro_attribs_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e61791b6ff20c4e71142b700b0ad79a inherit pro_attribs_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RandomComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a></td></tr>
<tr class="separator:a6e61791b6ff20c4e71142b700b0ad79a inherit pro_attribs_classkaldi_1_1nnet3_1_1RandomComponent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html" title="GeneralDropoutComponent implements dropout, including a continuous variant where the thing we multipl...">GeneralDropoutComponent</a> implements dropout, including a continuous variant where the thing we multiply is not just zero or one, but may be a continuous value. </p>
<p>It is intended for the case where you want to either share the dropout mask across all of time, or across groups of 't' values (e.g. the first block of 10 values gets one dropout mask, the second block of 10 gets another one, and so on).</p>
<p>Configuration values accepted on the command line, with defaults:</p>
<p>dim Dimension of the input and output of this component, e.g. 512</p>
<p>block-dim Block size if you want the dropout mask to repeat, e.g. if dim=512 and you sent block-dim=128, there will be a mask of dimension 128 repeated 4 times. This can be useful in convolutional setups. If not specified, block-dim defaults to 'dim'; if specified, it must be a divisor of 'dim'.</p>
<p>dropout-proportion=0.5 For conventional dropout, this is the proportion of mask values that (in expectation) are zero; it would normally be between 0 and 0.5. The nonzero mask values will be given values 1.0 / dropout_proportion, so that the expected value is 1.0. This behavior is different from <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html">DropoutComponent</a> and <a class="el" href="classkaldi_1_1nnet3_1_1DropoutMaskComponent.html">DropoutMaskComponent</a>.</p>
<p>For continuous dropout (continuous==true), the dropout scales will have values (1.0 + 2 * dropout-proportion * Uniform[-1,1]). This might seem like a strange choice, but it means that dropout-proportion=0.5 gives us a kind of 'extremal' case where the dropout scales are distributed as Uniform[0, 2] and we can pass in the dropout scale as if it were a conventional dropout scale.</p>
<p>time-period=0 This determines how the dropout mask interacts with the time index (t). In all cases, different sequences (different 'n' values) get different dropout masks. If time-period==0, then the dropout mask is shared across all time values. If you set time-period &gt; 0, then the dropout mask is shared across blocks of time values: for instance if time-period==10, then we'll use one dropout mask for t values 0 through 9, another for 10 through 19, and so on. In all cases, the dropout mask will be shared across all 'x' values, although in most setups the x values are just zero so this isn't very interesting. If you set time-period==1 it would be similar to regular dropout, and it would probably make more sense to just use the normal <a class="el" href="classkaldi_1_1nnet3_1_1DropoutComponent.html">DropoutComponent</a>. </p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00841">841</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a30541b788797a3c8b1dbd09e2adefe51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30541b788797a3c8b1dbd09e2adefe51">&#9670;&nbsp;</a></span>GeneralDropoutComponent() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01533">1533</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01658">GeneralDropoutComponent::Copy()</a>.</p>
<div class="fragment"><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                                                :</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>(-1), <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>(-1), <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>(0),</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>(0.5), <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a>(<span class="keyword">false</span>) { }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1067f99402c77d268892b39cb385aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1067f99402c77d268892b39cb385aed">&#9670;&nbsp;</a></span>GeneralDropoutComponent() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01537">1537</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                                         :</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>(other.dim_),</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>(other.block_dim_),</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>(other.time_period_),</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>(other.dropout_proportion_),</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a>(other.continuous_) { }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab9638bc0dac5a54a0e2c4a5eb44aeca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9638bc0dac5a54a0e2c4a5eb44aeca7">&#9670;&nbsp;</a></span>Backprop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Backprop </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debug_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_deriv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> *&#160;</td>
          <td class="paramname"><em>to_update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>in_deriv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backprop function; depending on which of the arguments 'to_update' and 'in_deriv' are non-NULL, this can compute input-data derivatives and/or perform model update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">debug_info</td><td>The component name, to be printed out in any warning messages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_value</td><td>The matrix that was given as input to the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsInput == 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_value</td><td>The matrix that was output from the Propagate function. Will be ignored (and may be empty) if <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropNeedsOutput == 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_deriv</td><td>The derivative at the output of this component. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">memo</td><td>This will normally be NULL, but for component types that set the flag kUsesMemo, this will be the return value of the <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function that corresponds to this <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ab9638bc0dac5a54a0e2c4a5eb44aeca7" title="Backprop function; depending on which of the arguments &#39;to_update&#39; and &#39;in_deriv&#39; are non-NULL...">Backprop()</a> function. Ownership of any pointers is not transferred to the Backprop function; <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8eacf8174f9fa190732c320ee3cf1d62" title="This virtual function only needs to be overwritten by Components that return a non-NULL memo from the...">DeleteMemo()</a> will be called to delete it. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_update</td><td>If model update is desired, the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> to be updated, else NULL. Does not have to be identical to this. If supplied, you can assume that to_update-&gt;<a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a> &amp; kUpdatableComponent is nonzero. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">in_deriv</td><td>The derivative at the input of this component, if needed (else NULL). If <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropInPlace, may be the same matrix as out_deriv. If <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kBackpropAdds, this is added to by the Backprop routine, else it is set. The component code chooses which mode to work in, based on convenience. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ada8f5f2c358622ef522a7f2b9d2833ca">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01578">1578</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="cu-matrix_8cc_source.html#l00339">CuMatrixBase&lt; Real &gt;::CopyFromMat()</a>, <a class="el" href="cu-matrix_8h_source.html#l00689">CuMatrixBase&lt; Real &gt;::Data()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00898">GeneralDropoutComponent::dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00909">GeneralDropoutComponent::dropout_proportion_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00937">GeneralDropoutComponentPrecomputedIndexes::indexes</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="cu-matrix_8cc_source.html#l02757">CuMatrixBase&lt; Real &gt;::MulRows()</a>, <a class="el" href="cu-matrix_8h_source.html#l00215">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00214">CuMatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l01065">kaldi::SameDim()</a>, <a class="el" href="cu-matrix_8h_source.html#l00216">CuMatrixBase&lt; Real &gt;::Stride()</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00913">GeneralDropoutComponent::test_mode_</a>.</p>
<div class="fragment"><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                                             {</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(in_deriv != NULL &amp;&amp; <a class="code" href="group__matrix__funcs__io.html#ga07b147212efb08775c252cd4cc7453fe">SameDim</a>(*in_deriv, out_deriv));</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="comment">// The following will do no work if in_deriv-&gt;Data() == out_deriv.Data().</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  in_deriv-&gt;CopyFromMat(out_deriv);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a> || <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a> == 0.0) {</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(memo == NULL);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  }</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keyword">const</span> GeneralDropoutComponentPrecomputedIndexes *indexes =</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;     <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>GeneralDropoutComponentPrecomputedIndexes*<span class="keyword">&gt;</span>(indexes_in);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(indexes != NULL &amp;&amp; memo != NULL);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  CuMatrix&lt;BaseFloat&gt; *mask = <span class="keyword">reinterpret_cast&lt;</span>CuMatrix&lt;BaseFloat&gt;*<span class="keyword">&gt;</span>(memo);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a> &lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>) {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(in_deriv-&gt;Stride() == in_deriv-&gt;NumCols());</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    int32 num_rows = in_deriv-&gt;NumRows(),</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        dim_multiple = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>  / <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>,</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        num_rows_reshaped = num_rows * dim_multiple;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    CuSubMatrix&lt;BaseFloat&gt; in_deriv_reshaped(in_deriv-&gt;Data(),</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                                             num_rows_reshaped,</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                                             <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    in_deriv_reshaped.MulRows(*mask, indexes-&gt;indexes);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    in_deriv-&gt;MulRows(*mask, indexes-&gt;indexes);</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="group__matrix__funcs__io_html_ga07b147212efb08775c252cd4cc7453fe"><div class="ttname"><a href="group__matrix__funcs__io.html#ga07b147212efb08775c252cd4cc7453fe">kaldi::SameDim</a></div><div class="ttdeci">bool SameDim(const MatrixBase&lt; Real &gt; &amp;M, const MatrixBase&lt; Real &gt; &amp;N)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l01065">kaldi-matrix.h:1065</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a6e61791b6ff20c4e71142b700b0ad79a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">kaldi::nnet3::GeneralDropoutComponent::test_mode_</a></div><div class="ttdeci">bool test_mode_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00913">nnet-general-component.h:913</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f11a4fb3396dda21cae55e81f23c750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f11a4fb3396dda21cae55e81f23c750">&#9670;&nbsp;</a></span>Copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1Component.html">Component</a> * Copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies component (deep copy). </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#aa46d9c7de00be8203e16a6e55af0afef">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01658">1658</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8cc_source.html#l01533">GeneralDropoutComponent::GeneralDropoutComponent()</a>.</p>
<div class="fragment"><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                                               {</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a30541b788797a3c8b1dbd09e2adefe51">GeneralDropoutComponent</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a30541b788797a3c8b1dbd09e2adefe51"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a30541b788797a3c8b1dbd09e2adefe51">kaldi::nnet3::GeneralDropoutComponent::GeneralDropoutComponent</a></div><div class="ttdeci">GeneralDropoutComponent()</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8cc_source.html#l01533">nnet-general-component.cc:1533</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8eacf8174f9fa190732c320ee3cf1d62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eacf8174f9fa190732c320ee3cf1d62">&#9670;&nbsp;</a></span>DeleteMemo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void DeleteMemo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This virtual function only needs to be overwritten by Components that return a non-NULL memo from their <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a8f1f1b05a170bd81a544caefe1acb040" title="Propagate function. ">Propagate()</a> function. </p>
<p>It's called by <a class="el" href="classkaldi_1_1nnet3_1_1NnetComputer.html" title="class NnetComputer is responsible for executing the computation described in the &quot;computation&quot; object...">NnetComputer</a> in cases where Propagate returns a memo but there will be no backprop to consume it. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a8eacf8174f9fa190732c320ee3cf1d62">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00873">873</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00086">DistributeComponent::Copy()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l00102">DistributeComponent::PrecomputeIndexes()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l00247">DistributeComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l00238">DistributeComponent::Write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                            {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span>CuMatrix&lt;BaseFloat&gt;*<span class="keyword">&gt;</span>(memo);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a id="a4dd3ff26d54707ffd47331b7c4192df0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd3ff26d54707ffd47331b7c4192df0">&#9670;&nbsp;</a></span>GetMemo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1CuMatrix.html">CuMatrix</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; * GetMemo </td>
          <td>(</td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>num_mask_rows</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01682">1682</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="cu-matrix_8cc_source.html#l00548">CuMatrixBase&lt; Real &gt;::Add()</a>, <a class="el" href="cu-matrix_8cc_source.html#l02445">CuMatrixBase&lt; Real &gt;::ApplyHeaviside()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00911">GeneralDropoutComponent::continuous_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00909">GeneralDropoutComponent::dropout_proportion_</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00422">RandomComponent::random_generator_</a>, <a class="el" href="kaldi-math_8h_source.html#l00151">kaldi::RandUniform()</a>, <a class="el" href="cu-matrix_8cc_source.html#l00610">CuMatrixBase&lt; Real &gt;::Scale()</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00913">GeneralDropoutComponent::test_mode_</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01545">GeneralDropoutComponent::Propagate()</a>.</p>
<div class="fragment"><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                               {</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(num_mask_rows &gt; 0 &amp;&amp; !<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a> &amp;&amp;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;               <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a> &gt; 0.0);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  CuMatrix&lt;BaseFloat&gt; *ans = <span class="keyword">new</span> CuMatrix&lt;BaseFloat&gt;(num_mask_rows, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <a class="code" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> dropout_proportion = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="comment">// This const_cast is only safe assuming you don&#39;t attempt</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="comment">// to use multi-threaded code with the GPU.</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="keyword">const_cast&lt;</span>CuRand&lt;BaseFloat&gt;&amp;<span class="keyword">&gt;</span>(<a class="code" href="classkaldi_1_1nnet3_1_1RandomComponent.html#ad4051c64e2e6ebed0f3d6303a8c9b849">random_generator_</a>).<a class="code" href="namespacekaldi.html#a0c4bcfc10bea5ed0d3e3cf6d74922121">RandUniform</a>(ans);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a>) {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    ans-&gt;Add(-dropout_proportion);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="comment">// now, a proportion &quot;dropout_proportion&quot; will be &lt; 0.0. After applying the</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="comment">// function (x&gt;0?1:0), a proportion &quot;dropout_proportion&quot; will be zero and (1 -</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="comment">// dropout_proportion) will be 1.0.</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    ans-&gt;ApplyHeaviside();</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    ans-&gt;Scale(1.0 / dropout_proportion);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    ans-&gt;Scale(dropout_proportion * 4.0);</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="comment">// make the expected value 1.0.</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    ans-&gt;Add(1.0 - (2.0 * dropout_proportion));</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">return</span> ans;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="namespacekaldi_html_a0c4bcfc10bea5ed0d3e3cf6d74922121"><div class="ttname"><a href="namespacekaldi.html#a0c4bcfc10bea5ed0d3e3cf6d74922121">kaldi::RandUniform</a></div><div class="ttdeci">float RandUniform(struct RandomState *state=NULL)</div><div class="ttdoc">Returns a random number strictly between 0 and 1. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00151">kaldi-math.h:151</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="namespacekaldi_html_aa66ff8367094543664b3b6a13d77c139"><div class="ttname"><a href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">kaldi::BaseFloat</a></div><div class="ttdeci">float BaseFloat</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-types_8h_source.html#l00029">kaldi-types.h:29</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a6e61791b6ff20c4e71142b700b0ad79a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">kaldi::nnet3::GeneralDropoutComponent::test_mode_</a></div><div class="ttdeci">bool test_mode_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00913">nnet-general-component.h:913</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1RandomComponent_html_ad4051c64e2e6ebed0f3d6303a8c9b849"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1RandomComponent.html#ad4051c64e2e6ebed0f3d6303a8c9b849">kaldi::nnet3::RandomComponent::random_generator_</a></div><div class="ttdeci">CuRand&lt; BaseFloat &gt; random_generator_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00422">nnet-component-itf.h:422</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a245d65d566725422b859c99bff7623f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245d65d566725422b859c99bff7623f8">&#9670;&nbsp;</a></span>Info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns some text-form information about this component, for diagnostics. </p>
<p>Starts with the type of the component. E.g. "SigmoidComponent dim=900", although most components will have much more info. </p>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a245d65d566725422b859c99bff7623f8">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01520">1520</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00781">DropoutMaskComponent::continuous_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00779">DropoutMaskComponent::dropout_proportion_</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00732">DropoutMaskComponent::Type()</a>.</p>
<div class="fragment"><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                                              {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  std::ostringstream stream;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  stream &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af2d951f58073f362411ee482aa469975">Type</a>()</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, block-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;, dropout-proportion=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a>)</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;, continuous=true&quot;</span>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a> &gt; 0)</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;, time-period=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">return</span> stream.str();</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af2d951f58073f362411ee482aa469975"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af2d951f58073f362411ee482aa469975">kaldi::nnet3::GeneralDropoutComponent::Type</a></div><div class="ttdeci">virtual std::string Type() const</div><div class="ttdoc">Returns a string such as &quot;SigmoidComponent&quot;, describing the type of the object. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00855">nnet-general-component.h:855</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4f5c35427c2657c50173313e99e3f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f5c35427c2657c50173313e99e3f01">&#9670;&nbsp;</a></span>InitFromConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InitFromConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html">ConfigLine</a> *&#160;</td>
          <td class="paramname"><em>cfl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize, from a <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cfl</td><td>A <a class="el" href="classkaldi_1_1nnet3_1_1ConfigLine.html" title="This class is responsible for parsing input like hi-there xx=yyy a=b c empty= f-oo=Append(bar, sss) ba_z=123 bing=&#39;a b c&#39; baz=&quot;a b c d=&#39;a b&#39; e&quot; and giving you access to the fields, in this case. ">ConfigLine</a> containing any parameters that are needed for initialization. For example: "dim=100 param-stddev=0.1" </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a1f7dc9cc61293d3c7decb5bd8ea3f4d5">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01662">1662</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00911">GeneralDropoutComponent::continuous_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00898">GeneralDropoutComponent::dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00909">GeneralDropoutComponent::dropout_proportion_</a>, <a class="el" href="nnet-parse_8cc_source.html#l00115">ConfigLine::GetValue()</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="kaldi-error_8h_source.html#l00126">KALDI_ERR</a>, <a class="el" href="nnet-general-component_8h_source.html#l00913">GeneralDropoutComponent::test_mode_</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00907">GeneralDropoutComponent::time_period_</a>.</p>
<div class="fragment"><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                                            {</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a> = 0;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  <span class="keywordtype">bool</span> ok = cfl-&gt;GetValue(<span class="stringliteral">&quot;dim&quot;</span>, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(ok &amp;&amp; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a> &gt; 0);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a> = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  cfl-&gt;GetValue(<span class="stringliteral">&quot;block-dim&quot;</span>, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a> &gt; 0 &amp;&amp; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a> % <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a> == 0))</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a> &lt;&lt; <span class="stringliteral">&quot;Invalid configuration dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;, block-dim=&quot;</span> &lt;&lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a> = 0;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  cfl-&gt;GetValue(<span class="stringliteral">&quot;time-period&quot;</span>, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a> = 0.5;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  cfl-&gt;GetValue(<span class="stringliteral">&quot;dropout-proportion&quot;</span>, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  cfl-&gt;GetValue(<span class="stringliteral">&quot;continuous&quot;</span>, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  cfl-&gt;GetValue(<span class="stringliteral">&quot;test-mode&quot;</span>, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a>);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a6e61791b6ff20c4e71142b700b0ad79a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">kaldi::nnet3::GeneralDropoutComponent::test_mode_</a></div><div class="ttdeci">bool test_mode_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00913">nnet-general-component.h:913</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="group__error__group_html_ga0251fa005e2fdb1dcc6e24f06afe3b1f"><div class="ttname"><a href="group__error__group.html#ga0251fa005e2fdb1dcc6e24f06afe3b1f">KALDI_ERR</a></div><div class="ttdeci">#define KALDI_ERR</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00126">kaldi-error.h:126</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4cb6aed1f1980c2c36f34e09ceea0e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4cb6aed1f1980c2c36f34e09ceea0e0">&#9670;&nbsp;</a></span>InputDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 InputDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns input-dimension of this component. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a7f37d871d35c43a03324502cea308635">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00843">843</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>; }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0381c09dc83879e69fe0fd32b39f6cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0381c09dc83879e69fe0fd32b39f6cfb">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a323155ad8034c0b14762dd78ae4415b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323155ad8034c0b14762dd78ae4415b5">&#9670;&nbsp;</a></span>OutputDim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 OutputDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns output-dimension of this component. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ac0f2f034a884363d4e0694c62ea8a764">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00845">845</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">References <a class="el" href="nnet-component-itf_8cc_source.html#l00190">Component::Info()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l00227">DistributeComponent::InitFromConfig()</a>.</p>
<div class="fragment"><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>; }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b2919d1c6cfa5f73581f407150374b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2919d1c6cfa5f73581f407150374b6">&#9670;&nbsp;</a></span>PrecomputeIndexes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> * PrecomputeIndexes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1MiscComputationInfo.html">MiscComputationInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>misc_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>output_indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>need_backprop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function must return NULL for simple Components. </p>
<p>Returns a pointer to a class that may contain some precomputed component-specific and computation-specific indexes to be in used in the Propagate and Backprop functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">misc_info</td><td>This argument is supplied to handle things that the framework can't very easily supply: information like which time indexes are needed for AggregateComponent, which time-indexes are available at the input of a recurrent network, and so on. misc_info may not even ever be used here. We will add members to misc_info as needed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_indexes</td><td>A vector of indexes that explains what time-indexes (and other indexes) each row of the in/in_value/in_deriv matrices given to Propagate and Backprop will mean. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_indexes</td><td>A vector of indexes that explains what time-indexes (and other indexes) each row of the out/out_value/out_deriv matrices given to Propagate and Backprop will mean. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">need_backprop</td><td>True if we might need to do backprop with this component, so that if any different indexes are needed for backprop then those should be computed too. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a child-class of class <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a>, or NULL if this component for does not need to precompute any indexes (e.g. if it is a simple component and does not care about indexes). </dd></dl>

<p>Reimplemented from <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ad3829084b3e064ff320153ff4b6cfd44">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01708">1708</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="cu-array-inl_8h_source.html#l00119">CuArray&lt; T &gt;::CopyFromVec()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00898">GeneralDropoutComponent::dim_</a>, <a class="el" href="kaldi-math_8h_source.html#l00286">kaldi::DivideRoundingDown()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="nnet-general-component_8h_source.html#l00937">GeneralDropoutComponentPrecomputedIndexes::indexes</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a>, <a class="el" href="nnet-general-component_8h_source.html#l00929">GeneralDropoutComponentPrecomputedIndexes::num_mask_rows</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00907">GeneralDropoutComponent::time_period_</a>.</p>
<div class="fragment"><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                                {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(input_indexes == output_indexes);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  GeneralDropoutComponentPrecomputedIndexes *ans = <span class="keyword">new</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      GeneralDropoutComponentPrecomputedIndexes;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  int32 size = input_indexes.size(), time_period = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>,</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      cur_row = 0;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  std::vector&lt;int32&gt; indexes(size);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="comment">// the map &#39;m&#39; will map from a pair from (n, t) value to the row-index of the</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="comment">// dropout-mask matrix*.   However, the &#39;t&#39; isn&#39;t a real &#39;t&#39; value;</span></div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="comment">// if time_period_ == 0, the &#39;t&#39; value will just be zero; otherwise,</span></div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="comment">// it will be t divided by time_period_ (rounding towards negative infinity).</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="comment">// *before considering effects related to when block_dim_ != dim_.</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  std::unordered_map&lt;std::pair&lt;int32,int32&gt;, int32, PairHasher&lt;int32&gt; &gt; m;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; size; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    int32 <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a> = input_indexes[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].n,</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        t = (time_period == 0 ? 0 : <a class="code" href="namespacekaldi.html#a1218567d64e05b4e092577270c0bdd98">DivideRoundingDown</a>(input_indexes[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>].t,</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                                                       time_period));</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    std::pair&lt;int32, int32&gt; p(n, t);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    std::unordered_map&lt;std::pair&lt;int32,int32&gt;, int32,</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                       PairHasher&lt;int32&gt; &gt;::const_iterator</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        iter = m.find(p);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span> (iter != m.end()) {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      indexes[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] = iter-&gt;second;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      m[p] = cur_row;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      indexes[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>] = cur_row;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;      cur_row++;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    }</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  }</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  int32 multiple = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a> / <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  ans-&gt;num_mask_rows = cur_row;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keywordflow">if</span> (multiple == 1) {</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    ans-&gt;indexes.CopyFromVec(indexes);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    ans-&gt;num_mask_rows = cur_row * multiple;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    std::vector&lt;int32&gt; repeated_indexes;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    repeated_indexes.reserve(size * multiple);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; size; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      int32 row = indexes[<a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; multiple; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>++)</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        repeated_indexes.push_back(row);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    }</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    ans-&gt;indexes.CopyFromVec(repeated_indexes);</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  }</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="keywordflow">return</span> ans;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;}</div><div class="ttc" id="namespacekaldi_html_a1218567d64e05b4e092577270c0bdd98"><div class="ttname"><a href="namespacekaldi.html#a1218567d64e05b4e092577270c0bdd98">kaldi::DivideRoundingDown</a></div><div class="ttdeci">static int32 DivideRoundingDown(int32 a, int32 b)</div><div class="ttdoc">Returns a / b, rounding towards negative infinity in all cases. </div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8h_source.html#l00286">kaldi-math.h:286</a></div></div>
<div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="namespacernnlm_html_ab4871778d570f724a07823e0a2fb9884"><div class="ttname"><a href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a></div><div class="ttdeci">struct rnnlm::@11::@12 n</div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f1f1b05a170bd81a544caefe1acb040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f1f1b05a170bd81a544caefe1acb040">&#9670;&nbsp;</a></span>Propagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * Propagate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1nnet3_1_1ComponentPrecomputedIndexes.html">ComponentPrecomputedIndexes</a> *&#160;</td>
          <td class="paramname"><em>indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classkaldi_1_1CuMatrixBase.html">CuMatrixBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">indexes</td><td>A pointer to some information output by this class's PrecomputeIndexes function (will be NULL for simple components, i.e. those that don't do things like splicing). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>The input to this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#ad4cb6aed1f1980c2c36f34e09ceea0e0" title="Returns input-dimension of this component. ">InputDim()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>The output of this component. Num-columns == <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a323155ad8034c0b14762dd78ae4415b5" title="Returns output-dimension of this component. ">OutputDim()</a>. Note: output of this component will be added to the initial value of "out" if <a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4a16a6da3a5108ec53e759722a51fd47" title="Return bitmask of the component&#39;s properties. ">Properties()</a>&amp;kPropagateAdds != 0; otherwise the output will be set and the initial value ignored. Each <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a> chooses whether it is more convenient implementation-wise to add or set, and the calling code has to deal with it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Normally returns NULL, but may return a non-NULL value for components which have the flag kUsesMemo set. This value will be passed into the corresponding Backprop routine. </dd></dl>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a342467ad10ff8535abe96768bdf27958">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01545">1545</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="cu-matrix_8cc_source.html#l00339">CuMatrixBase&lt; Real &gt;::CopyFromMat()</a>, <a class="el" href="cu-matrix_8h_source.html#l00689">CuMatrixBase&lt; Real &gt;::Data()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00898">GeneralDropoutComponent::dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00909">GeneralDropoutComponent::dropout_proportion_</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01682">GeneralDropoutComponent::GetMemo()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00937">GeneralDropoutComponentPrecomputedIndexes::indexes</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="cu-matrix_8cc_source.html#l02757">CuMatrixBase&lt; Real &gt;::MulRows()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00929">GeneralDropoutComponentPrecomputedIndexes::num_mask_rows</a>, <a class="el" href="cu-matrix_8h_source.html#l00215">CuMatrixBase&lt; Real &gt;::NumCols()</a>, <a class="el" href="cu-matrix_8h_source.html#l00214">CuMatrixBase&lt; Real &gt;::NumRows()</a>, <a class="el" href="kaldi-matrix_8h_source.html#l01065">kaldi::SameDim()</a>, <a class="el" href="cu-matrix_8h_source.html#l00216">CuMatrixBase&lt; Real &gt;::Stride()</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00913">GeneralDropoutComponent::test_mode_</a>.</p>
<div class="fragment"><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                                        {</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="group__matrix__funcs__io.html#ga07b147212efb08775c252cd4cc7453fe">SameDim</a>(in, *out));</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="comment">// The following will do nothing if &#39;out&#39; and &#39;in&#39; refer to the same data.</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  out-&gt;CopyFromMat(in);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a> || <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a> == 0.0)</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keyword">const</span> GeneralDropoutComponentPrecomputedIndexes *indexes =</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>GeneralDropoutComponentPrecomputedIndexes*<span class="keyword">&gt;</span>(indexes_in);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(indexes != NULL);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  CuMatrix&lt;BaseFloat&gt; *mask = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4dd3ff26d54707ffd47331b7c4192df0">GetMemo</a>(indexes-&gt;num_mask_rows);</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a> &lt; <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>) {</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(out-&gt;Stride() == out-&gt;NumCols());</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    int32 num_rows = out-&gt;NumRows(),</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        dim_multiple = <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>  / <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>,</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        num_rows_reshaped = num_rows * dim_multiple;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    CuSubMatrix&lt;BaseFloat&gt; out_reshaped(out-&gt;Data(), num_rows_reshaped,</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                                        <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>);</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    out_reshaped.MulRows(*mask, indexes-&gt;indexes);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    out-&gt;MulRows(*mask, indexes-&gt;indexes);</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">return</span> mask;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="group__matrix__funcs__io_html_ga07b147212efb08775c252cd4cc7453fe"><div class="ttname"><a href="group__matrix__funcs__io.html#ga07b147212efb08775c252cd4cc7453fe">kaldi::SameDim</a></div><div class="ttdeci">bool SameDim(const MatrixBase&lt; Real &gt; &amp;M, const MatrixBase&lt; Real &gt; &amp;N)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-matrix_8h_source.html#l01065">kaldi-matrix.h:1065</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a4dd3ff26d54707ffd47331b7c4192df0"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a4dd3ff26d54707ffd47331b7c4192df0">kaldi::nnet3::GeneralDropoutComponent::GetMemo</a></div><div class="ttdeci">CuMatrix&lt; BaseFloat &gt; * GetMemo(int32 num_mask_rows) const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8cc_source.html#l01682">nnet-general-component.cc:1682</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a6e61791b6ff20c4e71142b700b0ad79a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">kaldi::nnet3::GeneralDropoutComponent::test_mode_</a></div><div class="ttdeci">bool test_mode_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00913">nnet-general-component.h:913</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a16a6da3a5108ec53e759722a51fd47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a16a6da3a5108ec53e759722a51fd47">&#9670;&nbsp;</a></span>Properties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int32 Properties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return bitmask of the component's properties. </p>
<p>These properties depend only on the component's type. See enum ComponentProperties. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a3a4ff15fafe0c8c4885586fc2c36ca8a">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00856">856</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8cc_source.html#l00194">DistributeComponent::Backprop()</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00069">kaldi::nnet3::kBackpropInPlace</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00075">kaldi::nnet3::kInputContiguous</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00077">kaldi::nnet3::kOutputContiguous</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00049">kaldi::nnet3::kPropagateInPlace</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00082">kaldi::nnet3::kRandomComponent</a>, <a class="el" href="nnet-component-itf_8h_source.html#l00079">kaldi::nnet3::kUsesMemo</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l00180">DistributeComponent::Propagate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                   {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a7526d98193f4d5b839d6026397f6ce0b">kRandomComponent</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2f52823d0c7fdc03b0be47662c66146d">kPropagateInPlace</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3abaa0f1d8521d4753ffae9f2cc22a15df">kBackpropInPlace</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a1713e609229066c956d4c7d544c69658">kUsesMemo</a>|</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a> != <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a> ? (<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2df016ee6a8dfbdac91f5e53f3662a94">kInputContiguous</a>|<a class="code" href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3ab8a5f348ba3b3b42e8943e20b1675dc9">kOutputContiguous</a>) : 0);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div><div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3ab8a5f348ba3b3b42e8943e20b1675dc9"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3ab8a5f348ba3b3b42e8943e20b1675dc9">kaldi::nnet3::kOutputContiguous</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00077">nnet-component-itf.h:77</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a7526d98193f4d5b839d6026397f6ce0b"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a7526d98193f4d5b839d6026397f6ce0b">kaldi::nnet3::kRandomComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00082">nnet-component-itf.h:82</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a1713e609229066c956d4c7d544c69658"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a1713e609229066c956d4c7d544c69658">kaldi::nnet3::kUsesMemo</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00079">nnet-component-itf.h:79</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a2f52823d0c7fdc03b0be47662c66146d"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2f52823d0c7fdc03b0be47662c66146d">kaldi::nnet3::kPropagateInPlace</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00049">nnet-component-itf.h:49</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3abaa0f1d8521d4753ffae9f2cc22a15df"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3abaa0f1d8521d4753ffae9f2cc22a15df">kaldi::nnet3::kBackpropInPlace</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00069">nnet-component-itf.h:69</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a36da016976f88292c0d31653a20cbfe3a2df016ee6a8dfbdac91f5e53f3662a94"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a36da016976f88292c0d31653a20cbfe3a2df016ee6a8dfbdac91f5e53f3662a94">kaldi::nnet3::kInputContiguous</a></div><div class="ttdef"><b>Definition:</b> <a href="nnet-component-itf_8h_source.html#l00075">nnet-component-itf.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e7d2790fc7e94fe9780ccc937de1270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7d2790fc7e94fe9780ccc937de1270">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read function (used after we know the type of the <a class="el" href="classkaldi_1_1nnet3_1_1Component.html" title="Abstract base-class for neural-net components. ">Component</a>); accepts input that is missing the token that describes the component type, in case it has already been consumed. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a5d1c1c5364c25160bfef9dda52480cf5">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01616">1616</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00911">GeneralDropoutComponent::continuous_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00898">GeneralDropoutComponent::dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00909">GeneralDropoutComponent::dropout_proportion_</a>, <a class="el" href="nnet-parse_8cc_source.html#l00224">kaldi::nnet3::ExpectOneOrTwoTokens()</a>, <a class="el" href="nnet-descriptor_8cc_source.html#l00045">kaldi::nnet3::ExpectToken()</a>, <a class="el" href="io-funcs_8cc_source.html#l00170">kaldi::PeekToken()</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00055">kaldi::ReadBasicType()</a>, <a class="el" href="nnet-general-component_8h_source.html#l00913">GeneralDropoutComponent::test_mode_</a>, and <a class="el" href="nnet-general-component_8h_source.html#l00907">GeneralDropoutComponent::time_period_</a>.</p>
<div class="fragment"><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                                              {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#ac9d34dcbb48b22bb0c34f699721b33bc">ExpectOneOrTwoTokens</a>(is, binary, <span class="stringliteral">&quot;&lt;GeneralDropoutComponent&gt;&quot;</span>, <span class="stringliteral">&quot;&lt;Dim&gt;&quot;</span>);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>);</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;BlockDim&gt;&quot;</span>);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;TimePeriod&gt;&quot;</span>);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;DropoutProportion&gt;&quot;</span>);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">ReadBasicType</a>(is, binary, &amp;<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__io__funcs__basic.html#ga1e570a4ecfd1942cc69b8053a6352fdd">PeekToken</a>(is, binary) == <span class="charliteral">&#39;T&#39;</span>) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;TestMode&gt;&quot;</span>);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  }</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__io__funcs__basic.html#ga1e570a4ecfd1942cc69b8053a6352fdd">PeekToken</a>(is, binary) == <span class="charliteral">&#39;C&#39;</span>) {</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;Continuous&gt;&quot;</span>);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;/GeneralDropoutComponent&gt;&quot;</span>);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga1bd1af0ef712b76f2332febcec8d095a"><div class="ttname"><a href="group__io__funcs__basic.html#ga1bd1af0ef712b76f2332febcec8d095a">kaldi::ReadBasicType</a></div><div class="ttdeci">void ReadBasicType(std::istream &amp;is, bool binary, T *t)</div><div class="ttdoc">ReadBasicType is the name of the read function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00055">io-funcs-inl.h:55</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_ac9d34dcbb48b22bb0c34f699721b33bc"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#ac9d34dcbb48b22bb0c34f699721b33bc">kaldi::nnet3::ExpectOneOrTwoTokens</a></div><div class="ttdeci">void ExpectOneOrTwoTokens(std::istream &amp;is, bool binary, const std::string &amp;token1, const std::string &amp;token2)</div><div class="ttdoc">This function is like ExpectToken but for two tokens, and it will either accept token1 and then token...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-parse_8cc_source.html#l00224">nnet-parse.cc:224</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a41114607233f11aab89539abf08cf922"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">kaldi::nnet3::ExpectToken</a></div><div class="ttdeci">static void ExpectToken(const std::string &amp;token, const std::string &amp;what_we_are_parsing, const std::string **next_token)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-descriptor_8cc_source.html#l00045">nnet-descriptor.cc:45</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a6e61791b6ff20c4e71142b700b0ad79a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">kaldi::nnet3::GeneralDropoutComponent::test_mode_</a></div><div class="ttdeci">bool test_mode_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00913">nnet-general-component.h:913</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga1e570a4ecfd1942cc69b8053a6352fdd"><div class="ttname"><a href="group__io__funcs__basic.html#ga1e570a4ecfd1942cc69b8053a6352fdd">kaldi::PeekToken</a></div><div class="ttdeci">int PeekToken(std::istream &amp;is, bool binary)</div><div class="ttdoc">PeekToken will return the first character of the next token, or -1 if end of file. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00170">io-funcs.cc:170</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd2280d19b734e84799bb10e8b1b6f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2280d19b734e84799bb10e8b1b6f9c">&#9670;&nbsp;</a></span>SetDropoutProportion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SetDropoutProportion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00888">888</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-utils_8cc_source.html#l01148">kaldi::nnet3::ReadEditConfig()</a>, and <a class="el" href="nnet-utils_8cc_source.html#l00500">kaldi::nnet3::SetDropoutProportion()</a>.</p>
<div class="fragment"><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;{ <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a> = p; }</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2d951f58073f362411ee482aa469975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d951f58073f362411ee482aa469975">&#9670;&nbsp;</a></span>Type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string such as "SigmoidComponent", describing the type of the object. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#ab6b6147feb5e0688469b735a6546c222">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00855">855</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;GeneralDropoutComponent&quot;</span>; }</div></div><!-- fragment -->
</div>
</div>
<a id="a68f354fd5f096134162f01719096e6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f354fd5f096134162f01719096e6fc">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Write </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write component to stream. </p>

<p>Implements <a class="el" href="classkaldi_1_1nnet3_1_1Component.html#a852bc7306aaa45b284f662f1ddb1a3d5">Component</a>.</p>

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8cc_source.html#l01641">1641</a> of file <a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-general-component_8h_source.html#l00901">GeneralDropoutComponent::block_dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00911">GeneralDropoutComponent::continuous_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00898">GeneralDropoutComponent::dim_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00909">GeneralDropoutComponent::dropout_proportion_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00913">GeneralDropoutComponent::test_mode_</a>, <a class="el" href="nnet-general-component_8h_source.html#l00907">GeneralDropoutComponent::time_period_</a>, <a class="el" href="io-funcs-inl_8h_source.html#l00034">kaldi::WriteBasicType()</a>, and <a class="el" href="io-funcs_8cc_source.html#l00134">kaldi::WriteToken()</a>.</p>
<div class="fragment"><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                                                                     {</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;GeneralDropoutComponent&gt;&quot;</span>);</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;Dim&gt;&quot;</span>);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">dim_</a>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;BlockDim&gt;&quot;</span>);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">block_dim_</a>);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;TimePeriod&gt;&quot;</span>);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">time_period_</a>);</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;DropoutProportion&gt;&quot;</span>);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">WriteBasicType</a>(os, binary, <a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">dropout_proportion_</a>);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">test_mode_</a>)</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;TestMode&gt;&quot;</span>);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">continuous_</a>)</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;Continuous&gt;&quot;</span>);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;/GeneralDropoutComponent&gt;&quot;</span>);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div><div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_af81a6e503d424a0f7d1fbfa7cec9b03d"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#af81a6e503d424a0f7d1fbfa7cec9b03d">kaldi::nnet3::GeneralDropoutComponent::dropout_proportion_</a></div><div class="ttdeci">BaseFloat dropout_proportion_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00909">nnet-general-component.h:909</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a08031ac0ce0b0973ed948e43ebd706be"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a08031ac0ce0b0973ed948e43ebd706be">kaldi::nnet3::GeneralDropoutComponent::dim_</a></div><div class="ttdeci">int32 dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00898">nnet-general-component.h:898</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a1f00bcaeaa5d176253a7dc3f80df71b2"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a1f00bcaeaa5d176253a7dc3f80df71b2">kaldi::nnet3::GeneralDropoutComponent::continuous_</a></div><div class="ttdeci">bool continuous_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00911">nnet-general-component.h:911</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a6e61791b6ff20c4e71142b700b0ad79a"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a6e61791b6ff20c4e71142b700b0ad79a">kaldi::nnet3::GeneralDropoutComponent::test_mode_</a></div><div class="ttdeci">bool test_mode_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00913">nnet-general-component.h:913</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a62ab993f430cb6dfa5c9dedca95791a4"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a62ab993f430cb6dfa5c9dedca95791a4">kaldi::nnet3::GeneralDropoutComponent::block_dim_</a></div><div class="ttdeci">int32 block_dim_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00901">nnet-general-component.h:901</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga87f1638ef3c0a3ee117178b202c2d02a"><div class="ttname"><a href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">kaldi::WriteToken</a></div><div class="ttdeci">void WriteToken(std::ostream &amp;os, bool binary, const char *token)</div><div class="ttdoc">The WriteToken functions are for writing nonempty sequences of non-space characters. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00134">io-funcs.cc:134</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga108506a9aabafd9006926aa1b47617da"><div class="ttname"><a href="group__io__funcs__basic.html#ga108506a9aabafd9006926aa1b47617da">kaldi::WriteBasicType</a></div><div class="ttdeci">void WriteBasicType(std::ostream &amp;os, bool binary, T t)</div><div class="ttdoc">WriteBasicType is the name of the write function for bool, integer types, and floating-point types...</div><div class="ttdef"><b>Definition:</b> <a href="io-funcs-inl_8h_source.html#l00034">io-funcs-inl.h:34</a></div></div>
<div class="ttc" id="classkaldi_1_1nnet3_1_1GeneralDropoutComponent_html_a37944fb18e3042d2c2295a0231098e69"><div class="ttname"><a href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html#a37944fb18e3042d2c2295a0231098e69">kaldi::nnet3::GeneralDropoutComponent::time_period_</a></div><div class="ttdeci">int32 time_period_</div><div class="ttdef"><b>Definition:</b> <a href="nnet-general-component_8h_source.html#l00907">nnet-general-component.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a62ab993f430cb6dfa5c9dedca95791a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ab993f430cb6dfa5c9dedca95791a4">&#9670;&nbsp;</a></span>block_dim_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 block_dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00901">901</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01578">GeneralDropoutComponent::Backprop()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01682">GeneralDropoutComponent::GetMemo()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01662">GeneralDropoutComponent::InitFromConfig()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01708">GeneralDropoutComponent::PrecomputeIndexes()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01545">GeneralDropoutComponent::Propagate()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01616">GeneralDropoutComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l01641">GeneralDropoutComponent::Write()</a>.</p>

</div>
</div>
<a id="a1f00bcaeaa5d176253a7dc3f80df71b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f00bcaeaa5d176253a7dc3f80df71b2">&#9670;&nbsp;</a></span>continuous_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> continuous_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00911">911</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01682">GeneralDropoutComponent::GetMemo()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01662">GeneralDropoutComponent::InitFromConfig()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01616">GeneralDropoutComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l01641">GeneralDropoutComponent::Write()</a>.</p>

</div>
</div>
<a id="a08031ac0ce0b0973ed948e43ebd706be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08031ac0ce0b0973ed948e43ebd706be">&#9670;&nbsp;</a></span>dim_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 dim_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00898">898</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01578">GeneralDropoutComponent::Backprop()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01662">GeneralDropoutComponent::InitFromConfig()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01708">GeneralDropoutComponent::PrecomputeIndexes()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01545">GeneralDropoutComponent::Propagate()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01616">GeneralDropoutComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l01641">GeneralDropoutComponent::Write()</a>.</p>

</div>
</div>
<a id="af81a6e503d424a0f7d1fbfa7cec9b03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af81a6e503d424a0f7d1fbfa7cec9b03d">&#9670;&nbsp;</a></span>dropout_proportion_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> dropout_proportion_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00909">909</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01578">GeneralDropoutComponent::Backprop()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01682">GeneralDropoutComponent::GetMemo()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01662">GeneralDropoutComponent::InitFromConfig()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01545">GeneralDropoutComponent::Propagate()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01616">GeneralDropoutComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l01641">GeneralDropoutComponent::Write()</a>.</p>

</div>
</div>
<a id="a6e61791b6ff20c4e71142b700b0ad79a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e61791b6ff20c4e71142b700b0ad79a">&#9670;&nbsp;</a></span>test_mode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> test_mode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00913">913</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01578">GeneralDropoutComponent::Backprop()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01682">GeneralDropoutComponent::GetMemo()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01662">GeneralDropoutComponent::InitFromConfig()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01545">GeneralDropoutComponent::Propagate()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01616">GeneralDropoutComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l01641">GeneralDropoutComponent::Write()</a>.</p>

</div>
</div>
<a id="a37944fb18e3042d2c2295a0231098e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37944fb18e3042d2c2295a0231098e69">&#9670;&nbsp;</a></span>time_period_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32 time_period_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-general-component_8h_source.html#l00907">907</a> of file <a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-general-component_8cc_source.html#l01662">GeneralDropoutComponent::InitFromConfig()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01708">GeneralDropoutComponent::PrecomputeIndexes()</a>, <a class="el" href="nnet-general-component_8cc_source.html#l01616">GeneralDropoutComponent::Read()</a>, and <a class="el" href="nnet-general-component_8cc_source.html#l01641">GeneralDropoutComponent::Write()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nnet3/<a class="el" href="nnet-general-component_8h_source.html">nnet-general-component.h</a></li>
<li>nnet3/<a class="el" href="nnet-general-component_8cc_source.html">nnet-general-component.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="classkaldi_1_1nnet3_1_1GeneralDropoutComponent.html">GeneralDropoutComponent</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
