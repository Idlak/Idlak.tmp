<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: NnetChainSupervision Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structkaldi_1_1nnet3_1_1NnetChainSupervision.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structkaldi_1_1nnet3_1_1NnetChainSupervision-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NnetChainSupervision Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for NnetChainSupervision:</div>
<div class="dyncontent">
<div class="center"><img src="structkaldi_1_1nnet3_1_1NnetChainSupervision__coll__graph.png" border="0" usemap="#NnetChainSupervision_coll__map" alt="Collaboration graph"/></div>
<map name="NnetChainSupervision_coll__map" id="NnetChainSupervision_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a449042d99911a670a35d6d4177b1ed5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a449042d99911a670a35d6d4177b1ed5d">NnetChainSupervision</a> ()</td></tr>
<tr class="separator:a449042d99911a670a35d6d4177b1ed5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21564fc2c9eabcb0fe507f9bc97d170"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#ac21564fc2c9eabcb0fe507f9bc97d170">NnetChainSupervision</a> (const std::string &amp;<a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, const chain::Supervision &amp;<a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>, const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;<a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>, int32 first_frame, int32 frame_skip)</td></tr>
<tr class="memdesc:ac21564fc2c9eabcb0fe507f9bc97d170"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the object from an object of type chain::Supervision, and some extra information.  <a href="#ac21564fc2c9eabcb0fe507f9bc97d170">More...</a><br /></td></tr>
<tr class="separator:ac21564fc2c9eabcb0fe507f9bc97d170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda0388f41f61052502142d4621f8867"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#afda0388f41f61052502142d4621f8867">NnetChainSupervision</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> &amp;other)</td></tr>
<tr class="separator:afda0388f41f61052502142d4621f8867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f354fd5f096134162f01719096e6fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a68f354fd5f096134162f01719096e6fc">Write</a> (std::ostream &amp;os, <a class="el" href="classbool.html">bool</a> binary) const</td></tr>
<tr class="separator:a68f354fd5f096134162f01719096e6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8e7d2790fc7e94fe9780ccc937de1270">Read</a> (std::istream &amp;is, <a class="el" href="classbool.html">bool</a> binary)</td></tr>
<tr class="separator:a8e7d2790fc7e94fe9780ccc937de1270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec7a3b32fb240beac3bf503575c8dd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aeec7a3b32fb240beac3bf503575c8dd8">Swap</a> (<a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> *other)</td></tr>
<tr class="separator:aeec7a3b32fb240beac3bf503575c8dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb97926cb2b47a58a538a061d20fd1da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">CheckDim</a> () const</td></tr>
<tr class="separator:acb97926cb2b47a58a538a061d20fd1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f9050d9f669d6e467928d5e615a4a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a14f9050d9f669d6e467928d5e615a4a6">operator==</a> (const <a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> &amp;other) const</td></tr>
<tr class="separator:a14f9050d9f669d6e467928d5e615a4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9b45b3e13bd9167aab02e17e08916231"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a></td></tr>
<tr class="memdesc:a9b45b3e13bd9167aab02e17e08916231"><td class="mdescLeft">&#160;</td><td class="mdescRight">the name of the output in the neural net; in simple setups it will just be "output".  <a href="#a9b45b3e13bd9167aab02e17e08916231">More...</a><br /></td></tr>
<tr class="separator:a9b45b3e13bd9167aab02e17e08916231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3daaa77b972f8dace077e94b418aab1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a></td></tr>
<tr class="memdesc:aa3daaa77b972f8dace077e94b418aab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The indexes that the output corresponds to.  <a href="#aa3daaa77b972f8dace077e94b418aab1">More...</a><br /></td></tr>
<tr class="separator:aa3daaa77b972f8dace077e94b418aab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c16338d851b66cb9a9c54c1cc50fc4"><td class="memItemLeft" align="right" valign="top">chain::Supervision&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a></td></tr>
<tr class="memdesc:a70c16338d851b66cb9a9c54c1cc50fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The supervision object, containing the FST.  <a href="#a70c16338d851b66cb9a9c54c1cc50fc4">More...</a><br /></td></tr>
<tr class="separator:a70c16338d851b66cb9a9c54c1cc50fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d33084067542868e1f6d47eadbd6103"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a></td></tr>
<tr class="memdesc:a8d33084067542868e1f6d47eadbd6103"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivative during training (but not during model combination, where the derivatives need to agree with the computed objf values for the optimization code to work).  <a href="#a8d33084067542868e1f6d47eadbd6103">More...</a><br /></td></tr>
<tr class="separator:a8d33084067542868e1f6d47eadbd6103"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8h_source.html#l00043">43</a> of file <a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a449042d99911a670a35d6d4177b1ed5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449042d99911a670a35d6d4177b1ed5d">&#9670;&nbsp;</a></span>NnetChainSupervision() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8h_source.html#l00081">81</a> of file <a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00039">NnetChainSupervision::operator==()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00045">NnetChainSupervision::Read()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00098">NnetChainSupervision::Swap()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00028">NnetChainSupervision::Write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a id="ac21564fc2c9eabcb0fe507f9bc97d170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21564fc2c9eabcb0fe507f9bc97d170">&#9670;&nbsp;</a></span>NnetChainSupervision() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const chain::Supervision &amp;&#160;</td>
          <td class="paramname"><em>supervision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkaldi_1_1VectorBase.html">VectorBase</a>&lt; <a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>deriv_weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>first_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&#160;</td>
          <td class="paramname"><em>frame_skip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the object from an object of type chain::Supervision, and some extra information. </p>
<p>Note: you probably want to set 'name' to "output". 'first_frame' will often be zero but you can choose (just make it consistent with how you numbered your inputs), and 'frame_skip' would be 1 in a vanilla setup, but we plan to try setups where the output periodicity is slower than the input, so in this case it might be 2 or 3. </p>

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00107">107</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00060">NnetChainSupervision::indexes</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, and <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                     :</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>),</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>),</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// note: this will set the &#39;x&#39; index to zero.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.resize(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.num_sequences *</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                 <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.frames_per_sequence);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  int32 k = 0, num_sequences = <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.num_sequences,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      frames_per_sequence = <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.frames_per_sequence;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; frames_per_sequence; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; num_sequences; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>++,k++) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>[k].n = <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>[k].t = <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> * frame_skip + first_frame;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(k == <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.size());</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">CheckDim</a>();</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">kaldi::nnet3::NnetChainSupervision::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">the name of the output in the neural net; in simple setups it will just be &quot;output&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00046">nnet-chain-example.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_acb97926cb2b47a58a538a061d20fd1da"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">kaldi::nnet3::NnetChainSupervision::CheckDim</a></div><div class="ttdeci">void CheckDim() const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8cc_source.html#l00065">nnet-chain-example.cc:65</a></div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afda0388f41f61052502142d4621f8867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda0388f41f61052502142d4621f8867">&#9670;&nbsp;</a></span>NnetChainSupervision() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00092">92</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                                                           :</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(other.name),</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>(other.indexes),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>(other.supervision),</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>(other.deriv_weights) { <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">CheckDim</a>(); }</div><div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">kaldi::nnet3::NnetChainSupervision::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">the name of the output in the neural net; in simple setups it will just be &quot;output&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00046">nnet-chain-example.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_acb97926cb2b47a58a538a061d20fd1da"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">kaldi::nnet3::NnetChainSupervision::CheckDim</a></div><div class="ttdeci">void CheckDim() const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8cc_source.html#l00065">nnet-chain-example.cc:65</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acb97926cb2b47a58a538a061d20fd1da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb97926cb2b47a58a538a061d20fd1da">&#9670;&nbsp;</a></span>CheckDim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00065">65</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8h_source.html#l00077">NnetChainSupervision::deriv_weights</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::i</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00060">NnetChainSupervision::indexes</a>, <a class="el" href="mikolov-rnnlm-lib_8cc_source.html#l00066">rnnlm::j</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a>, and <a class="el" href="nnet-chain-example_8h_source.html#l00064">NnetChainSupervision::supervision</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8cc_source.html#l00195">kaldi::nnet3::MergeSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00092">NnetChainSupervision::NnetChainSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00045">NnetChainSupervision::Read()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00098">NnetChainSupervision::Swap()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00028">NnetChainSupervision::Write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                          {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.frames_per_sequence == -1) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// this object has not been set up.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.empty());</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.size() == <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.num_sequences *</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;               <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.frames_per_sequence &amp;&amp; !<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.empty() &amp;&amp;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;               <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.frames_per_sequence &gt; 1);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  int32 first_frame = <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>[0].t,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      frame_skip = <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>[<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.num_sequences].t - first_frame,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      num_sequences = <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.num_sequences,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      frames_per_sequence = <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.frames_per_sequence;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  int32 k = 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; frames_per_sequence; <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">for</span> (int32 <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> = 0; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a> &lt; num_sequences; <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>++,k++) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      int32 <a class="code" href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">n</a> = <a class="code" href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">j</a>, t = <a class="code" href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">i</a> * frame_skip + first_frame, x = 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      Index index(n, t, x);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>[k] == index);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.Dim() != 0) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.Dim() == <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.size());</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.Min() &gt;= 0.0);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="namespacernnlm_html_a37d972ae0b47b9099e30983131d31916"><div class="ttname"><a href="namespacernnlm.html#a37d972ae0b47b9099e30983131d31916">rnnlm::j</a></div><div class="ttdeci">int j</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="namespacernnlm_html_ab4871778d570f724a07823e0a2fb9884"><div class="ttname"><a href="namespacernnlm.html#ab4871778d570f724a07823e0a2fb9884">rnnlm::n</a></div><div class="ttdeci">struct rnnlm::@11::@12 n</div></div>
<div class="ttc" id="namespacernnlm_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="namespacernnlm.html#acb559820d9ca11295b4500f179ef6392">rnnlm::i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="mikolov-rnnlm-lib_8cc_source.html#l00066">mikolov-rnnlm-lib.cc:66</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14f9050d9f669d6e467928d5e615a4a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14f9050d9f669d6e467928d5e615a4a6">&#9670;&nbsp;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00039">39</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8h_source.html#l00077">NnetChainSupervision::deriv_weights</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00060">NnetChainSupervision::indexes</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00046">NnetChainSupervision::name</a>, and <a class="el" href="nnet-chain-example_8h_source.html#l00064">NnetChainSupervision::supervision</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8h_source.html#l00081">NnetChainSupervision::NnetChainSupervision()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                                                               {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a> == other.name &amp;&amp; <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a> == other.indexes &amp;&amp;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a> == other.supervision &amp;&amp;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.ApproxEqual(other.deriv_weights);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div><div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">kaldi::nnet3::NnetChainSupervision::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">the name of the output in the neural net; in simple setups it will just be &quot;output&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00046">nnet-chain-example.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e7d2790fc7e94fe9780ccc937de1270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7d2790fc7e94fe9780ccc937de1270">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00045">45</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00077">NnetChainSupervision::deriv_weights</a>, <a class="el" href="nnet-descriptor_8cc_source.html#l00045">kaldi::nnet3::ExpectToken()</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00060">NnetChainSupervision::indexes</a>, <a class="el" href="kaldi-error_8h_source.html#l00168">KALDI_ASSERT</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00046">NnetChainSupervision::name</a>, <a class="el" href="nnet-common_8cc_source.html#l00143">kaldi::nnet3::ReadIndexVector()</a>, <a class="el" href="io-funcs_8cc_source.html#l00154">kaldi::ReadToken()</a>, <a class="el" href="nnet-example-utils_8cc_source.html#l00258">kaldi::nnet3::ReadVectorAsChar()</a>, and <a class="el" href="nnet-chain-example_8h_source.html#l00064">NnetChainSupervision::supervision</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8h_source.html#l00081">NnetChainSupervision::NnetChainSupervision()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00157">NnetChainExample::Read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                                           {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;NnetChainSup&gt;&quot;</span>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">ReadToken</a>(is, binary, &amp;<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#af2069492e6a46f0c6b003a52cf87e2f7">ReadIndexVector</a>(is, binary, &amp;<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.Read(is, binary);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  std::string token;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">ReadToken</a>(is, binary, &amp;token);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">// in the future this back-compatibility code can be reworked.</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (token != <span class="stringliteral">&quot;&lt;/NnetChainSup&gt;&quot;</span>) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a>(token == <span class="stringliteral">&quot;&lt;DW&gt;&quot;</span> || token == <span class="stringliteral">&quot;&lt;DW2&gt;&quot;</span>);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;&lt;DW&gt;&quot;</span>)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="namespacekaldi_1_1nnet3.html#ab0cef9b2b234213283405e33de875310">ReadVectorAsChar</a>(is, binary, &amp;<a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.Read(is, binary);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">ExpectToken</a>(is, binary, <span class="stringliteral">&quot;&lt;/NnetChainSup&gt;&quot;</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">CheckDim</a>();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div><div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_gacbf9367cd910befefa0bc98055979bea"><div class="ttname"><a href="group__io__funcs__basic.html#gacbf9367cd910befefa0bc98055979bea">kaldi::ReadToken</a></div><div class="ttdeci">void ReadToken(std::istream &amp;is, bool binary, std::string *str)</div><div class="ttdoc">ReadToken gets the next token and puts it in str (exception on failure). </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00154">io-funcs.cc:154</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">kaldi::nnet3::NnetChainSupervision::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">the name of the output in the neural net; in simple setups it will just be &quot;output&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00046">nnet-chain-example.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_acb97926cb2b47a58a538a061d20fd1da"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">kaldi::nnet3::NnetChainSupervision::CheckDim</a></div><div class="ttdeci">void CheckDim() const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8cc_source.html#l00065">nnet-chain-example.cc:65</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_a41114607233f11aab89539abf08cf922"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a41114607233f11aab89539abf08cf922">kaldi::nnet3::ExpectToken</a></div><div class="ttdeci">static void ExpectToken(const std::string &amp;token, const std::string &amp;what_we_are_parsing, const std::string **next_token)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-descriptor_8cc_source.html#l00045">nnet-descriptor.cc:45</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_af2069492e6a46f0c6b003a52cf87e2f7"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#af2069492e6a46f0c6b003a52cf87e2f7">kaldi::nnet3::ReadIndexVector</a></div><div class="ttdeci">void ReadIndexVector(std::istream &amp;is, bool binary, std::vector&lt; Index &gt; *vec)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-common_8cc_source.html#l00143">nnet-common.cc:143</a></div></div>
<div class="ttc" id="group__error__group_html_gad5710173d69cddcda4fa21ded3c77f16"><div class="ttname"><a href="group__error__group.html#gad5710173d69cddcda4fa21ded3c77f16">KALDI_ASSERT</a></div><div class="ttdeci">#define KALDI_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-error_8h_source.html#l00168">kaldi-error.h:168</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
<div class="ttc" id="namespacekaldi_1_1nnet3_html_ab0cef9b2b234213283405e33de875310"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#ab0cef9b2b234213283405e33de875310">kaldi::nnet3::ReadVectorAsChar</a></div><div class="ttdeci">void ReadVectorAsChar(std::istream &amp;is, bool binary, Vector&lt; BaseFloat &gt; *vec)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-example-utils_8cc_source.html#l00258">nnet-example-utils.cc:258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeec7a3b32fb240beac3bf503575c8dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeec7a3b32fb240beac3bf503575c8dd8">&#9670;&nbsp;</a></span>Swap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Swap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00098">98</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00077">NnetChainSupervision::deriv_weights</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00060">NnetChainSupervision::indexes</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00046">NnetChainSupervision::name</a>, <a class="el" href="kaldi-math_8cc_source.html#l00094">kaldi::RandInt()</a>, and <a class="el" href="nnet-chain-example_8h_source.html#l00064">NnetChainSupervision::supervision</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8h_source.html#l00081">NnetChainSupervision::NnetChainSupervision()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                                           {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>.swap(other-&gt;name);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>.swap(other-&gt;indexes);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.Swap(&amp;(other-&gt;supervision));</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.Swap(&amp;(other-&gt;deriv_weights));</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacekaldi.html#a0361eab3c5ebb78e6be060e6fa78e1a1">RandInt</a>(0, 5) == 0)</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">CheckDim</a>();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">kaldi::nnet3::NnetChainSupervision::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">the name of the output in the neural net; in simple setups it will just be &quot;output&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00046">nnet-chain-example.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_acb97926cb2b47a58a538a061d20fd1da"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">kaldi::nnet3::NnetChainSupervision::CheckDim</a></div><div class="ttdeci">void CheckDim() const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8cc_source.html#l00065">nnet-chain-example.cc:65</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
<div class="ttc" id="namespacekaldi_html_a0361eab3c5ebb78e6be060e6fa78e1a1"><div class="ttname"><a href="namespacekaldi.html#a0361eab3c5ebb78e6be060e6fa78e1a1">kaldi::RandInt</a></div><div class="ttdeci">int32 RandInt(int32 min_val, int32 max_val, struct RandomState *state)</div><div class="ttdef"><b>Definition:</b> <a href="kaldi-math_8cc_source.html#l00094">kaldi-math.cc:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68f354fd5f096134162f01719096e6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f354fd5f096134162f01719096e6fc">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Write </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8cc_source.html#l00028">28</a> of file <a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a>.</p>

<p class="reference">References <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00077">NnetChainSupervision::deriv_weights</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00060">NnetChainSupervision::indexes</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00046">NnetChainSupervision::name</a>, <a class="el" href="nnet-chain-example_8h_source.html#l00064">NnetChainSupervision::supervision</a>, <a class="el" href="nnet-common_8cc_source.html#l00126">kaldi::nnet3::WriteIndexVector()</a>, and <a class="el" href="io-funcs_8cc_source.html#l00134">kaldi::WriteToken()</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8h_source.html#l00081">NnetChainSupervision::NnetChainSupervision()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                                                                  {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">CheckDim</a>();</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;NnetChainSup&gt;&quot;</span>);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="namespacekaldi_1_1nnet3.html#a6d9bd2f8bc49b5d2d7dec9b2d354ffc9">WriteIndexVector</a>(os, binary, <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">indexes</a>);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">supervision</a>.Write(os, binary);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;DW2&gt;&quot;</span>);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">deriv_weights</a>.Write(os, binary);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">WriteToken</a>(os, binary, <span class="stringliteral">&quot;&lt;/NnetChainSup&gt;&quot;</span>);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="ttc" id="namespacekaldi_1_1nnet3_html_a6d9bd2f8bc49b5d2d7dec9b2d354ffc9"><div class="ttname"><a href="namespacekaldi_1_1nnet3.html#a6d9bd2f8bc49b5d2d7dec9b2d354ffc9">kaldi::nnet3::WriteIndexVector</a></div><div class="ttdeci">void WriteIndexVector(std::ostream &amp;os, bool binary, const std::vector&lt; Index &gt; &amp;vec)</div><div class="ttdef"><b>Definition:</b> <a href="nnet-common_8cc_source.html#l00126">nnet-common.cc:126</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a8d33084067542868e1f6d47eadbd6103"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a8d33084067542868e1f6d47eadbd6103">kaldi::nnet3::NnetChainSupervision::deriv_weights</a></div><div class="ttdeci">Vector&lt; BaseFloat &gt; deriv_weights</div><div class="ttdoc">This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivat...</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00077">nnet-chain-example.h:77</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a70c16338d851b66cb9a9c54c1cc50fc4"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a70c16338d851b66cb9a9c54c1cc50fc4">kaldi::nnet3::NnetChainSupervision::supervision</a></div><div class="ttdeci">chain::Supervision supervision</div><div class="ttdoc">The supervision object, containing the FST. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00064">nnet-chain-example.h:64</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#a9b45b3e13bd9167aab02e17e08916231">kaldi::nnet3::NnetChainSupervision::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">the name of the output in the neural net; in simple setups it will just be &quot;output&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00046">nnet-chain-example.h:46</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_acb97926cb2b47a58a538a061d20fd1da"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#acb97926cb2b47a58a538a061d20fd1da">kaldi::nnet3::NnetChainSupervision::CheckDim</a></div><div class="ttdeci">void CheckDim() const</div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8cc_source.html#l00065">nnet-chain-example.cc:65</a></div></div>
<div class="ttc" id="group__io__funcs__basic_html_ga87f1638ef3c0a3ee117178b202c2d02a"><div class="ttname"><a href="group__io__funcs__basic.html#ga87f1638ef3c0a3ee117178b202c2d02a">kaldi::WriteToken</a></div><div class="ttdeci">void WriteToken(std::ostream &amp;os, bool binary, const char *token)</div><div class="ttdoc">The WriteToken functions are for writing nonempty sequences of non-space characters. </div><div class="ttdef"><b>Definition:</b> <a href="io-funcs_8cc_source.html#l00134">io-funcs.cc:134</a></div></div>
<div class="ttc" id="structkaldi_1_1nnet3_1_1NnetChainSupervision_html_aa3daaa77b972f8dace077e94b418aab1"><div class="ttname"><a href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html#aa3daaa77b972f8dace077e94b418aab1">kaldi::nnet3::NnetChainSupervision::indexes</a></div><div class="ttdeci">std::vector&lt; Index &gt; indexes</div><div class="ttdoc">The indexes that the output corresponds to. </div><div class="ttdef"><b>Definition:</b> <a href="nnet-chain-example_8h_source.html#l00060">nnet-chain-example.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8d33084067542868e1f6d47eadbd6103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d33084067542868e1f6d47eadbd6103">&#9670;&nbsp;</a></span>deriv_weights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkaldi_1_1Vector.html">Vector</a>&lt;<a class="el" href="namespacekaldi.html#aa66ff8367094543664b3b6a13d77c139">BaseFloat</a>&gt; deriv_weights</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a vector of per-frame weights, required to be between 0 and 1, that is applied to the derivative during training (but not during model combination, where the derivatives need to agree with the computed objf values for the optimization code to work). </p>
<p>The reason for this is to more exactly handle edge effects and to ensure that no frames are 'double-counted'. The order of this vector corresponds to the order of the 'indexes' (i.e. all the first frames, then all the second frames, etc.) If this vector is empty it means we're not applying per-frame weights, so it's equivalent to a vector of all ones. This vector is written to disk compactly as unsigned char. </p>

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8h_source.html#l00077">77</a> of file <a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00195">kaldi::nnet3::MergeSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00039">NnetChainSupervision::operator==()</a>, <a class="el" href="nnet-chain-training_8cc_source.html#l00283">NnetChainTrainer::ProcessOutputs()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00045">NnetChainSupervision::Read()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00098">NnetChainSupervision::Swap()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00028">NnetChainSupervision::Write()</a>.</p>

</div>
</div>
<a id="aa3daaa77b972f8dace077e94b418aab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3daaa77b972f8dace077e94b418aab1">&#9670;&nbsp;</a></span>indexes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structkaldi_1_1nnet3_1_1Index.html">Index</a>&gt; indexes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The indexes that the output corresponds to. </p>
<p>The size of this vector will be equal to supervision.num_sequences * supervision.frames_per_sequence. Be careful about the order of these indexes&ndash; it is a little confusing. The indexes in the 'index' vector are ordered as: (frame 0 of each sequence); (frame 1 of each sequence); and so on. But in the 'supervision' object, the FST contains (sequence 0; sequence 1; ...). So reordering is needed when doing the numerator computation. We order 'indexes' in this way for efficiency in the denominator computation (it helps memory locality), as well as to avoid the need for the nnet to reorder things internally to match the requested output (for layers inside the neural net, the ordering is (frame 0; frame 1 ...) as this corresponds to the order you get when you sort a vector of <a class="el" href="structkaldi_1_1nnet3_1_1Index.html" title="struct Index is intended to represent the various indexes by which we number the rows of the matrices...">Index</a>). </p>

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8h_source.html#l00060">60</a> of file <a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00290">kaldi::nnet3::GetChainComputationRequest()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00195">kaldi::nnet3::MergeSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00107">NnetChainSupervision::NnetChainSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00400">NnetChainExampleStructureHasher::operator()()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00039">NnetChainSupervision::operator==()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00045">NnetChainSupervision::Read()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00098">NnetChainSupervision::Swap()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00028">NnetChainSupervision::Write()</a>.</p>

</div>
</div>
<a id="a9b45b3e13bd9167aab02e17e08916231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b45b3e13bd9167aab02e17e08916231">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the name of the output in the neural net; in simple setups it will just be "output". </p>

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8h_source.html#l00046">46</a> of file <a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-example_8cc_source.html#l00290">kaldi::nnet3::GetChainComputationRequest()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00195">kaldi::nnet3::MergeSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00400">NnetChainExampleStructureHasher::operator()()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00039">NnetChainSupervision::operator==()</a>, <a class="el" href="nnet-chain-training_8cc_source.html#l00283">NnetChainTrainer::ProcessOutputs()</a>, <a class="el" href="nnet-chain-diagnostics_8cc_source.html#l00115">NnetChainComputeProb::ProcessOutputs()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00045">NnetChainSupervision::Read()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00098">NnetChainSupervision::Swap()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00028">NnetChainSupervision::Write()</a>.</p>

</div>
</div>
<a id="a70c16338d851b66cb9a9c54c1cc50fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c16338d851b66cb9a9c54c1cc50fc4">&#9670;&nbsp;</a></span>supervision</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">chain::Supervision supervision</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The supervision object, containing the FST. </p>

<p class="definition">Definition at line <a class="el" href="nnet-chain-example_8h_source.html#l00064">64</a> of file <a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="nnet-chain-training_8cc_source.html#l00114">ChainTrainerMemoryHolder::ChainTrainerMemoryHolder()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00065">NnetChainSupervision::CheckDim()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00195">kaldi::nnet3::MergeSupervision()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00039">NnetChainSupervision::operator==()</a>, <a class="el" href="nnet-chain-training_8cc_source.html#l00283">NnetChainTrainer::ProcessOutputs()</a>, <a class="el" href="nnet-chain-diagnostics_8cc_source.html#l00115">NnetChainComputeProb::ProcessOutputs()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00045">NnetChainSupervision::Read()</a>, <a class="el" href="nnet-chain-example_8cc_source.html#l00098">NnetChainSupervision::Swap()</a>, and <a class="el" href="nnet-chain-example_8cc_source.html#l00028">NnetChainSupervision::Write()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>nnet3/<a class="el" href="nnet-chain-example_8h_source.html">nnet-chain-example.h</a></li>
<li>nnet3/<a class="el" href="nnet-chain-example_8cc_source.html">nnet-chain-example.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacekaldi.html">kaldi</a></li><li class="navelem"><a class="el" href="namespacekaldi_1_1nnet3.html">nnet3</a></li><li class="navelem"><a class="el" href="structkaldi_1_1nnet3_1_1NnetChainSupervision.html">NnetChainSupervision</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
