<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kaldi: nnet3/nnet-optimize-utils.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" /> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <td id="projectlogo"><a href="http://kaldi-asr.org/"><img alt="Logo" src="KaldiTextAndLogoSmall.png"/ style="padding: 3px 5px 1px 5px"></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname" style="display:none">Kaldi
   </div>
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief" style="display:none"></div>
    </td>
   <!--END PROJECT_BRIEF-->
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nnet-optimize-utils_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nnet-optimize-utils.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;map&gt;</code><br />
<code>#include &quot;<a class="el" href="nnet-optimize-utils_8h_source.html">nnet3/nnet-optimize-utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nnet-optimize_8h_source.html">nnet3/nnet-optimize.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for nnet-optimize-utils.cc:</div>
<div class="dyncontent">
<div class="center"><img src="nnet-optimize-utils_8cc__incl.png" border="0" usemap="#nnet3_2nnet-optimize-utils_8cc" alt=""/></div>
<map name="nnet3_2nnet-optimize-utils_8cc" id="nnet3_2nnet-optimize-utils_8cc">
</map>
</div>
</div>
<p><a href="nnet-optimize-utils_8cc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ComputationRenumberer.html">ComputationRenumberer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1ComputationRenumberer_1_1SubMatrixHasher.html">ComputationRenumberer::SubMatrixHasher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1ComputationRenumberer_1_1PointerCompare.html">ComputationRenumberer::PointerCompare&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1MatrixExtender.html">MatrixExtender</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ModelUpdateConsolidator.html">ModelUpdateConsolidator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is responsible for consolidating the model-update part of backprop commands, for components in (e.g.) recurrent networks that need to have many separate backprop commands, into more efficient single commands operating on consolidated data in larger matrices.  <a href="classkaldi_1_1nnet3_1_1ModelUpdateConsolidator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1RowOpsSplitter.html">RowOpsSplitter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1RowOpsSplitter_1_1SingleSplitInfo.html">RowOpsSplitter::SingleSplitInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1RowOpsSplitter_1_1MultiIndexSplitInfo.html">RowOpsSplitter::MultiIndexSplitInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ComputationExpander.html">ComputationExpander</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1ComputationLoopedOptimizer.html">ComputationLoopedOptimizer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1CommandPairComparator.html">CommandPairComparator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkaldi_1_1nnet3_1_1MemoryCompressionOptimizer.html">MemoryCompressionOptimizer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is used in the function <a class="el" href="namespacekaldi_1_1nnet3.html#a10b449e04f7115cc85d295440638fade" title="Performs optimization to reduce memory usage where possible, making use of the kCompressMatrix and kD...">OptimizeMemoryCompression()</a>, once we determine that there is some potential to do memory compression for this computation.  <a href="classkaldi_1_1nnet3_1_1MemoryCompressionOptimizer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkaldi_1_1nnet3_1_1MemoryCompressionOptimizer_1_1MatrixCompressInfo.html">MemoryCompressionOptimizer::MatrixCompressInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacekaldi"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi.html">kaldi</a></td></tr>
<tr class="memdesc:namespacekaldi"><td class="mdescLeft">&#160;</td><td class="mdescRight">Relabels neural network egs with the read pdf-id alignments. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacekaldi_1_1nnet3"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html">kaldi::nnet3</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2ec833031232462f45b425a8a5503489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a2ec833031232462f45b425a8a5503489">IdentifySubmatrixArgs</a> (NnetComputation::Command *command, std::vector&lt; int32 * &gt; *submatrix_args)</td></tr>
<tr class="memdesc:a2ec833031232462f45b425a8a5503489"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function outputs to "submatrix_args" the addresses of a subset of arguments arg1 through arg6 in "command", that correspond to the indexes of submatrices.  <a href="namespacekaldi_1_1nnet3.html#a2ec833031232462f45b425a8a5503489">More...</a><br /></td></tr>
<tr class="separator:a2ec833031232462f45b425a8a5503489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8664deabb618f4c3dc3d99d8462ea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aac8664deabb618f4c3dc3d99d8462ea1">IdentifySubmatrixArgs</a> (std::vector&lt; NnetComputation::Command &gt; *commands, std::vector&lt; int32 * &gt; *submatrix_args)</td></tr>
<tr class="memdesc:aac8664deabb618f4c3dc3d99d8462ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function outputs to "submatrix_args" the addresses of the args (arguments arg1 through arg6) in the vector "commands", that correspond to the indexes of submatrices.  <a href="namespacekaldi_1_1nnet3.html#aac8664deabb618f4c3dc3d99d8462ea1">More...</a><br /></td></tr>
<tr class="separator:aac8664deabb618f4c3dc3d99d8462ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8592f4c16a6a1b36c06dccda5511316"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ae8592f4c16a6a1b36c06dccda5511316">IdentifyMatrixArgsInComputation</a> (NnetComputation *computation, std::vector&lt; int32 *&gt; *matrix_args)</td></tr>
<tr class="separator:ae8592f4c16a6a1b36c06dccda5511316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96b480d0b6d2b5890e1490f8c2e6ac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af96b480d0b6d2b5890e1490f8c2e6ac0">IdentifyIndexesMultiArgs</a> (std::vector&lt; NnetComputation::Command &gt; *commands, std::vector&lt; int32 * &gt; *indexes_multi_args)</td></tr>
<tr class="memdesc:af96b480d0b6d2b5890e1490f8c2e6ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies in the vector of commands, arguments that correspond to indexes into the computation's indexes_multi array, and outputs a list of pointers to those arguments to 'indexes_multi_args'.  <a href="namespacekaldi_1_1nnet3.html#af96b480d0b6d2b5890e1490f8c2e6ac0">More...</a><br /></td></tr>
<tr class="separator:af96b480d0b6d2b5890e1490f8c2e6ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17acd598bf1ced7e83e0c8a8569d224f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a17acd598bf1ced7e83e0c8a8569d224f">IdentifyIndexesRangesArgs</a> (std::vector&lt; NnetComputation::Command &gt; *commands, std::vector&lt; int32 * &gt; *indexes_ranges_args)</td></tr>
<tr class="memdesc:a17acd598bf1ced7e83e0c8a8569d224f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies in the vector of commands, arguments that correspond to indexes into the computation's 'indexes_ranges' array, and outputs a list of pointers to those arguments to 'indexes_ranges_args'.  <a href="namespacekaldi_1_1nnet3.html#a17acd598bf1ced7e83e0c8a8569d224f">More...</a><br /></td></tr>
<tr class="separator:a17acd598bf1ced7e83e0c8a8569d224f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6950699c83d835e55f003f89bb92bc80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a6950699c83d835e55f003f89bb92bc80">IdentifyIndexesArgs</a> (std::vector&lt; NnetComputation::Command &gt; *commands, std::vector&lt; int32 * &gt; *indexes_args)</td></tr>
<tr class="memdesc:a6950699c83d835e55f003f89bb92bc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies in the vector of commands, arguments that correspond to indexes into the computation's 'indexes' array, and outputs a list of pointers to those arguments to 'indexes_args'.  <a href="namespacekaldi_1_1nnet3.html#a6950699c83d835e55f003f89bb92bc80">More...</a><br /></td></tr>
<tr class="separator:a6950699c83d835e55f003f89bb92bc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87da4e8a0e1880438bf77e8a34b4143"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af87da4e8a0e1880438bf77e8a34b4143">IdentifySubmatrixArgsInComputation</a> (NnetComputation *computation, std::vector&lt; int32 * &gt; *submatrix_args)</td></tr>
<tr class="memdesc:af87da4e8a0e1880438bf77e8a34b4143"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function outputs to "submatrix_args" the addresses of integers in 'computation' that correspond to submatrices.  <a href="namespacekaldi_1_1nnet3.html#af87da4e8a0e1880438bf77e8a34b4143">More...</a><br /></td></tr>
<tr class="separator:af87da4e8a0e1880438bf77e8a34b4143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6828e427bd8883455705e0c9b99b5f2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a6828e427bd8883455705e0c9b99b5f2f">RenumberComputation</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:a6828e427bd8883455705e0c9b99b5f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function detects submatrices and matrices that are never used (e.g.  <a href="namespacekaldi_1_1nnet3.html#a6828e427bd8883455705e0c9b99b5f2f">More...</a><br /></td></tr>
<tr class="separator:a6828e427bd8883455705e0c9b99b5f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ebe9f7e8bfc061d7582b3964698e4e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ae3ebe9f7e8bfc061d7582b3964698e4e">IsNoop</a> (const NnetComputation::Command &amp;command)</td></tr>
<tr class="separator:ae3ebe9f7e8bfc061d7582b3964698e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1146f4efa141a56210f9dbf1090b20f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a1146f4efa141a56210f9dbf1090b20f0">RemoveNoOps</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:a1146f4efa141a56210f9dbf1090b20f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes commands of type kNoOperation in the computation.  <a href="namespacekaldi_1_1nnet3.html#a1146f4efa141a56210f9dbf1090b20f0">More...</a><br /></td></tr>
<tr class="separator:a1146f4efa141a56210f9dbf1090b20f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86704308a1467b6000867cc9ed198482"><td class="memItemLeft" align="right" valign="top">static NnetComputation::SubMatrixInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a86704308a1467b6000867cc9ed198482">GetSubMatrixOfSubMatrix</a> (const NnetComputation &amp;computation, int32 submat_a, int32 submat_b)</td></tr>
<tr class="memdesc:a86704308a1467b6000867cc9ed198482"><td class="mdescLeft">&#160;</td><td class="mdescRight">This static function returns a SubMatrixInfo corresponding to replacing the matrix-index in a's "matrix_index" with, essentially, sub-matrix b.  <a href="namespacekaldi_1_1nnet3.html#a86704308a1467b6000867cc9ed198482">More...</a><br /></td></tr>
<tr class="separator:a86704308a1467b6000867cc9ed198482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1adea5ddcf5f2d26ee01d796ec13510c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a1adea5ddcf5f2d26ee01d796ec13510c">ExtendMatrices</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:a1adea5ddcf5f2d26ee01d796ec13510c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is not really an optimization in itself but it can make things easier for class <a class="el" href="classkaldi_1_1nnet3_1_1VariableMergingOptimizer.html" title="This class is responsible for merging matrices, although you probably want to access it via the the f...">VariableMergingOptimizer</a> (usually called by its wrapper <a class="el" href="namespacekaldi_1_1nnet3.html#a7918fc2d6dfa22dbc84913c63be8771b" title="This wraps class VariableMergingOptimizer in a simplified interface. ">VariableMergingOptimization()</a>).  <a href="namespacekaldi_1_1nnet3.html#a1adea5ddcf5f2d26ee01d796ec13510c">More...</a><br /></td></tr>
<tr class="separator:a1adea5ddcf5f2d26ee01d796ec13510c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af512f7de6c401fbdf7013d62295df9c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af512f7de6c401fbdf7013d62295df9c2">ConsolidateModelUpdate</a> (const Nnet &amp;nnet, NnetComputation *computation)</td></tr>
<tr class="memdesc:af512f7de6c401fbdf7013d62295df9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This optimization consolidates the model-update part of backprop commands, for components in (e.g.) recurrent networks that need to have many separate backprop commands, into more efficient single commands operating on consolidated data in larger matrices.  <a href="namespacekaldi_1_1nnet3.html#af512f7de6c401fbdf7013d62295df9c2">More...</a><br /></td></tr>
<tr class="separator:af512f7de6c401fbdf7013d62295df9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed9b871bd28649b80165dc1af5d1a98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a6ed9b871bd28649b80165dc1af5d1a98">LimitDerivativeTimes</a> (const Nnet &amp;nnet, int32 min_deriv_time, int32 max_deriv_time, NnetComputation *computation)</td></tr>
<tr class="separator:a6ed9b871bd28649b80165dc1af5d1a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68068a73dabd55faade8d658a56f277b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a68068a73dabd55faade8d658a56f277b">IndexesHaveSpecialStructure</a> (const std::vector&lt; int32 &gt; &amp;indexes, int32 *first_nonnegative_pos, int32 *first_nonnegative_value, int32 *num_nonnegative_indexes)</td></tr>
<tr class="separator:a68068a73dabd55faade8d658a56f277b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281a103d9beaef2e5d64370754800cd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a281a103d9beaef2e5d64370754800cd1">ReplaceRowWithMatrixOps</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:a281a103d9beaef2e5d64370754800cd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function detects cases where commands of type kCopyRows, kAddRows or kAddToRows can be converted to commands of type kMatrixCopy or kMatrixAdd, and converts them (this may involve adding submatrices).  <a href="namespacekaldi_1_1nnet3.html#a281a103d9beaef2e5d64370754800cd1">More...</a><br /></td></tr>
<tr class="separator:a281a103d9beaef2e5d64370754800cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9b56c9f5c5545ab2ab957cec8c56cc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#aba9b56c9f5c5545ab2ab957cec8c56cc">FindNumLeadingAndTrailingNegatives</a> (const std::vector&lt; int32 &gt; &amp;vec, int32 *num_leading_negatives, int32 *num_trailing_negatives)</td></tr>
<tr class="separator:aba9b56c9f5c5545ab2ab957cec8c56cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e6e35ab79257514b799d2ebe48ed20"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a59e6e35ab79257514b799d2ebe48ed20">SnipSingleRowOp</a> (NnetComputation *computation, int32 command_index)</td></tr>
<tr class="separator:a59e6e35ab79257514b799d2ebe48ed20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf4a43da0663edcee53e2942e53ae2e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#abbf4a43da0663edcee53e2942e53ae2e">FindNumLeadingAndTrailingNegatives</a> (const std::vector&lt; std::pair&lt; int32, int32 &gt; &gt; &amp;vec, int32 *num_leading_negatives, int32 *num_trailing_negatives)</td></tr>
<tr class="separator:abbf4a43da0663edcee53e2942e53ae2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b9a053089365f8c8d0f3e5436d66a4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af8b9a053089365f8c8d0f3e5436d66a4">SnipMultiRowOp</a> (NnetComputation *computation, int32 command_index)</td></tr>
<tr class="separator:af8b9a053089365f8c8d0f3e5436d66a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9243d8740392f619af25f0653afa9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#abd9243d8740392f619af25f0653afa9e">FindNumLeadingAndTrailingIdenticals</a> (const std::vector&lt; std::pair&lt; int32, int32 &gt; &gt; &amp;vec, int32 *num_leading_identicals, int32 *num_trailing_identicals)</td></tr>
<tr class="separator:abd9243d8740392f619af25f0653afa9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c29cb7ac7e40e18309451b6f8a193bd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a3c29cb7ac7e40e18309451b6f8a193bd">SnipRangesRowOp</a> (NnetComputation *computation, int32 command_index)</td></tr>
<tr class="separator:a3c29cb7ac7e40e18309451b6f8a193bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590c38bb0c9acc4ad1f626237f1a4169"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a590c38bb0c9acc4ad1f626237f1a4169">SnipRowOps</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:a590c38bb0c9acc4ad1f626237f1a4169"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function detects cases where commands of type kCopyRows, kAddRows, kAddRowsMulti, kAddToRowsMulti, kCopyRowsMulti, kCopyToRowsMulti or kAddRowRanges use indexes that start or end with -1's or equivalents, and replace them with similar commands that act on a sub-matrix of the matrices they are currently acting on.  <a href="namespacekaldi_1_1nnet3.html#a590c38bb0c9acc4ad1f626237f1a4169">More...</a><br /></td></tr>
<tr class="separator:a590c38bb0c9acc4ad1f626237f1a4169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd48d2ca65dc0a73952effbec24ccfb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#acd48d2ca65dc0a73952effbec24ccfb1">SplitRowOps</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:acd48d2ca65dc0a73952effbec24ccfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function detects cases where commands of type kAddRowsMulti, kAddToRowsMulti, kCopyRowsMulti, kCopyToRowsMulti use indexes that correspond to at most two submatrices, in two distinct ranges without gaps filled by -1's, and could be converted to at most two commands of type kMatrixAdd, kMatrixCopy, kAddRows or kCopyRows.  <a href="namespacekaldi_1_1nnet3.html#acd48d2ca65dc0a73952effbec24ccfb1">More...</a><br /></td></tr>
<tr class="separator:acd48d2ca65dc0a73952effbec24ccfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79122735e3f124a6865ff339f40ec191"><td class="memItemLeft" align="right" valign="top">static int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a79122735e3f124a6865ff339f40ec191">FindNStride</a> (const std::vector&lt; Index &gt; &amp;indexes, <a class="el" href="classbool.html">bool</a> full_check)</td></tr>
<tr class="separator:a79122735e3f124a6865ff339f40ec191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4426490c64581d8189bf8c671e5a893"><td class="memItemLeft" align="right" valign="top">static int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af4426490c64581d8189bf8c671e5a893">FindNStride</a> (const std::vector&lt; Cindex &gt; &amp;cindexes, <a class="el" href="classbool.html">bool</a> full_check)</td></tr>
<tr class="separator:af4426490c64581d8189bf8c671e5a893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1bed82d2cb5fbdc695bf32053117ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a4a1bed82d2cb5fbdc695bf32053117ad">ConvertNumNValues</a> (int32 n_stride, int32 old_N, int32 new_N, const std::vector&lt; Index &gt; &amp;indexes_in, std::vector&lt; Index &gt; *indexes_out)</td></tr>
<tr class="separator:a4a1bed82d2cb5fbdc695bf32053117ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8007bfceb176a3f8f7f3efb765c9062"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af8007bfceb176a3f8f7f3efb765c9062">ExpandComputation</a> (const Nnet &amp;nnet, const MiscComputationInfo &amp;misc_info, const NnetComputation &amp;computation, <a class="el" href="classbool.html">bool</a> need_debug_info, int32 num_n_values, NnetComputation *expanded_computation)</td></tr>
<tr class="memdesc:af8007bfceb176a3f8f7f3efb765c9062"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used in 'shortcut' compilation to expand a computation that has been compiled for exactly 2 'n' values, to one that is suitable for some num_n_values &gt; 2.  <a href="namespacekaldi_1_1nnet3.html#af8007bfceb176a3f8f7f3efb765c9062">More...</a><br /></td></tr>
<tr class="separator:af8007bfceb176a3f8f7f3efb765c9062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d88467d1a24ad6a2b21d4b8923615ca"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a4d88467d1a24ad6a2b21d4b8923615ca">IoSpecificationIsDecomposable</a> (const IoSpecification &amp;io_spec, IoSpecification *mini_io_spec, int32 *num_n_values_out)</td></tr>
<tr class="separator:a4d88467d1a24ad6a2b21d4b8923615ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a0b9eb6a79c232605aa83476d44bb0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a54a0b9eb6a79c232605aa83476d44bb0">RequestIsDecomposable</a> (const ComputationRequest &amp;request, ComputationRequest *mini_request, int32 *num_n_values)</td></tr>
<tr class="memdesc:a54a0b9eb6a79c232605aa83476d44bb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function, used in 'shortcut' compilation where we first compile a smaller computation with the same structure but only 2 distinct 'n' values, works out whether a computation is 'decomposable'; if so, it returns true and outputs the 'mini_request' with the same structure, and the number of 'n' values.  <a href="namespacekaldi_1_1nnet3.html#a54a0b9eb6a79c232605aa83476d44bb0">More...</a><br /></td></tr>
<tr class="separator:a54a0b9eb6a79c232605aa83476d44bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb347167ff71d1cd8a2ab35b6eb2f636"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#abb347167ff71d1cd8a2ab35b6eb2f636">OptimizeLoopedComputation</a> (const Nnet &amp;nnet, NnetComputation *computation)</td></tr>
<tr class="memdesc:abb347167ff71d1cd8a2ab35b6eb2f636"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function tries to optimize computation 'computation' for an 'looped' computation.  <a href="namespacekaldi_1_1nnet3.html#abb347167ff71d1cd8a2ab35b6eb2f636">More...</a><br /></td></tr>
<tr class="separator:abb347167ff71d1cd8a2ab35b6eb2f636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8953a6af8e449d7cc12efeb115c5f8d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a8953a6af8e449d7cc12efeb115c5f8d2">FixGotoLabel</a> (NnetComputation *computation)</td></tr>
<tr class="memdesc:a8953a6af8e449d7cc12efeb115c5f8d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function ensures that the arg1 of a final command of type kGotoLabel is the same as the command with type kNoOperationLabel.  <a href="namespacekaldi_1_1nnet3.html#a8953a6af8e449d7cc12efeb115c5f8d2">More...</a><br /></td></tr>
<tr class="separator:a8953a6af8e449d7cc12efeb115c5f8d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac879380727c26962a7aaa4a6de9dc4d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#ac879380727c26962a7aaa4a6de9dc4d4">MatrixIsUnused</a> (const Analyzer &amp;analyzer, const NnetComputation &amp;computation, int32 m)</td></tr>
<tr class="memdesc:ac879380727c26962a7aaa4a6de9dc4d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns true if matrix 1 &lt;= m &lt; computation-&gt;matrices.size() is unused, defined as: it is not an input or an output, and is not accessed other than via commands of type kAllocMatrix, kDeallocMatrix, and kSetConst.  <a href="namespacekaldi_1_1nnet3.html#ac879380727c26962a7aaa4a6de9dc4d4">More...</a><br /></td></tr>
<tr class="separator:ac879380727c26962a7aaa4a6de9dc4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af53fca33c55f05968eab8ec1009509e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#af53fca33c55f05968eab8ec1009509e6">RemoveCommandsForUnusedMatrix</a> (const Analyzer &amp;analyzer, int32 m, NnetComputation *computation)</td></tr>
<tr class="memdesc:af53fca33c55f05968eab8ec1009509e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function removes from 'computation' the commands accessing matrix 'm', which is assumed to be unused according to the <a class="el" href="namespacekaldi_1_1nnet3.html#ac879380727c26962a7aaa4a6de9dc4d4" title="This function returns true if matrix 1 &lt;= m &lt; computation-&gt;matrices.size() is unused, defined as: it is not an input or an output, and is not accessed other than via commands of type kAllocMatrix, kDeallocMatrix, and kSetConst. ">MatrixIsUnused()</a> command above.  <a href="namespacekaldi_1_1nnet3.html#af53fca33c55f05968eab8ec1009509e6">More...</a><br /></td></tr>
<tr class="separator:af53fca33c55f05968eab8ec1009509e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc731e05d6603b7d4d0191f9f1c9d32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a0cc731e05d6603b7d4d0191f9f1c9d32">InsertCommands</a> (std::vector&lt; std::pair&lt; int32, NnetComputation::Command &gt; &gt; *commands, NnetComputation *computation)</td></tr>
<tr class="memdesc:a0cc731e05d6603b7d4d0191f9f1c9d32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts commands into the computation at the requested places.  <a href="namespacekaldi_1_1nnet3.html#a0cc731e05d6603b7d4d0191f9f1c9d32">More...</a><br /></td></tr>
<tr class="separator:a0cc731e05d6603b7d4d0191f9f1c9d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b449e04f7115cc85d295440638fade"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacekaldi_1_1nnet3.html#a10b449e04f7115cc85d295440638fade">OptimizeMemoryCompression</a> (const Nnet &amp;nnet, int32 memory_compression_level, NnetComputation *computation)</td></tr>
<tr class="memdesc:a10b449e04f7115cc85d295440638fade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs optimization to reduce memory usage where possible, making use of the kCompressMatrix and kDecompressMatrix commands.  <a href="namespacekaldi_1_1nnet3.html#a10b449e04f7115cc85d295440638fade">More...</a><br /></td></tr>
<tr class="separator:a10b449e04f7115cc85d295440638fade"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_67a0a17020b8eedc08ffa5626b1d53a1.html">nnet3</a></li><li class="navelem"><a class="el" href="nnet-optimize-utils_8cc.html">nnet-optimize-utils.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
